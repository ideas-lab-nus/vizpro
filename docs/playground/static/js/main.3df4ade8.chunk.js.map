{"version":3,"sources":["../../dist/index.esm.js","App.js","reportWebVitals.js","index.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","this","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","minLen","n","toString","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","shallow_functions","Average","args","inputList","average_output","log_output","numericalListValidator","parseString","sum","error","type","Add","accumulator","operations","Multiply","mathOperator","logCompareOperator","Split","strOperator","Join","Includes","Replace","main_text","String","old_string","new_string","new_text","log","split","join","inputString","json_","JSON","parse","NaN","list_","Max","output","Math","max","Min","min","input_json","path","reduce","a","b","console","stringify","tracking","result_3d","project_id","parseInt","branch_id","commit_id","$","html","input_data","x","y","uniquePlotId","uuidv4","help_","plot_","to_html","to_dict","time_stamps","data","log_","hasOwnProperty","element","Timestamp","Value","objDict","timestamp","col_length","htmlQuery","_loop3","objToHtmlTable","input_url","URL","createObjectURL","_url","videoId","isNumeric","isNaN","parseFloat","isFinite","inputPreconditions","concat","includes","operator","InputList","undefined","arg0","arg1","deepComp","ch","d3$d","require","comp","chx","elementx","selectComp","GUID","inputs","map","input","url","select","attr","text","handleRequest","queryStr","urlCall","replace","fetch","then","res","alert","outputs","componentStatus","updatShallowCompRender","redrawDependents","setOutputs","reactContext$1","allComp","ACTIVE_COLOR","ERROR_COLOR","allEdges","comp_input_edges","comp_output_edges","edge_comp_matrix","parent_child_matrix","parent_child_matrix_fast_check","components_selection_data","runDeep","d3$c","dummyToSetState","state","ini","c","r","random","addCircle","CX","CY","Comp","addcomponent","guid","n_inputs","n_outputs","inputsIn","outputsIn","index","id","circle","textObj","Name","ShortName","shortName","Description","desc","Message","datatype","default_value","_unused","_index","_unused2","initComp","X","Y","width","height","numInputs","numOutputs","typeName","logo","status","selection","view","fill","rect","dftype","child","logText","optionListValues","Option_0","Option_1","Option_2","by","toreturn","addEdgeCircle","theEdge","thisD","circ","append","path_id","on","event","currentTarget","edge_to_be_deleted","components_of_the_edge","fromComp","toComp","prevLength","pathId","newLength","flagPCM","splice","edge","flagPCMFC","_i4","parent_child_info","setState","deleteEdge","remove","lower","handleEdgeMovement","updateAll","returnCurveString","x1","y1","x2","y2","coalignValue","abs","getlocationFromTransform","trnsformText","item","showDropDownList","compId","optionListComp","optionsGroup","option","_option","mouseInsideOption","changeOptionListFinalValue","el","thisComp","classList","attributes","parentComp","parent","inputGroup","file","d","calculateShallow","isUDODeep","calculateDeep","compKey","jsonStruct","checkJSONValidity","ReactDOM","render","React","createElement","ReactJson","src","document","getElementById","load","drawPlotComponent","visualizeSpatialComponent","newValues","val","message","setListViewHTML","Error","unparseData","options","Plotly","window","newPlot","title","responsive","layout","dataElement","maxValue","color","dataValue","marker","interpolateGnBu","edit_move_mode","mode","style","selectedOptions","ListItemsvalueReturn","objID","_loop","inputElement","circleindex","rectId","rectpos","xy2","itisthelocation","handlePathDeleteMovement","_loop2","_index2","outputElement","rectwidth","xy1","circleX","circleY","deleteComponent","component_to_be_deleted","component_to_be_reset","optionListStarted","_loop4","_i","thisEdgeId","otherComp","otherCompIndex","err","_loop5","_i2","_i3","Compstatus","runDeepFunction","globalVars","initEdgex1","initEdgey1","fromCircle","toCircle","selection_rectangle_group_rect","doubleClicked","date","IDLE_COLOR","COMPONENT_RADIUS","root_components","selected_components","StringAnchorclicked","StringAnchorType","StringAnchorId","XANCHOR","YANCHOR","XYANCHOR","ANCHOR_WIDTH","SLIDER_LENGTH","anchorMouseXpos","anchorMouseYpos","SliderAnchorclicked","selectedSliderComponent","dragX","dragY","sliderRectId","componentClickX","componentClickY","initPos","startDrag","clickedId","rectType","deltaX","deltaY","clicked","edgeStarted","targetcircleIN","selectedcircleId","targetcircleId","selectedSliderAnchorId","xGrid","yGrid","mousex","mousey","textareaStarted","textAreaRectId","optionlistRectid","justSelected","is_component_selected","selected_component_id","rightColumnIsSelected","leftColumnIsSelected","topColumnIsSelected","rightColIsdisplayed","leftColIsdisplayed","is_edge_selected","currentTopBarHeight","currentLeftColWidth","currentRightColWidth","messageshown","dataLoad","d3$b","manageCanvas","reactContext","svgContainer","allContents","zoom","selection_groud_selected","button","canvasX","transform","canvasY","css","innerWidth","clientX","trns","transition","duration","ease","easeLinear","d3$a","manageGrid","offsetLeft","offsetTop","selectAll","keyCode","elem","confirm","pointer","node","moveComponent","selectedRect","just_moved_component","current_components_selection","x0","y0","modified_string_comp","Grid","_Component","_super","className","patternUnits","xlinkHref","filter_id","filterUnits","in","dx","dy","stdDeviation","in2","offset","Component","d3$9","CreateNewComponent","newcomp","FromExisting","kwargs","outputList","one_character_width","padding","titleMargin","titleMarginLeft","longestInput","curr","longestOutput","ThisComponentName","dfType","genX","genY","cont","statusBar","InputGroup","OutputGroup","Titlegroup","InputGroupText","OutputGroupText","current_all_comp","current_comp_out","current_comp_in","addInputCirclesFunc","addOutputCirclesFunc","d3$8","CreateNewDeep","statusbar2","addInputCircles","addOutputCircles","Dummyrect","cirGroup","Titlegroup2","Titlegroup3","resize1","Title","playrect2","submitDeepEdit","guidList","inputDict","createInputDict","inputNames","createOutputDict","resize","d3$7","CreateNewFileUpload","size","substring","toFixed","selectedFile","files","thisFormId","fileName","fileSize","theCurrentComp","reader","FileReader","onload","readAsDataURL","d3$6","CreateNewListView","optionlist_predefined_items","OptionListValues","d3$5","CreateNewOptionList","d3$4","CreateNewPanel","data2","drag","newHeight","newWidth","entries","d3$3","countDecimals","floor","str","indexOf","addSlider","step","initSlider","CreateNewSlider","newSlider","anchorValue","current_slider","ValueTextGroup","SlidingGroup","anchorUpdate","slidingAnchor","anchorDragHandler","slider_anchor_value","slider_value","slope","scaledValue","round","d3$2","CreateNewToggle","cancelEdit","d3$1","getCurrentData","components","edges","canvas_transform","kXY","_groups","__zoom","saveData","fileData","localStorage","setItem","downloadData","blob","Blob","link","download","href","click","recreateSavedData","allData","k","allComponents","compSet","loadData","getItem","uploadSavedData","uploaded","readAsText","TopBar","_this","_this2","rel","onClick","clear","location","reload","hidden","htmlFor","display","rotate","ComponentTab","marginLeft","context","backgroundImage","PropertiesTab","LeftContainer","top","d3","handleComponentSelection","handleTheClickOnAllComponents","coordinates","pos","handleEdgeInitialization","toComponent","to","thisEdge","thisPath","current_edge_comp_matrix","from_index","to_index","handleDoubleClick","newName","panelComp","prop","plotError","StringComp","textVal","submitPanelEdit","optionListOptionsfromTextarea","forTheHTMLpreview","thedict","submitOptionListEdit","slider_component","minInput","maxInput","stepInput","currValInput","submitSliderEdit","currentToggle","toggleValue","details","shname","category","subcategory","tabIdMapping","toggleButtonInfo","addGenericComponentIcon","currInfo","outputNameList","newComp","addNewComponentIcon","imageUrl","newCompString","addRightToggleButton","parentDiv","currBtn","newToggleString","newToggle","panel_id","toolbarbuttonsContainer","show","hide","setCurrentCategory","typeList","dftypeList","categoryList","addNewUdo","calledFunc","undefInputs","undefOutputs","ref","insertAt","head","getElementsByTagName","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","Canvas","_React$Component","bind","list","func","addAllUdo","udo","tag","async","body","loadScript","backgroundColor","newComps","E","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.3df4ade8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport ReactJson from 'react-json-view';\nimport ReactDOM from 'react-dom';\nimport $ from 'jquery';\nimport '@fontsource/ubuntu-mono';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/*\n\n\n\n\n\n\n\n\n\n\n\n\n\n*/\nvar shallow_functions = {\n  //Basics\n  // Arithmetic functions\n  Average: average,\n  Add: add,\n  Multiply: multiply,\n  'Add 2': add2,\n  'Multiply 2': multiply2,\n  'divide 2': divide2,\n  'Difference 2': subtract2,\n  'power 2': exponent2,\n  '&&': and,\n  '||': or,\n  '==': equal,\n  '>': greater,\n  '<': less,\n  // String operations\n  Split: split,\n  Join: join,\n  Includes: includes,\n  Replace: replace,\n  'String to Json': str2Json,\n  // List\n  'String To List': str2lst,\n  Max: max,\n  Min: min,\n  // Json objects\n  'Json Navigator': jsonNavigator,\n  // Plotting\n  'Plot Panel': plot_panel_comp,\n  // 3D viewer\n  'Draw 3d Model': draw3dModel,\n  // OSI Soft\n  'OSI Extract TimeSeries Data': osiExtractTimeSeriesData,\n  '3d Visualizer': draw3dObject,\n  'Image Display': imDisplay,\n  'YouTube Display': youTubeDisplay\n};\n/**\n * Function to check if numeric or string input is a valid number after parsing\n * @return {boolean} True if n is a valid number and False otherwise\n */\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n/**\n * @return {boolean} True if n is boolean and False otherwise\n */\n\n\nfunction isBoolean(n) {\n  return typeof n === 'boolean';\n}\n/**\n * @return {JSON} if param n is a valid Javascript object\n */\n\n\nfunction parseString(n) {\n  try {\n    if (typeof n === 'string' || n instanceof String) {\n      n = JSON.parse(n);\n    }\n\n    return n;\n  } catch (error) {\n    console.log(error);\n  }\n}\n/*\n * Preconditions to check that args is an array and array.length is not\n * less than number of inputs n\n */\n\n\nfunction inputPreconditions(args, n) {\n  // args = parseString(args); // args is always a normal list\n  if (!(args instanceof Array)) {\n    throw new TypeError('args must be an array ');\n  }\n}\n/*\nARITHMETIC OPERATORS\n*/\n// dictionary to store basic math operators\n\n\nvar operations = {\n  '+': (a, b) => a + b,\n  '-': (a, b) => a - b,\n  '*': (a, b) => a * b,\n  '/': (a, b) => a / b,\n  '^': (a, b) => a ** b,\n  '&&': (a, b) => a && b,\n  '||': (a, b) => a || b,\n  '==': (a, b) => a === b,\n  '>': (a, b) => a > b,\n  '<': (a, b) => a < b,\n  split: (a, b) => a.split(b),\n  join: (a, b) => a.concat(b),\n  includes: (a, b) => a.includes(b)\n};\n/**\n * @param {array} args - An array of inputs to an object where\n *                 args[0] is an array of floats/string\n * @param {function} operator - Mathematical operator to apply to array\n * @return {float} the result of applying operator to the array args\n */\n\nfunction accumulator(args, operator) {\n  args = parseString(args); // --> this line is not needed as agrs will always be a list from the backend\n  // preconditions\n  // Assume args[0] is the input of interest and only args[0] is used\n\n  inputPreconditions(args); // args = parseString(args); ---> args is always a normal list, no need to validate it.\n  // initialize variables\n\n  var InputList = parseString(args[0]); // I would prefer to name it as the component name.\n\n  var output = null;\n  var log = 'Success!';\n  var n;\n  var i;\n\n  if (InputList === null || InputList === undefined) {\n    return {\n      type: ['text', 'text'],\n      value: [null, 'Unable to convert input to a list of numbers']\n    };\n  } else {\n    for (i = 0; i < InputList.length; i++) {\n      n = parseFloat(InputList[i]); // convert string to float\n\n      if (!isNumeric(n)) {\n        log = n + ' is not numeric';\n        return {\n          type: ['text', 'text'],\n          value: [null, log]\n        };\n      }\n\n      if (i > 0) {\n        output = operator(output, n);\n      } else {\n        output = n;\n      }\n    }\n\n    return {\n      type: ['text', 'text'],\n      value: [output, log]\n    };\n  }\n}\n/**\n * Mathematical operation between two numbers.\n * @param {array} args - An array of inputs to an object where\n *                 args[0] and args[1] are numbers\n * @param {function} operator - Mathematical operator to apply in the form\n *                           args[0] (operator) args[1]\n * @return {float} the result of applying operator\n */\n\n\nfunction mathOperator(args, operator) {\n  // preconditions\n  // assumes args[0] and args[1] are accesible and are numeric\n  inputPreconditions(args); // args = parseString(args);\n  // initialize variables\n\n  var log = 'Success!';\n  var arg0 = parseFloat(args[0]);\n  var arg1 = parseFloat(args[1]);\n  var output;\n\n  if (!isNumeric(arg0) || !isNumeric(arg1)) {\n    log = arg0 + ' or ' + arg1 + ' is not numeric';\n    output = null;\n  }\n\n  output = operator(arg0, arg1);\n  return {\n    type: ['text', 'text'],\n    value: [output, log]\n  };\n} // TODO: test functions add/subtract/multiply/average\n// TODO: include docstrings for functions add/subtract/multiply/average\n\n/**\n * @return sum of all numbers in an Array\n */\n\n\nfunction add(args) {\n  return accumulator(args, operations['+']);\n}\n/**\n * @return product of all numbers in an Array\n */\n\n\nfunction multiply(args) {\n  return accumulator(args, operations['*']);\n}\n/**\n * @return args[0] + args[1]\n */\n\n\nfunction add2(args) {\n  return mathOperator(args, operations['+']);\n}\n/**\n * @return args[0] - args[1]\n */\n\n\nfunction subtract2(args) {\n  return mathOperator(args, operations['-']);\n}\n/**\n * @return args[0] * args[1]\n */\n\n\nfunction multiply2(args) {\n  return mathOperator(args, operations['*']);\n}\n/**\n * @return args[0] / args[1]\n */\n\n\nfunction divide2(args) {\n  return mathOperator(args, operations['/']);\n}\n/**\n * @return args[0] ** args[1]\n */\n\n\nfunction exponent2(args) {\n  return mathOperator(args, operations['^']);\n}\n\nfunction numericalListValidator(inputList) {\n  for (let i = 0; i < inputList.length; i++) {\n    var n = inputList[i];\n\n    if (typeof n === 'string' || n instanceof String) {\n      console.log('Someproblem here');\n      inputList[i] = parseFloat(n);\n    }\n  }\n\n  return inputList;\n}\n\nfunction sum(inputList) {\n  inputList = parseString(inputList);\n  inputList = numericalListValidator(inputList);\n  var sum = 0;\n\n  for (let i = 0; i < inputList.length; i++) {\n    sum += inputList[i];\n  }\n\n  return sum;\n}\n\nfunction average(args) {\n  var inputList = args[0];\n  var average_output = null;\n  var log_output = 'Success!';\n\n  try {\n    //Validation:\n    inputList = parseString(inputList);\n    inputList = numericalListValidator(inputList);\n    average_output = sum(inputList) / inputList.length;\n  } catch (error) {\n    log_output = error;\n    average_output = null;\n  }\n\n  return {\n    type: ['text', 'text'],\n    value: [average_output, log_output]\n  };\n}\n/*\nLOGICAL and COMPARISON OPERATORS\n*/\n\n/**\n * @param {array} args - An array of inputs to an object where\n *                 args[0] and args[1] are inputs\n * @param {function} operator - logical/comparison operator to apply in the form\n *                           args[0] (operator) args[1]\n * @return {boolean} the result of applying operator\n */\n\n\nfunction logCompareOperator(args, operator) {\n  // preconditions\n  // assumes args[0] and args[1] are accesible and are numeric\n  inputPreconditions(args);\n  args = parseString(args); // initialize variables\n\n  var log = 'Success!';\n  var arg0 = parseString(args[0]);\n  var arg1 = parseString(args[1]);\n  var output = operator(arg0, arg1);\n\n  if (!isBoolean(output)) {\n    log = output + ' is not boolean';\n    output = null;\n  }\n\n  return {\n    type: ['text', 'text'],\n    value: [output, log]\n  };\n}\n/*\n * logical AND with short circuit\n * @return args[0] && args[0]\n */\n\n\nfunction and(args) {\n  return logCompareOperator(args, operations['&&']);\n}\n/*\n * logical OR with short circuit\n * @return args[0] && args[0]\n */\n\n\nfunction or(args) {\n  return logCompareOperator(args, operations['||']);\n}\n/*\nCOMPARISON OPERATORS\n*/\n// TODO: docstrings\n\n\nfunction equal(args) {\n  return logCompareOperator(args, operations['==']);\n}\n\nfunction greater(args) {\n  return logCompareOperator(args, operations['>']);\n}\n\nfunction less(args) {\n  return logCompareOperator(args, operations['<']);\n}\n/*\nString functions\n*/\n\n/**\n * @param {array} args - An array of inputs to an object where\n * @return  {array} an array containing the split values\n */\n\n\nfunction strOperator(args, operator) {\n  args = parseString(args); // initialize variables\n\n  var log = 'Success!';\n  var arg0 = String(args[0]);\n  var arg1 = String(args[1]);\n  var output;\n\n  try {\n    output = operator(arg0, arg1);\n  } catch (error) {\n    output = NaN;\n    log = error;\n  }\n\n  return {\n    type: ['text', 'text'],\n    value: [output, log]\n  };\n}\n/**\n * @param {array} args - An array of inputs to an object where\n *                 args[0] is the string and args[1] is the dilimter\n * @return  {array} an array containing the split values\n */\n\n\nfunction split(args) {\n  return strOperator(args, operations['split']);\n}\n/**\n * @return  {String} A new String containing the text of the combined strings\n */\n\n\nfunction join(args) {\n  return strOperator(args, operations['join']);\n}\n/**\n * @return {boolean} true if the string contains the value,\n *                    otherwise it returns false\n */\n\n\nfunction includes(args) {\n  return strOperator(args, operations['includes']);\n}\n/**\n * @param {array} args - An array of inputs to an object where\n * @return {array} A new String, where the specified value(s)\n *               has been replaced by the new value\n */\n\n\nfunction replace(args) {\n  // initialize variables\n  // inputs 3\n  var main_text = String(args[0]);\n  var old_string = String(args[1]);\n  var new_string = String(args[2]); // outputs 3\n\n  var help_ = `\n    <div id=\"help_t3\">about: </div>\n    <div id=\"help_p\">This component replaces all the occurences of a specific string in a text with newer one</div>\n\n        <div id=\"help_t3\">Inputs: </div>\n\n            <div id=\"help_t4\">main_text</div>\n            <div id=\"help_p\">The text body</div>\n\n            <div id=\"help_t4\">old_string</div>\n            <div id=\"help_p\">String to be replaced</div>\n\n            <div id=\"help_t4\">new_string</div>\n            <div id=\"help_p\">String to replace the old string</div>\n    `;\n  var new_text = null;\n  var log = 'Success!';\n\n  try {\n    new_text = main_text.split(old_string).join(new_string); // This process replaces all the occurences of the old string in the text.\n  } catch (error) {\n    new_text = null;\n    log = error;\n  }\n\n  return {\n    type: ['html', 'text', 'text'],\n    value: [help_, new_text, log]\n  };\n} // this comments seems not updated\n\n/**\n * This function returns the sum of two numbers.\n * @param    {array} args Inputs as a list of floats.\n * @return   {float} the average between two numbers args[0] and args[1].\n */\n\n\nfunction str2lst(args) {\n  //inputs\n  var inputString = String(args[0]); //outputs\n\n  var help_ = `\n    <div id=\"help_t3\">about: </div>\n    <div id=\"help_p\">This component converts a string-like list into a list eg : \n    <span id='code'>\"[1, 2, 3, 4]\"</span> will return <span id='code'>[1, 2, 3, 4]</span></div>\n\n        <div id=\"help_t3\">Inputs: </div>\n\n            <div id=\"help_t4\">inputString</div>\n            <div id=\"help_p\">a string-like list</div>\n\n        <div id=\"help_t3\">Outputs: </div>\n\n            <div id=\"help_t4\">list_</div>\n            <div id=\"help_p\">the parsed list</div>\n\n    `;\n  var log = 'Success';\n  var list_ = null;\n\n  try {\n    list_ = JSON.parse(inputString);\n  } catch (error) {\n    list_ = NaN;\n    log = error;\n  }\n\n  return {\n    type: ['html', 'text', 'text'],\n    value: [help_, list_, log]\n  };\n}\n\nfunction str2Json(args) {\n  //inputs\n  var inputString = String(args[0]); //outputs\n\n  var help_ = `\n    <div id=\"help_t3\">about: </div>\n    <div id=\"help_p\">This component converts a string-like json object into a json object eg : \n    <span id='code'>\"{'name': 'SDE4' , 'height' : 24.0}\"</span> will return <span id='code'>{'name': 'SDE4' , 'height' : 24.0}</span></div>\n\n        <div id=\"help_t3\">Inputs: </div>\n\n            <div id=\"help_t4\">inputString</div>\n            <div id=\"help_p\">a string-like json object</div>\n\n        <div id=\"help_t3\">Outputs: </div>\n\n            <div id=\"help_t4\">json_</div>\n            <div id=\"help_p\">the parsed json object</div>\n\n    `;\n  var json_ = null;\n  var log = 'Success';\n\n  try {\n    json_ = JSON.parse(inputString);\n  } catch (error) {\n    json_ = NaN;\n    log = error;\n  }\n\n  return {\n    type: ['html', 'text', 'text'],\n    value: [help_, json_, log]\n  };\n}\n/**\n * This function returns the maximum value between a list of inputs.\n * @param {array} args - An array of Numbers (float/int).\n * @return {float} the average of all numbers in an array.\n */\n\n\nfunction max(args) {\n  // initialize variables\n  var log = 'Success!';\n  var output;\n\n  try {\n    if (typeof args[0] === 'string' || args[0] instanceof String) {\n      args[0] = JSON.parse(args[0]);\n    }\n\n    output = Math.max(...args[0]);\n  } catch (error) {\n    log = error;\n    output = null;\n  }\n\n  return {\n    type: ['text', 'text'],\n    value: [output, log]\n  };\n}\n/**\n * This function returns the minimum value between a list of inputs.\n * @param {array} args\n * @return {float} the average of all numbers in an array.\n */\n\n\nfunction min(args) {\n  // initialize variables\n  var log = 'Success!';\n  var output;\n\n  try {\n    if (typeof args[0] === 'string' || args[0] instanceof String) {\n      args[0] = JSON.parse(args[0]);\n    }\n\n    output = Math.min(...args[0]);\n  } catch (error) {\n    log = error;\n    output = null;\n  }\n\n  return {\n    type: ['text', 'text'],\n    value: [output, log]\n  };\n}\n\nfunction draw3dModel(args) {\n  /**\n   * This function returns the minimum value between a list of inputs.\n   * @param {array} args\n   * @return {json} json string indicating the 3d geometry\n   */\n  var tracking = args[0];\n  var result_3d = null;\n  var log = 'success';\n  var project_id = parseInt(tracking.split('-')[0]);\n  var branch_id = parseInt(tracking.split('-')[1]);\n  var commit_id = parseInt(tracking.split('-')[2]);\n\n  if (tracking == null || tracking === 'null') {\n    log = 'drawing';\n    result_3d = '<a href = \"https://my.buildsim.io/IDF3DSimpleViewerSocket.html?project_id=' + project_id + '&branch_id=' + branch_id + '&commit_id=' + commit_id + '&stand_alone_token=b21df01da249eef60e56660f1d3f4bab-y8xlwk-19&full_screen=true\">Open in new window</a>';\n    $('div#propertiesBarContents').html('<iframe src=\"https://my.buildsim.io/IDF3DSimpleViewerSocket.html?project_id=' + project_id + '&branch_id=' + branch_id + '&commit_id=' + commit_id + '&stand_alone_token=b21df01da249eef60e56660f1d3f4bab-y8xlwk-19&full_screen=true\" style=\"width:100%; height:100vh;\"></iframe>');\n    return {\n      type: ['html', 'text'],\n      value: [result_3d, log]\n    };\n  } else {\n    try {\n      project_id = parseInt(tracking.split('-')[0]);\n      branch_id = parseInt(tracking.split('-')[1]);\n      commit_id = parseInt(tracking.split('-')[2]);\n      result_3d = '<a href = \"https://my.buildsim.io/IDF3DSimpleViewerSocket.html?project_id=' + project_id + '&branch_id=' + branch_id + '&commit_id=' + commit_id + '&stand_alone_token=b21df01da249eef60e56660f1d3f4bab-y8xlwk-19&full_screen=true\">Open in new window</a>';\n      $('div#propertiesBarContents').html('<iframe src=\"https://my.buildsim.io/IDF3DSimpleViewerSocket.html?project_id=' + project_id + '&branch_id=' + branch_id + '&commit_id=' + commit_id + '&stand_alone_token=b21df01da249eef60e56660f1d3f4bab-y8xlwk-19&full_screen=true\" style=\"width:100%; height:100vh;\"></iframe>');\n      $('div#propertiesBarContents').html('<iframe src=\"https://my.buildsim.io/IDF3DSimpleViewerSocket.html?project_id=' + project_id + '&branch_id=' + branch_id + '&commit_id=' + commit_id + '&stand_alone_token=b21df01da249eef60e56660f1d3f4bab-y8xlwk-19&full_screen=true\" style=\"width:100%; height:100vh;\"></iframe>');\n      return {\n        type: ['html', 'text'],\n        value: [result_3d, log]\n      };\n    } catch (error) {\n      result_3d = null;\n      log = error;\n      $('div#propertiesBarContents').html('<iframe src=\"https://my.buildsim.io/IDF3DSimpleViewerSocket.html?project_id=' + project_id + '&branch_id=' + branch_id + '&commit_id=' + commit_id + '&stand_alone_token=b21df01da249eef60e56660f1d3f4bab-y8xlwk-19&full_screen=true\" style=\"width:100%; height:100vh;\"></iframe>');\n      return {\n        type: ['html', 'text'],\n        value: [result_3d, log]\n      };\n    }\n  }\n}\n/**\n * This function allow user to select specific branch of a json object\n * @param {array} args\n * @param args[0]: input_json [string], the json input e.g. {0: \"Google\", 1: \"Facebook\", 2:{\"data\": \"no-data\", \"value\": 123}}\n * @param args[1]: path [list], a list or a list-like string that represents the path to the requird object . eg: [2, \"data\"]\n * @return {json} json string indicating the 3d geometry\n */\n\n\nfunction jsonNavigator(args) {\n  var input_json = args[0];\n  var path = args[1];\n  var output = null;\n  var log = 'Success';\n\n  try {\n    input_json = parseString(input_json);\n    path = parseString(path);\n\n    if (path.length > 1) {\n      output = path.reduce((a, b) => {\n        return input_json[a][b];\n      });\n    } else {\n      output = input_json[path[0]];\n      console.log(output);\n    }\n\n    return {\n      type: ['json', 'text'],\n      value: [JSON.stringify(output), log]\n    };\n  } catch (error) {\n    log = error;\n    return {\n      type: ['text', 'text'],\n      value: [output, log]\n    };\n  }\n}\n/**\n * This function draws iframe\n * @param {array} args\n * @return {json}\n */\n\n\nfunction draw3dObject(args) {\n  var input_url = args[0];\n\n  if (typeof input_url !== 'string') {\n    input_url = URL.createObjectURL(input_url);\n  }\n\n  var outpur_iframe = '<iframe src=\"' + input_url + '\"></iframe>';\n  return {\n    type: ['html'],\n    value: [outpur_iframe]\n  };\n}\n/**\n * This function accepts the OSI-soft data record and return a plot-ly\n * @param {array} args\n * @return {json}\n */\n\n\nfunction osiExtractTimeSeriesData(args) {\n  var input_data = args[0];\n  var x = [];\n  var y = [];\n  var uniquePlotId = uuidv4('plot_');\n  var help_ = `\n    <div id=\"help_t3\">about: </div>\n    <div id=\"help_p\">This component extracts the plotting data from OSIsoft end point</div>\n\n        <div id=\"help_t3\">Inputs: </div>\n\n            <div id=\"help_t4\">plot_</div>\n            <div id=\"help_p\">Timeseries plot </div>\n\n            <div id=\"help_t4\">to_html</div>\n            <div id=\"help_p\">table representing the data </div>\n\n            <div id=\"help_t4\">to_dict</div>\n            <div id=\"help_p\">data as json object </div>\n\n            <div id=\"help_t4\">time_stamps</div>\n            <div id=\"help_p\">list of time stamps </div>\n\n            <div id=\"help_t4\">data</div>\n            <div id=\"help_p\">list of data </div>\n\n            <div id=\"help_t4\">log_</div>\n            <div id=\"help_p\">Timeseries plot </div>\n\n     `;\n  var output_dataframe = null;\n  var plot_ = null;\n  var to_html = null;\n  var to_dict = null;\n  var time_stamps = null;\n  var data = null;\n  var log_ = 'Success';\n\n  try {\n    input_data = parseString(input_data);\n\n    if (input_data != null) {\n      for (const key in input_data['Items']) {\n        if (input_data['Items'].hasOwnProperty(key)) {\n          const element = input_data['Items'][key];\n          x.push(element.Timestamp);\n          y.push(element.Value);\n        }\n      }\n    }\n\n    time_stamps = JSON.stringify(x);\n    data = JSON.stringify(y);\n    var objDict = {\n      timestamp: x,\n      data: y\n    };\n    to_html = objToHtmlTable(objDict);\n    to_dict = JSON.stringify(objDict);\n    output_dataframe = JSON.stringify(objDict);\n    plot_ = \"<div id='\" + uniquePlotId + \"' style='width:100%; height:100%'></div>\" + `<script>\n        x_values = ` + JSON.stringify(x).split('\"').join(\"'\") + `;\n        y_values = ` + JSON.stringify(y).split('\"').join(\"'\") + `;\n        var data = [{x: x_values,y: y_values,type: 'scatter'}];\n        Plotly.newPlot('` + uniquePlotId + `', data, {responsive: true});`;\n    return {\n      type: ['html', 'html', 'html', 'json', 'json', 'json', 'text'],\n      value: [help_, plot_, to_html, to_dict, time_stamps, data, log_]\n    };\n  } catch (error) {\n    console.log(error);\n    log_ = error;\n    return {\n      type: ['html', 'html', 'html', 'json', 'json', 'json', 'text'],\n      value: [help_, plot_, to_html, to_dict, time_stamps, data, log_]\n    };\n  }\n}\n/**\n* This function draws iframe\n* @param {array} args\n* @return {html}\n*/\n\n\nfunction imDisplay(args) {\n  var _url = args[0];\n  var image_ = null;\n\n  if (_url == null) {\n    image_ = `<img src=\"https://user-images.githubusercontent.com/6969514/60951247-4bac1200-a32b-11e9-8b66-02bc19953461.png\" style=\"width:100%; height:100%\">`;\n    return {\n      type: ['html'],\n      value: [image_]\n    };\n  } else {\n    image_ = `<img src=\"` + _url + `\" style=\"width:100%; height:100%\">`;\n    return {\n      type: ['html'],\n      value: [image_]\n    };\n  }\n} //<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/05d6yEsfuNw\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n\nfunction youTubeDisplay(args) {\n  /**\n   * This function draws iframe\n   * @param {array} args\n   * @return {html}\n   */\n  var _url = args[0];\n  var youTube_ = null;\n\n  if (_url == null) {\n    youTube_ = `<img src=\"https://user-images.githubusercontent.com/6969514/60952698-50be9080-a32e-11e9-9aba-b5380f5cda01.png\" style=\"width:100%; height:100%\">`;\n    return {\n      type: ['html'],\n      value: [youTube_]\n    };\n  } else {\n    try {\n      var videoId = _url.split('watch?v=')[1].split('&')[0];\n\n      youTube_ = `<iframe width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/` + videoId + `\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n      return {\n        type: ['html'],\n        value: [youTube_]\n      };\n    } catch {\n      youTube_ = `<img src=\"https://user-images.githubusercontent.com/6969514/60952698-50be9080-a32e-11e9-9aba-b5380f5cda01.png\" style=\"width:100%; height:100%\">`;\n      return {\n        type: ['html'],\n        value: [youTube_]\n      };\n    }\n  }\n}\n\nfunction plot_panel_comp(args) {\n  var inputs = args[0];\n  return {\n    type: ['plot', 'text'],\n    value: [inputs, 'to be stated later .. ']\n  };\n}\n/**\n * This is the core function that runs all the calculations and return the outputs to the components.\n * @param    {string} compId The component GUID.\n */\n\n\nfunction calculateShallow(compId) {\n  var thisComp = selectComp(compId); // selects the component that is under test.\n\n  var inputGroup = []; // reads the inputs from the component and put them in a list to be mapped to the corresponding shallow function.\n\n  thisComp.inputs.forEach(input => {\n    if (typeof input !== 'string' && input.file !== undefined) {\n      inputGroup.push(input.file);\n    } else {\n      inputGroup.push(input.value);\n    }\n  });\n  var d = shallow_functions[thisComp.Name](inputGroup);\n\n  if (d.type.length !== thisComp.outputs.length || d.value.length !== thisComp.outputs.length) {\n    alert(\"The number of outputs does not match the number of values in the return function. Please check again\");\n  } else {\n    thisComp.outputs.forEach(function (output, i) {\n      output.value = d['value'][i];\n      output.type = d['type'][i];\n    });\n    return d;\n  }\n}\n\nvar d3$d = require('d3');\n\nvar deepComp;\nvar ch;\nvar element;\n\nasync function calculateDeep(comp, chx, elementx) {\n  ch = chx;\n  element = elementx;\n  deepComp = selectComp(comp.GUID);\n  var args = deepComp.inputs.map(input => input.value);\n  var url = deepComp.url;\n  d3$d.select('rect#statusRect' + comp.GUID).attr('fill', '#aa0000');\n  d3$d.select('text#statusText' + comp.GUID).attr('fill', '#ffffff').text('Fetching...');\n  await handleRequest(args, url);\n  d3$d.select('rect#statusRect' + comp.GUID).attr('fill', '#02521b');\n  d3$d.select('text#statusText' + comp.GUID).attr('fill', '#6cff13').text('Active');\n}\n\nfunction handleRequest(args, url) {\n  var queryStr = '';\n\n  for (let i = 1; i <= args.length; i++) {\n    queryStr += '&p' + i + '=' + args[i - 1];\n  } //Replace first  & with  ?\n\n\n  var urlCall = url + queryStr.replace('&', '?');\n  var result = fetch(urlCall).then(res => res.text()).then(result => {\n    console.log(result);\n    return {\n      type: ['text', 'text'],\n      value: [result, \"Success\"]\n    };\n  }, error => {\n    console.log(error);\n    alert(error);\n    return {\n      type: ['text', 'text'],\n      value: [null, error]\n    };\n  }).then(result => setOutputs(result));\n  return result;\n}\n\nfunction setOutputs(result) {\n  try {\n    deepComp.outputs.forEach(function (output, i) {\n      output.type = result['type'][i];\n      output.value = result['value'][i];\n    });\n  } catch (error) {\n    console.log(error);\n    alert(error);\n  }\n\n  ch.inputs[element[2]].value = deepComp.outputs[element[0]].value;\n  ch.inputs[element[2]].type = deepComp.outputs[element[0]].type;\n  componentStatus(deepComp.GUID, 'green');\n  updatShallowCompRender(ch);\n  redrawDependents(ch.GUID);\n}\n\nvar d3$c = require('d3');\n\nvar reactContext$1;\nvar allComp;\nvar ACTIVE_COLOR;\nvar ERROR_COLOR;\nvar allEdges;\nvar comp_input_edges;\nvar comp_output_edges;\nvar edge_comp_matrix;\nvar parent_child_matrix;\nvar parent_child_matrix_fast_check;\nvar components_selection_data;\nvar runDeep;\n\nfunction dummyToSetState() {\n  reactContext$1 = this;\n  allComp = reactContext$1.state.allComp;\n  ACTIVE_COLOR = reactContext$1.state.ACTIVE_COLOR;\n  ERROR_COLOR = reactContext$1.state.ERROR_COLOR;\n  allEdges = reactContext$1.state.allEdges;\n  comp_input_edges = reactContext$1.state.comp_input_edges;\n  comp_output_edges = reactContext$1.state.comp_output_edges;\n  edge_comp_matrix = reactContext$1.state.edge_comp_matrix;\n  parent_child_matrix = reactContext$1.state.parent_child_matrix;\n  parent_child_matrix_fast_check = reactContext$1.state.parent_child_matrix_fast_check;\n  components_selection_data = reactContext$1.state.components_selection_data;\n  runDeep = reactContext$1.state.runDeep;\n}\n\nfunction uuidv4(ini) {\n  return ini + 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nfunction addCircle() {\n  var initCircle = {\n    GUID: uuidv4('C'),\n    element: null,\n    CX: 0,\n    CY: 0,\n    Comp: null,\n    type: 'data',\n    path: null\n  };\n  return initCircle;\n}\n\nfunction addcomponent(guid) {\n  var n_inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n  var n_outputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n  var inputsIn = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5 * ['input'];\n  var outputsIn = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 5 * ['output'];\n  var inputs = [];\n  var outputs = [];\n\n  for (var index = 0; index < n_inputs; index++) {\n    try {\n      inputs.push({\n        id: index,\n        circle: null,\n        textObj: null,\n        Name: inputsIn[index].name,\n        ShortName: inputsIn[index].shortName,\n        Description: inputsIn[index].desc,\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: inputsIn[index].default_value\n      });\n    } catch (_unused) {\n      inputs.push({\n        id: index,\n        circle: null,\n        textObj: null,\n        Name: '',\n        ShortName: '',\n        Description: '',\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: ''\n      });\n    }\n  }\n\n  for (var _index = 0; _index < n_outputs; _index++) {\n    try {\n      outputs.push({\n        id: _index,\n        circle: null,\n        textObj: null,\n        Name: outputsIn[_index],\n        ShortName: outputsIn[_index],\n        Description: outputsIn[_index].desc,\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: null\n      });\n    } catch (_unused2) {\n      outputs.push({\n        id: _index,\n        circle: null,\n        textObj: null,\n        Name: '',\n        ShortName: '',\n        Description: '',\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: null\n      });\n    }\n  }\n\n  var initComp = {\n    GUID: guid,\n    X: 0,\n    Y: 0,\n    width: 120,\n    height: 50,\n    Name: 'Component',\n    ShortName: 'Comp',\n    Description: 'Dummy component',\n    Message: 'short description',\n    numInputs: 3,\n    numOutputs: 2,\n    typeName: null,\n    logo: null,\n    type: 'component',\n    state: 'unbound',\n    status: 'idle',\n    selection: 'selectable',\n    view: 'visible',\n    // hidden , disabled\n    fill: '#303952',\n    rect: null,\n    inputs: inputs,\n    outputs: outputs,\n    dftype: 'dp',\n    value: 'no value',\n    child: false,\n    log: {\n      logText: ' Log message output.. '\n    },\n    optionListValues: {\n      Option_0: 0,\n      Option_1: 1,\n      Option_2: 2.0\n    }\n  };\n  return initComp;\n} //End of addcomponent\n\n/**\n * Gets the detail of a component given that the \"by\" value of that component equal to \"value\"\n * @param {*} value the value of the component need to be searched\n * @param {*} by the search field, by default, this field is the GUID of the component\n * @returns\n */\n\n\nfunction selectComp(value) {\n  var by = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GUID';\n  var toreturn = null;\n  allComp.forEach(function (element) {\n    if (element[by] === value) {\n      toreturn = element;\n    }\n  });\n  return toreturn;\n} // End of selectComp\n\n\nfunction addEdgeCircle(theEdge, thisD) {\n  var circ = d3$c.select('g#allPaths').append('rect').attr('id', 'pathCircle' + theEdge.path_id).attr('rx', 100).attr('ry', 100).attr('width', 15).attr('height', 15).attr('fill', 'red').attr('opacity', 0.3).attr('style', 'display:none').on('mousemove', function (event) {\n    d3$c.select(event.currentTarget).attr('opacity', 0.8);\n    d3$c.select('path#' + theEdge.path_id).attr('stroke', 'red').attr('stroke-width', 4).attr('stroke-dasharray', '5 5');\n  }).on('mouseout', function (event) {\n    d3$c.select(event.currentTarget).attr('opacity', 0.3);\n    d3$c.select('path#' + theEdge.path_id).attr('stroke', 'black').attr('stroke-width', 5).attr('stroke-dasharray', 4);\n  }).on('mousedown', function (event) {\n    deleteEdge(theEdge.path_id);\n    d3$c.select(event.currentTarget).remove();\n    d3$c.select('path#' + theEdge.path_id).remove();\n  });\n  d3$c.select('#' + theEdge.path_id).attr('stroke-width', '5').attr('d', function () {\n    return thisD.replace('L', 'C');\n  }).attr('stroke', 'black').attr('stroke-linecap', 'round').attr('stroke-opacity', '0.5').lower();\n\n  try {\n    handleEdgeMovement(theEdge.toComp[1]);\n  } catch (error) {}\n\n  try {\n    handleEdgeMovement(theEdge.fromComp[1]);\n  } catch (error) {}\n\n  return circ;\n}\n\nfunction updateAll() {\n  allEdges.forEach(function (element) {\n    var thisD = $('path#' + element.path_id).attr('d');\n    addEdgeCircle(element, thisD);\n  });\n} // End of updateAll\n\n\nfunction returnCurveString(x1, y1, x2, y2) {\n  var coalignValue;\n\n  if (x2 < x1) {\n    coalignValue = Math.abs(y2 - y1) / 5.0 + Math.abs(x2 - x1) * 1.5;\n  } else {\n    coalignValue = Math.abs(y2 - y1) / 5.0;\n  }\n\n  return 'M ' + x1 + ',' + y1 + ' ' + 'C ' + ((x1 + x2) / 2.0 + coalignValue).toString() + ',' + y1 + ' ' + ((x1 + x2) / 2.0 - coalignValue).toString() + ',' + y2 + ' ' + x2 + ',' + y2;\n} // End of returnCurveString\n\n\nfunction getlocationFromTransform(trnsformText) {\n  return trnsformText.replace('translate(', '').replace(')', '').split(',').map(function (item) {\n    return parseFloat(item, 10);\n  });\n} // End of getlocationFromTransform\n\n\nfunction showDropDownList(compId) {\n  var optionListComp = selectComp(compId);\n  var n = 0;\n  d3$c.select('g#comp-' + compId);\n  var optionsGroup = d3$c.select('g#optionListOption-' + compId);\n  optionsGroup.html('');\n\n  for (var option in optionListComp.optionListValues) {\n    if (optionListComp.optionListValues.hasOwnProperty(option)) {\n      n += 1;\n      optionsGroup.append('text').attr('fill', 'black').attr('class', 'optionListoptiontext ' + optionListComp.GUID + ' ' + optionListComp.optionListValues[option] + ' ' + option).attr('data-testid', 'optionText').attr('value', option).attr('key', optionListComp.optionListValues[option]).attr('width', '180').text(option).attr('y', 15 + 20 * n).attr('x', 5);\n    }\n  }\n\n  n = 0;\n\n  for (var _option in optionListComp.optionListValues) {\n    if (optionListComp.optionListValues.hasOwnProperty(_option)) {\n      n += 1;\n      optionsGroup.append('rect').attr('fill', 'white').attr('class', 'optionListoption ' + optionListComp.GUID + ' ' + optionListComp.optionListValues[_option] + ' ' + _option).attr('value', _option).attr('key', optionListComp.optionListValues[_option]).attr('id', 'optionListoption').attr('data-testid', 'optionRect').attr('width', '180').attr('height', '20').attr('y', 20 * n).attr('opacity', '0.3').attr('stroke', 'gray').on('mousemove', function () {\n        reactContext$1.setState({\n          mouseInsideOption: true\n        });\n      }).on('mouseout', function () {\n        reactContext$1.setState({\n          mouseInsideOption: false\n        });\n      }).on('click', function () {\n        changeOptionListFinalValue(this);\n      });\n    }\n  }\n} // End of showDropDownList\n\n\nfunction changeOptionListFinalValue(el) {\n  var thisComp = selectComp(el.classList[1]);\n  thisComp.value = el.attributes.key.value;\n  thisComp.Name = el.attributes.value.value;\n  thisComp.outputs[0].value = el.classList[2];\n  d3$c.select('text#option-' + el.classList[1]).text(el.classList[3]).attr('fill', 'black');\n  redrawDependents(el.classList[1]);\n} // End of changeOptionListFinalValue\n\n/**\n * on a parent changes, only draws all the children tree .\n * all the components --- inputs outpts object (to be sent later to the backend should be modified as well)\n * shallow values should be updated instantaneously\n * @param {String} parentComp the id of parent component\n */\n\n\nfunction redrawDependents(parentComp) {\n  var parent = selectComp(parentComp);\n\n  if (parent_child_matrix[parentComp].length === 0) {\n    // This means that this parent has no children\n    return;\n  }\n\n  if (parent.dftype === 'shlow') {\n    parent_child_matrix[parentComp].forEach(function (element, i) {\n      //iterate through all those childs.\n      var ch = selectComp(element[1]);\n\n      if (parent.type === 'slider') {\n        ch.inputs[element[2]].value = parent.value;\n      } else if (parent.type === 'string') {\n        ch.inputs[element[2]].value = parent.outputs[element[0]].value;\n      } else if (parent.type === 'listView') {\n        ch.inputs[element[2]].value = parent.outputs[element[0]].value;\n        ch.inputs[element[2]].type = 'json';\n      } else if (parent.type === 'toggle' || parent.type === 'optionList') {\n        ch.inputs[element[2]].value = parent.value;\n      } else if (parent.type === 'component') {\n        try {\n          calculateShallow(parent.GUID);\n          ch.inputs[element[2]].value = parent.outputs[element[0]].value;\n          ch.inputs[element[2]].type = parent.outputs[element[0]].type;\n          componentStatus(parent.GUID, ACTIVE_COLOR);\n        } catch (error) {\n          console.log(error);\n          componentStatus(parent.GUID, ERROR_COLOR);\n        }\n      } else if (parent.type === 'fileUpload') {\n        ch.inputs[element[2]].value = parent.outputs[element[0]].value === null ? null : parent.outputs[element[0]].Name;\n        ch.inputs[element[2]].file = parent.outputs[element[0]].value;\n      }\n\n      updatShallowCompRender(ch);\n      redrawDependents(ch.GUID);\n    });\n  } else if (parent.dftype === 'dp') {\n    console.log('Deep comp' + parent.type);\n    parent.state = 'unbound';\n    parent_child_matrix[parentComp].forEach(function (element, i) {\n      //iterate through all those childs.\n      var ch = selectComp(element[1]);\n\n      if ((parent.type === 'deep' || parent.isUDODeep) && runDeep === true) {\n        reactContext$1.setState({\n          runDeep: false\n        });\n\n        if (parent.state === 'unbound') {\n          calculateDeep(parent, ch, element);\n          parent.state = 'active'; //Remaining 5 lines of code is executed in the async function\n\n          return;\n        }\n      }\n\n      ch.inputs[element[2]].value = parent.outputs[element[0]].value;\n      ch.inputs[element[2]].type = parent.outputs[element[0]].type;\n      componentStatus(parent.GUID, ACTIVE_COLOR);\n      updatShallowCompRender(ch);\n      redrawDependents(ch.GUID);\n    });\n  }\n} // End of redrawDependents\n\n\nfunction updatShallowCompRender(ch) {\n  if (ch.type === 'string') {\n    if (ch.inputs[0].type === 'html') {\n      $('foreignObject#textbody_' + ch.GUID).html(ch.inputs[0].value);\n    } else if (ch.inputs[0].type === 'json') {\n      var compKey = ch.GUID;\n\n      try {\n        $('foreignObject#textbody_' + compKey).html('<div id=\"jsonTreeViewer' + compKey + '\"></div>');\n        var jsonStruct = checkJSONValidity(ch.inputs[0].value);\n        ReactDOM.render( /*#__PURE__*/React.createElement(ReactJson, {\n          src: jsonStruct\n        }), document.getElementById('jsonTreeViewer' + compKey));\n      } catch (e) {\n        d3$c.select('foreignObject#textbody_' + compKey).text(e).attr('style', 'color: red');\n      }\n    } else if (ch.inputs[0].type === 'text') {\n      $('foreignObject#textbody_' + ch.GUID).html('<pre>' + ch.inputs[0].value + '</pre>');\n    } else if (ch.inputs[0].type === 'htmlLoad') {\n      $('foreignObject#textbody_' + ch.GUID).html('<div id=\"3DViewer' + ch.GUID + '\"></div>');\n      $('div#3DViewer' + ch.GUID).load(ch.inputs[0].value, function (data) {\n        console.log(data);\n      });\n    } else if (ch.inputs[0].type === 'plot') {\n      var data = JSON.parse(ch.inputs[0].value);\n      drawPlotComponent(data, ch);\n    } else if (ch.inputs[0].type === 'spatial') {\n      var _data = JSON.parse(ch.inputs[0].value);\n\n      var unparseData = ch.inputs[0].value;\n      visualizeSpatialComponent(_data, unparseData, ch);\n    }\n\n    $('foreignObject#panel_status_' + ch.GUID).text('type : ' + ch.inputs[0].type);\n    ch.outputs[0].value = ch.inputs[0].value;\n    ch.outputs[0].type = ch.inputs[0].type;\n  } else if (ch.type === 'optionList') {\n    ch.optionListValues = JSON.parse(ch.inputs[0].value);\n  } else if (ch.type === 'listView') {\n    var newValues;\n\n    try {\n      var oldValues = checkJSONValidity(ch.inputs[0].value);\n      newValues = oldValues.map(function (val) {\n        return Array.isArray(val) ? val : [val, 1];\n      });\n    } catch (e) {\n      console.log(\"Invalid Json at listView render\" + e);\n      newValues = [[e.message, 1]];\n    }\n\n    ch.value = newValues;\n    ch.inputs[0].value = newValues;\n    ch.outputs[0].value = newValues;\n    updateListViewDrawing(ch);\n  }\n} // End of updatShallowCompRender\n// To be used inside a try catch block\n\n\nfunction checkJSONValidity(item) {\n  item = typeof item !== \"string\" ? JSON.stringify(item) : item;\n\n  try {\n    item = JSON.parse(item);\n  } catch (e) {\n    throw new Error(e);\n  }\n\n  if (_typeof(item) === \"object\" && item !== null) {\n    return item;\n  }\n\n  throw new Error('Invalid JSON input');\n} // End of checkJSONValidity\n\n\nfunction visualizeSpatialComponent(data, unparseData, comp) {\n  $('foreignObject#textbody_' + comp.GUID).html('<div id=\"vis_area' + comp.GUID + '\" style=\"height:4%\"></div><div id=\"vis_canvas' + comp.GUID + '\" style=\"height:92%\">vis</div>');\n  var options = \"<select id='spatial_select_\" + comp.GUID + \"' onchange= 'displaySelection(\" + unparseData + \", \\\"\" + comp.GUID + \"\\\")'>\";\n\n  for (var key in data) {\n    if (data.hasOwnProperty(key)) {\n      options += \"<option  value=\\\"\" + key + \"\\\">\" + key + \"</option>\";\n    }\n  }\n\n  options += \"</select>\";\n  $('div#vis_area' + comp.GUID).html(options);\n} // End of visualizeSpatialComponent\n\n\nfunction drawPlotComponent(data, comp) {\n  var Plotly = window.Plotly;\n  $('foreignObject#textbody_' + comp.GUID).html('<div id=\"plot_area' + comp.GUID + '\" style=\"width:100%; height:100%;\"></div>');\n\n  if (Plotly === undefined) {\n    // alert(\"Plotly not defined\")\n    $(\"div#plot_area\" + comp.GUID).text(\"Plotly is undefined :(\");\n    return;\n  }\n\n  if (data === null) {\n    Plotly.newPlot('plot_area' + comp.GUID, [{\n      x: ['1', '2', '3'],\n      y: [1.0, 2.0, 3.0],\n      type: 'bar'\n    }], {\n      title: 'Dummy plot'\n    }, {\n      responsive: true\n    });\n  } else {\n    if (Array.isArray(data)) {\n      data = data[0];\n    }\n\n    if (data.type === 'scatter') {\n      if ('layout' in data) {\n        Plotly.newPlot('plot_area' + comp.GUID, data.data, data.layout, {\n          responsive: true\n        });\n      } else {\n        Plotly.newPlot('plot_area' + comp.GUID, data.data, {\n          responsive: true\n        });\n      }\n    } else if (data.type === 'bar') {\n      data.data.forEach(function (dataElement) {\n        var maxValue = Math.max.apply(Math, _toConsumableArray(dataElement.y));\n        dataElement['marker'] = {\n          color: []\n        };\n        dataElement.y.forEach(function (dataValue) {\n          dataElement.marker.color.push(d3$c.interpolateGnBu(dataValue / maxValue));\n        });\n      });\n\n      if ('layout' in data) {\n        Plotly.newPlot('plot_area' + comp.GUID, data.data, data.layout, {\n          responsive: true\n        });\n      } else {\n        Plotly.newPlot('plot_area' + comp.GUID, data.data, {\n          responsive: true\n        });\n      }\n    } else if (data.type === undefined) {\n      $('div#propertiesBarLog').html('<div id=\"error\">Incorrect format for plot panel. Check Help for more details</div>');\n    } else {\n      if (_typeof(data) !== 'object') {\n        $('div#propertiesBarLog').html('<div id=\"error\">Incorrect format for plot panel. Check Help for more details</div>');\n      }\n\n      if ('layout' in data) {\n        Plotly.newPlot('plot_area' + comp.GUID, data.data, data.layout, {\n          responsive: true\n        });\n      } else {\n        Plotly.newPlot('plot_area' + comp.GUID, data.data, {\n          responsive: true\n        });\n      }\n    }\n  } // Allow plotly controls to render\n\n\n  edit_move_mode(comp.GUID);\n  edit_move_mode(comp.GUID);\n} // End of drawPlotComponent\n\n\nfunction edit_move_mode(compId, mode) {\n  var disp = $('rect#overlaySelector' + compId).attr('style');\n\n  if (disp === 'display: block;') {\n    d3$c.select('rect#overlaySelector' + compId).style('display', 'none');\n    d3$c.select('h5#changeEditMoveMode_' + compId).text('Edit Mode');\n  } else {\n    d3$c.select('rect#overlaySelector' + compId).style('display', 'block');\n    d3$c.select('h5#changeEditMoveMode_' + compId).text('Drag Mode');\n  }\n}\n\nfunction updateListViewDrawing(comp) {\n  d3$c.select('foreignObject#listView-' + comp.GUID).html(function () {\n    return setListViewHTML(comp);\n  });\n  d3$c.select('select#listviewSelect' + comp.GUID).on('click', function (e) {\n    try {\n      var el = e.path[0].classList[2];\n      comp.value[el][1] = comp.value[el][1] === 0 ? 1 : 0;\n      setListViewHTML(comp);\n      redrawDependents(comp.GUID);\n    } catch (e) {\n      console.log(\"Selected point is not an option\");\n      return;\n    }\n  });\n} // End of updateListViewDrawing\n\n\nfunction setListViewHTML(comp) {\n  var selectedOptions = [];\n  var ListItemsvalueReturn = \"<select id=\\\"listviewSelect\" + comp.GUID + \"\\\" class=\\\"listView \" + comp.GUID + \"\\\" size=\\\"5\\\"  multiple>\";\n  comp.value.forEach(function (option, index) {\n    if (option[1] === 0) {\n      ListItemsvalueReturn += \"<option id=\\\"someSelection\\\" class=\\\"listViewOption \" + comp.GUID + \" \" + index + \"\\\" value=\\\"\" + option[0] + \"\\\">\" + option[0] + \"</option>\";\n    } else {\n      ListItemsvalueReturn += \"<option id=\\\"someSelection\\\" class=\\\"listViewOption \" + comp.GUID + \" \" + index + \"\\\" value=\\\"\" + option[0] + \"\\\" selected>\" + option[0] + \"</option>\";\n      selectedOptions.push(option[0]);\n    }\n\n    return option;\n  });\n  comp.outputs[0].value = JSON.stringify(selectedOptions);\n  ListItemsvalueReturn += \"</select>\";\n  return ListItemsvalueReturn;\n} // End of setListViewHTML\n\n\nfunction handleEdgeMovement(objID) {\n  var x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var y = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var element = selectComp(objID);\n\n  if (element != null && element.GUID === objID) {\n    if (x !== null && y !== null) {\n      element.X = x;\n      element.Y = y;\n    }\n\n    var _loop = function _loop(index) {\n      if (comp_input_edges[objID][index] !== undefined && comp_input_edges[objID][index] !== null) {\n        comp_input_edges[objID][index].forEach(function (inputElement) {\n          var circleindex = index;\n          var rectId = objID;\n          var rectpos = $('#comp-' + rectId).attr('transform').replace('translate(', '').replace(')', '').split(',').map(function (item) {\n            return parseFloat(item, 10);\n          });\n          var xy2 = $('#' + inputElement).attr('d').split(' ')[1].split(',').map(function (item) {\n            return parseFloat(item, 10);\n          });\n          var padding = 20;\n          var titleMargin = 30;\n          d3$c.select('#' + inputElement).attr('d', function () {\n            if (element.type === 'component' || element.type === 'deep') {\n              var itisthelocation = returnCurveString(xy2[0], xy2[1], rectpos[0], rectpos[1] + (circleindex * padding + titleMargin));\n              handlePathDeleteMovement(inputElement, xy2, [rectpos[0], rectpos[1] + (circleindex * padding + titleMargin)]);\n            } else if (element.type === 'string' || element.type === 'toggle' || element.type === 'fileUpload' || element.type === 'slider' || element.type === 'optionList' || element.type === 'listView') {\n              itisthelocation = returnCurveString(xy2[0], xy2[1], rectpos[0], rectpos[1] + element.height / 2);\n              handlePathDeleteMovement(inputElement, xy2, [rectpos[0], rectpos[1] + element.height / 2]);\n            }\n\n            return itisthelocation;\n          });\n        });\n      }\n    };\n\n    for (var index = 0; index < comp_input_edges[objID].length; index++) {\n      _loop(index);\n    }\n\n    var _loop2 = function _loop2(_index2) {\n      if (comp_output_edges[objID][_index2] !== undefined && comp_output_edges[objID][_index2] !== null) {\n        comp_output_edges[objID][_index2].forEach(function (outputElement) {\n          var circleindex = _index2;\n          var rectId = objID;\n          var rectpos = $('#comp-' + rectId).attr('transform').replace('translate(', '').replace(')', '').split(',').map(function (item) {\n            return parseFloat(item, 10);\n          });\n          var rectwidth = $('rect#dummyRect_' + rectId).attr('width');\n          var xy2 = $('#' + outputElement).attr('d').split(' ')[5].split(',').map(function (item) {\n            return parseFloat(item, 10);\n          });\n          var padding = 20;\n          var titleMargin = 30;\n          d3$c.select('#' + outputElement).attr('d', function () {\n            if (element.type === 'component' || element.type === 'deep') {\n              var itisthelocation = returnCurveString(rectpos[0] + parseFloat(rectwidth), rectpos[1] + (circleindex * padding + titleMargin), xy2[0], xy2[1]);\n              handlePathDeleteMovement(outputElement, [rectpos[0] + parseFloat(rectwidth), rectpos[1] + (circleindex * padding + titleMargin)], [xy2[0], xy2[1]]);\n            } else if (element.type === 'slider') {\n              itisthelocation = returnCurveString(rectpos[0] + parseFloat(250), rectpos[1] + 10, xy2[0], xy2[1]);\n              handlePathDeleteMovement(outputElement, [rectpos[0] + parseFloat(250), rectpos[1] + 10], [xy2[0], xy2[1]]);\n            } else if (element.type === 'string' || element.type === 'toggle' || element.type === 'optionList' || element.type === 'listView' || element.type === 'fileUpload') {\n              itisthelocation = returnCurveString(rectpos[0] + parseFloat(rectwidth), rectpos[1] + element.height / 2, xy2[0], xy2[1]);\n              handlePathDeleteMovement(outputElement, [rectpos[0] + parseFloat(rectwidth), rectpos[1] + element.height / 2], [xy2[0], xy2[1]]);\n            }\n\n            return itisthelocation;\n          });\n        });\n      }\n    };\n\n    for (var _index2 = 0; _index2 < comp_output_edges[objID].length; _index2++) {\n      _loop2(_index2);\n    }\n  }\n} // End of handleEdgeMovement\n\n\nfunction handlePathDeleteMovement(pathId, xy1, xy2) {\n  var circleX = ((xy1[0] + xy2[0]) / 2.0).toString() - 7.5;\n  var circleY = ((xy1[1] + xy2[1]) / 2.0).toString() - 7.5;\n  d3$c.select('rect#pathCircle' + pathId).attr('x', circleX).attr('y', circleY).attr('style', 'display:block');\n} // End of handlePathDeleteMovement\n\n\nfunction objToHtmlTable(object) {\n  var col_length = 0;\n  var keys = [];\n  var htmlQuery = \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\" + \"<thead> <tr style=\\\"text-align: right;\\\"><th></th>\";\n\n  for (var key in object) {\n    if (object.hasOwnProperty(key)) {\n      htmlQuery += \"<th>\" + key + \"</th>\";\n      keys.push(key);\n      col_length = object[key].length;\n    }\n  }\n\n  htmlQuery += \"</tr></thead><tbody>\";\n\n  var _loop3 = function _loop3(i) {\n    htmlQuery += \"<tr><th>\" + i.toString() + \"</th>\";\n    keys.forEach(function (element) {\n      htmlQuery += \"<td>\" + object[element][i] + \"</td>\";\n    });\n    htmlQuery += \"</tr>\";\n  };\n\n  for (var i = 0; i < col_length; i++) {\n    _loop3(i);\n  }\n\n  return htmlQuery;\n} // End of objToHtmlTable\n\n\nfunction deleteComponent(component_to_be_deleted) {\n  var component_to_be_reset = selectComp(component_to_be_deleted);\n\n  if (component_to_be_reset.type === 'optionList') {\n    reactContext$1.setState({\n      optionListStarted: false\n    });\n  }\n\n  component_to_be_reset.value = null;\n  component_to_be_reset.inputs.forEach(function (input) {\n    input.value = null;\n  });\n  component_to_be_reset.outputs.forEach(function (output) {\n    output.value = null;\n  });\n  delete components_selection_data[component_to_be_deleted];\n  redrawDependents(component_to_be_deleted);\n\n  for (var i = 0; i < parent_child_matrix_fast_check.length; i++) {\n    var current_parent_child_object_asList = parent_child_matrix_fast_check[i].split(' ');\n\n    if (current_parent_child_object_asList[1] === component_to_be_deleted) {\n      parent_child_matrix_fast_check.splice(i, 1);\n    }\n  }\n\n  comp_input_edges[component_to_be_deleted].forEach(function (element) {\n    try {\n      var _loop4 = function _loop4(_i) {\n        element.forEach(function (thisEdgeId) {\n          d3$c.select('path#' + thisEdgeId).remove();\n          d3$c.select('rect#pathCircle' + thisEdgeId).remove();\n\n          if (thisEdgeId === allEdges[_i]['path_id']) {\n            allEdges.splice(_i, 1);\n            reactContext$1.setState({\n              allEdges: allEdges\n            });\n          }\n\n          var otherComp = edge_comp_matrix[thisEdgeId]['from'];\n          var otherCompIndex = edge_comp_matrix[thisEdgeId]['from_index'];\n          comp_output_edges[otherComp][otherCompIndex] = undefined;\n          parent_child_matrix[otherComp] = [];\n        });\n      };\n\n      for (var _i = 0; _i < allEdges.length; _i++) {\n        _loop4(_i);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  });\n  comp_output_edges[component_to_be_deleted].forEach(function (element) {\n    try {\n      var _loop5 = function _loop5(_i2) {\n        element.forEach(function (thisEdgeId) {\n          d3$c.select('path#' + thisEdgeId).remove();\n          d3$c.select('rect#pathCircle' + thisEdgeId).remove();\n\n          if (thisEdgeId === allEdges[_i2]['path_id']) {\n            allEdges.splice(_i2, 1);\n            reactContext$1.setState({\n              allEdges: allEdges\n            });\n          }\n\n          var otherComp = edge_comp_matrix[thisEdgeId]['to'];\n          var otherCompIndex = edge_comp_matrix[thisEdgeId]['to_index'];\n          comp_input_edges[otherComp][otherCompIndex] = undefined;\n        });\n      };\n\n      for (var _i2 = 0; _i2 < allEdges.length; _i2++) {\n        _loop5(_i2);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  });\n  reactContext$1.setState({\n    comp_input_edges: comp_input_edges,\n    comp_output_edges: comp_output_edges,\n    parent_child_matrix: parent_child_matrix\n  });\n\n  for (var _i3 = 0; _i3 < allComp.length; _i3++) {\n    if (allComp[_i3].GUID === component_to_be_deleted) {\n      allComp.splice(_i3, 1);\n      reactContext$1.setState({\n        allComp: allComp\n      });\n    }\n  }\n\n  d3$c.select('#' + component_to_be_deleted).remove();\n} // End of deleteComponent\n\n\nfunction deleteEdge(edge_to_be_deleted) {\n  var components_of_the_edge = edge_comp_matrix[edge_to_be_deleted];\n  var fromComp = selectComp(components_of_the_edge['from']);\n  var toComp = selectComp(components_of_the_edge['to']);\n  toComp.inputs[components_of_the_edge['to_index']].value = null;\n  toComp.value = null; // An input can only have one edge\n\n  comp_input_edges[toComp.GUID][components_of_the_edge['to_index']] = undefined; // An output can have multiple edges\n\n  var prevLength = comp_output_edges[fromComp.GUID][components_of_the_edge['from_index']].length;\n  comp_output_edges[fromComp.GUID][components_of_the_edge['from_index']] = comp_output_edges[fromComp.GUID][components_of_the_edge['from_index']].filter(function (pathId) {\n    return pathId !== edge_to_be_deleted;\n  });\n  var newLength = comp_output_edges[fromComp.GUID][components_of_the_edge['from_index']].length;\n  var flagPCM = false;\n\n  for (var i = 0; i < parent_child_matrix[fromComp.GUID].length; i++) {\n    console.log(parent_child_matrix[fromComp.GUID][i]);\n\n    if (parent_child_matrix[fromComp.GUID][i][0] === components_of_the_edge['from_index'] && parent_child_matrix[fromComp.GUID][i][1] === toComp.GUID && parent_child_matrix[fromComp.GUID][i][2] === components_of_the_edge['to_index']) {\n      parent_child_matrix[fromComp.GUID].splice(i, 1);\n      flagPCM = true;\n      break;\n    }\n  }\n\n  updatShallowCompRender(toComp);\n  updatShallowCompRender(fromComp);\n  redrawDependents(components_of_the_edge['to']);\n  allEdges = allEdges.filter(function (edge) {\n    return edge['path_id'] !== edge_to_be_deleted;\n  });\n  var flagPCMFC = false;\n\n  for (var _i4 = 0; _i4 < parent_child_matrix_fast_check.length; _i4++) {\n    var parent_child_info = parent_child_matrix_fast_check[_i4].split(' ');\n\n    if (parent_child_info[0] === components_of_the_edge['from_index'] && parent_child_info[1] === fromComp.GUID && parent_child_info[2] === components_of_the_edge['to_index'] && parent_child_info[3] === toComp.GUID) {\n      parent_child_matrix_fast_check.splice(_i4, 1);\n      flagPCMFC = true;\n      break;\n    }\n  }\n\n  redrawDependents(components_of_the_edge['to']);\n  delete edge_comp_matrix[edge_to_be_deleted];\n  reactContext$1.setState({\n    comp_input_edges: comp_input_edges,\n    comp_output_edges: comp_output_edges,\n    parent_child_matrix: parent_child_matrix,\n    edge_comp_matrix: edge_comp_matrix,\n    allEdges: allEdges,\n    parent_child_matrix_fast_check: parent_child_matrix_fast_check\n  });\n\n  if (prevLength - newLength !== 1 || !flagPCM || !flagPCMFC) {\n    console.log(prevLength, newLength, flagPCM, flagPCMFC);\n    alert(\"Edge not deleted correctly :(\");\n  }\n} // End of deleteEdge\n\n/**\n * Set the status of a generic component (idle, active, error) based on its color\n * @param {*} id the id of the component\n * @param {*} Compstatus the text color of the component\n */\n\n\nfunction componentStatus(id, Compstatus) {\n  if (Compstatus === 'green') {\n    d3$c.select('rect#statusRect' + id).attr('fill', '#02521b');\n    d3$c.select('text#statusText' + id).text('Active').attr('fill', '#6cff13');\n  } else if (Compstatus === '#ffca28') {\n    d3$c.select('rect#statusRect' + id).attr('fill', Compstatus);\n    d3$c.select('text#statusText' + id).text('Idle ...').attr('fill', 'black');\n  } else if (Compstatus === 'red') {\n    d3$c.select('rect#statusRect' + id).attr('fill', '#fceecc');\n    d3$c.select('text#statusText' + id).text('Error').attr('fill', 'red');\n  }\n} // End of componentStatus\n\n\nfunction moveComponent(id, x, y) {\n  d3$c.select('#comp-' + id).attr('transform', function () {\n    return 'translate(' + x + ',' + y + ')';\n  });\n  handleEdgeMovement(id, x, y);\n} // End of moveComponent\n\n\nfunction runDeepFunction(compId) {\n  reactContext$1.setState({\n    runDeep: true\n  });\n  redrawDependents(compId);\n  reactContext$1.setState({\n    runDeep: false\n  });\n}\n\nvar globalVars = {\n  initEdgex1: 0,\n  initEdgey1: 0,\n  fromCircle: addCircle(),\n  toCircle: addCircle(),\n  selection_rectangle_group_rect: null,\n  doubleClicked: false,\n  date: 'km now',\n  IDLE_COLOR: '#dfd4b1',\n  ACTIVE_COLOR: 'green',\n  ERROR_COLOR: 'red',\n  COMPONENT_RADIUS: 1,\n  allComp: [],\n  allEdges: [],\n  comp_input_edges: {},\n  comp_output_edges: {},\n  edge_comp_matrix: {},\n  parent_child_matrix: {},\n  parent_child_matrix_fast_check: [],\n  root_components: {},\n  components_selection_data: {},\n  selected_components: [],\n  runDeep: false,\n  StringAnchorclicked: false,\n  StringAnchorType: null,\n  StringAnchorId: '',\n  XANCHOR: 0,\n  YANCHOR: 1,\n  XYANCHOR: 2,\n  ANCHOR_WIDTH: 10,\n  SLIDER_LENGTH: 178,\n  anchorMouseXpos: 0,\n  anchorMouseYpos: 0,\n  SliderAnchorclicked: false,\n  selectedSliderComponent: null,\n  dragX: 0,\n  dragY: 0,\n  sliderRectId: '',\n  componentClickX: 0,\n  componentClickY: 0,\n  initPos: null,\n  startDrag: false,\n  clickedId: '',\n  rectType: '',\n  deltaX: 0,\n  deltaY: 0,\n  clicked: false,\n  edgeStarted: false,\n  targetcircleIN: false,\n  selectedcircleId: '',\n  targetcircleId: '',\n  selectedSliderAnchorId: '',\n  xGrid: 0,\n  yGrid: 0,\n  mousex: 0,\n  mousey: 0,\n  // text global variables.\n  textareaStarted: false,\n  textAreaRectId: '',\n  optionListStarted: false,\n  optionlistRectid: '',\n  justSelected: null,\n  mouseInsideOption: false,\n  //selected component variables.\n  is_component_selected: false,\n  selected_component_id: '',\n  rightColumnIsSelected: false,\n  leftColumnIsSelected: false,\n  topColumnIsSelected: false,\n  rightColIsdisplayed: true,\n  leftColIsdisplayed: true,\n  is_edge_selected: false,\n  currentTopBarHeight: 30,\n  currentLeftColWidth: 225,\n  currentRightColWidth: 50,\n  messageshown: false,\n  dataLoad: 0\n};\n\n/*\n\n\n\n\n\n\n\n\n\n\n\n\n\n*/\n\nvar d3$b = require('d3');\n\nfunction onMinimizeClick() {\n  d3$b.select('#maximizeUpperBar').transition().style('display', 'block');\n  d3$b.select('#minimizeUpperBar').style('display', 'none');\n  d3$b.select('#TopPropertiesBar').transition().duration(200).style('top', '-60px');\n  d3$b.select('#LeftPropertiesBar').transition().duration(200).style('top', '0px');\n  d3$b.select('#PropertiesBar').transition().duration(200).style('top', '0px');\n  d3$b.select('#LeftPropertiesBarSelector').transition().duration(200).style('top', '0px');\n  d3$b.select('#PropertiesBarSelector').transition().duration(200).style('top', '0px');\n  d3$b.select('.canvas_container').transition().duration(200).style('top', '0px');\n  d3$b.select('#maximizeUpperBar').transition().duration(200).style('right', '300px').style('top', '61px');\n  d3$b.select('#minimizeUpperBar').transition().duration(200).style('right', '300px').style('top', '61px');\n}\n\nfunction onMaximizeClick() {\n  d3$b.select('#maximizeUpperBar').style('display', 'none');\n  d3$b.select('#minimizeUpperBar').style('display', 'block');\n  d3$b.select('#TopPropertiesBar').transition().duration(200).style('top', '0px');\n  d3$b.select('#LeftPropertiesBar').transition().duration(200).style('top', '30px');\n  d3$b.select('#PropertiesBar').transition().duration(200).style('top', '30px');\n  d3$b.select('#LeftPropertiesBarSelector').transition().duration(200).style('top', '30px');\n  d3$b.select('#PropertiesBarSelector').transition().duration(200).style('top', '30px');\n  d3$b.select('.canvas_container').transition().duration(200).style('top', '30px');\n  d3$b.select('#maximizeeUpperBar').transition().duration(200).style('right', '0px').style('top', '38px');\n  d3$b.select('#minimizeUpperBar').transition().duration(200).style('right', '0px').style('top', '0px');\n  d3$b.select('i#tomaximize').transition().duration(200).style('transform', 'rotate(180deg)');\n}\n\nfunction manageCanvas() {\n  var reactContext = this;\n  var svgContainer = d3$b.select('svg');\n  var allContents = svgContainer.append('g').attr('id', 'allCanvasContents').attr('data-testid', 'allContents');\n  var currentLeftColWidth = reactContext.state.currentLeftColWidth;\n  var currentTopBarHeight = reactContext.state.currentTopBarHeight;\n  var currentRightColWidth = reactContext.state.currentRightColWidth;\n  var messageshown = reactContext.state.messageshown;\n  var leftColumnIsSelected = reactContext.state.leftColumnIsSelected;\n  var rightColIsdisplayed = reactContext.state.rightColIsdisplayed;\n  var rightColumnIsSelected = reactContext.state.rightColumnIsSelected;\n  var leftColIsdisplayed = reactContext.state.leftColIsdisplayed;\n  allContents.append('rect').attr('fill', 'url(#img122)').attr('x', -1000).attr('y', -1000).attr('width', 6000).attr('height', 6000).style('cursor', 'default');\n  allContents.append('g').attr('id', 'allPaths');\n  svgContainer.call(d3$b.zoom().filter(function (event) {\n    return !(reactContext.state.startDrag || reactContext.state.StringAnchorclicked || reactContext.state.SliderAnchorclicked || reactContext.state.edgeStarted || reactContext.state.selection_groud_selected) && event.button === 0;\n  }).on('zoom', function (event) {\n    if (!reactContext.state.startDrag) {\n      reactContext.setState({\n        canvasX: event.transform.x,\n        canvasY: event.transform.y\n      });\n      allContents.attr('transform', event.transform);\n    }\n  }));\n  svgContainer.on('dblclick.zoom', null);\n  d3$b.select('div#LeftPropertiesBar').style('width', function () {\n    return currentLeftColWidth + 'px';\n  }).style('top', function () {\n    return currentTopBarHeight.toString() + 'px';\n  });\n  d3$b.select('div#LeftPropertiesBarSelector').style('top', function () {\n    return currentTopBarHeight.toString() + 'px';\n  }).style('left', currentLeftColWidth + 'px');\n  d3$b.select('div#PropertiesBarSelector').style('top', function () {\n    return currentTopBarHeight.toString() + 'px';\n  }).style('right', currentRightColWidth + 'px');\n  d3$b.select('div#TopPropertiesBar').style('height', function () {\n    return currentTopBarHeight + 'px';\n  });\n  d3$b.select('div#PropertiesBarSelector').on('mousedown', function () {\n    currentRightColWidth = parseInt($('div#PropertiesBar').css('width').replace('px', ''));\n    rightColumnIsSelected = true;\n  });\n  d3$b.select('div#LeftPropertiesBarSelector').on('mousedown', function () {\n    currentLeftColWidth = parseInt($('div#LeftPropertiesBar').css('width').replace('px', ''));\n    leftColumnIsSelected = true;\n  });\n  d3$b.select('body').on('mousemove', function (event) {\n    d3$b.select(event.currentTarget).style('cursor', 'auto');\n    currentRightColWidth = window.innerWidth - 16 - event.clientX;\n    currentLeftColWidth = event.clientX;\n\n    if (rightColumnIsSelected) {\n      d3$b.select('div#PropertiesBar').style('width', function () {\n        if (currentRightColWidth >= 50) {\n          if (!rightColIsdisplayed) d3$b.select('div#PropertiesBar').style('display', 'block');\n          d3$b.select('div#PropertiesBarSelector').style('background-color', '#252525');\n          rightColIsdisplayed = true;\n          return currentRightColWidth.toString() + 'px';\n        } else {\n          rightColIsdisplayed = false;\n          d3$b.select('div#PropertiesBar').style('display', 'none');\n          d3$b.select('div#PropertiesBarSelector').style('background-color', '#1abc9c');\n        }\n      });\n      d3$b.select('div#PropertiesBarSelector').style('right', function () {\n        if (currentRightColWidth >= 50) {\n          return currentRightColWidth.toString() + 'px';\n        } else {\n          return 0 .toString() + 'px';\n        }\n      });\n    }\n\n    if (leftColumnIsSelected) {\n      d3$b.select('body').style('cursor', 'ew-resize');\n      d3$b.select('div#LeftPropertiesBar').style('width', function () {\n        if (currentLeftColWidth >= 50) {\n          if (!leftColIsdisplayed) d3$b.select('div#LeftPropertiesBar').style('display', 'block');\n          d3$b.select('div#LeftPropertiesBarSelector').style('background-color', '#252525');\n          leftColIsdisplayed = true;\n          return currentLeftColWidth.toString() + 'px';\n        } else {\n          leftColIsdisplayed = false;\n          d3$b.select('div#LeftPropertiesBar').style('display', 'none');\n          d3$b.select('div#LeftPropertiesBarSelector').style('background-color', '#1abc9c');\n        }\n      });\n      d3$b.select('div#LeftPropertiesBarSelector').style('left', function () {\n        if (currentLeftColWidth >= 50) {\n          return currentLeftColWidth.toString() + 'px';\n        } else {\n          return 0 .toString() + 'px';\n        }\n      });\n    }\n\n    if (messageshown) {\n      var trns = d3$b.transition().duration(500).ease(d3$b.easeLinear);\n      d3$b.select('div#Addedmessage').transition(trns).style('opacity', function () {\n        messageshown = false;\n        return 0;\n      });\n      d3$b.select('div#buttonClickedname').transition(trns).style('opacity', function () {\n        messageshown = false;\n        return 0;\n      });\n    }\n  }).on('mouseup', function () {\n    if (rightColumnIsSelected) rightColumnIsSelected = false;\n    if (leftColumnIsSelected) leftColumnIsSelected = false;\n  });\n}\n\nvar d3$a = require('d3');\nvar reactContext;\n\nfunction manageGrid() {\n  reactContext = this;\n  var allContents = d3$a.select('#allCanvasContents');\n  var optionListStarted = reactContext.state.optionListStarted;\n  var startDrag = reactContext.state.startDrag;\n  var mouseInsideOption = reactContext.state.mouseInsideOption;\n  var selected_component_id = reactContext.state.selected_component_id;\n  allContents.style('backgroud-color', function () {\n    this.offsetLeft;\n    this.offsetTop;\n    return 'white';\n  }).on('mousedown', function () {\n    if (optionListStarted && !startDrag && !mouseInsideOption) {\n      d3$a.selectAll('rect.optionListoption').style('display', 'none');\n      d3$a.selectAll('text.optionListoptiontext').style('display', 'none');\n      reactContext.setState({\n        optionListStarted: false,\n        mouseInsideOption: false\n      });\n    }\n  }).on('keydown', function (event) {\n    if (event.keyCode === 46) {\n      //delete\n      if (reactContext.state.selected_components.length > 1) {\n        console.log('You will delete ');\n      }\n\n      var elem = selectComp(selected_component_id);\n\n      if (elem == null) {\n        console.log('Something went wrong, invalid selected component');\n        return;\n      }\n\n      if (elem.type === 'fileUpload') {\n        if (window.confirm('Are you sure you want to delete this file from the database? ')) {\n          console.log('You should delete the file from the database now... ');\n          deleteComponent(selected_component_id);\n        } else {\n          console.log('not deleted. ');\n        }\n      } else {\n        deleteComponent(selected_component_id);\n      }\n    }\n  }).on('dblclick', function (event) {\n    d3$a.select('div#buttonClickedname').text('dblclick').style('opacity', function () {\n      reactContext.setState({\n        messageshown: true\n      });\n      return 1;\n    });\n    reactContext.setState({\n      mousex: d3$a.pointer(event, allContents.node())[0],\n      mousey: d3$a.pointer(event, allContents.node())[1]\n    });\n    d3$a.select('body').append('option');\n  }).on('mousemove', function (event) {\n    var mousex = d3$a.pointer(event, allContents.node())[0];\n    var mousey = d3$a.pointer(event, allContents.node())[1];\n    reactContext.setState({\n      mousex: mousex,\n      mousey: mousey\n    });\n\n    if (reactContext.state.startDrag) {\n      var x = mousex - reactContext.state.componentClickX;\n      var y = mousey - reactContext.state.componentClickY;\n      moveComponent(reactContext.state.clickedId, x, y);\n    }\n\n    if (reactContext.state.edgeStarted) {\n      d3$a.select('#' + reactContext.state.selectedcircleId).attr('d', function () {\n        return returnCurveString(reactContext.state.initEdgex1, reactContext.state.initEdgey1, mousex, mousey);\n      }).attr('fill', 'none').attr('stroke-opacity', '0.2').attr('interpolate', 'basis');\n    }\n\n    var textAreaRectId = reactContext.state.textAreaRectId;\n    var optionlistRectid = reactContext.state.optionlistRectid;\n\n    if (reactContext.state.textareaStarted) {\n      var selectedRect = getlocationFromTransform(d3$a.select('g#comp-' + textAreaRectId).attr('transform'));\n      d3$a.select('#TextAreaSelector').style('position', 'absolute').style('height', (parseFloat(d3$a.select('rect#' + textAreaRectId).attr('height')) - 50).toString() + 'px').style('left', selectedRect[0] + 4 + 'px').style('top', selectedRect[1] + 17 + 'px').style('border', 'none');\n    }\n\n    if (reactContext.state.optionListStarted) {\n      selectedRect = getlocationFromTransform(d3$a.select('g#comp-' + optionlistRectid).attr('transform'));\n      d3$a.select('#optionListSelectItems' + optionlistRectid).style('position', 'absolute').style('height', (parseFloat(d3$a.select('rect#' + optionlistRectid).attr('height')) - 50).toString() + 'px').style('left', selectedRect[0] + 20 + 'px').style('top', selectedRect[1] + 1 + 'px');\n    }\n\n    handleEdgeMovement(reactContext.state.StringAnchorId);\n  }).on('mouseup', function () {\n    if (reactContext.state.startDrag) {\n      try {\n        //This needs to move to a separate function .\n        var clickedId = reactContext.state.clickedId;\n        var just_moved_component = selectComp(clickedId);\n\n        var current_components_selection = _objectSpread2({}, reactContext.state.components_selection_data);\n\n        current_components_selection[clickedId] = {\n          x0: just_moved_component.X,\n          y0: just_moved_component.Y,\n          x1: just_moved_component.X + just_moved_component.width,\n          y1: just_moved_component.Y + just_moved_component.height\n        };\n        reactContext.setState({\n          components_selection_data: current_components_selection\n        });\n        just_moved_component = null;\n      } catch (error) {\n        console.log(error);\n      }\n\n      reactContext.setState({\n        startDrag: false\n      });\n    }\n\n    if (reactContext.state.edgeStarted) {\n      reactContext.setState({\n        edgeStarted: false\n      });\n      d3$a.select('#' + reactContext.state.selectedcircleId).remove();\n    }\n\n    if (reactContext.state.StringAnchorclicked) {\n      var StringAnchorId = reactContext.state.StringAnchorId;\n      var modified_string_comp = selectComp(StringAnchorId);\n      current_components_selection = _objectSpread2({}, reactContext.state.components_selection_data);\n      current_components_selection[StringAnchorId] = {\n        x0: modified_string_comp.X,\n        y0: modified_string_comp.Y,\n        x1: modified_string_comp.X + modified_string_comp.width,\n        y1: modified_string_comp.Y + modified_string_comp.height\n      };\n      reactContext.setState({\n        components_selection_data: current_components_selection,\n        StringAnchorclicked: false\n      });\n    }\n\n    if (reactContext.state.SliderAnchorclicked) {\n      reactContext.setState({\n        SliderAnchorclicked: false\n      });\n    }\n\n    if (reactContext.state.selection_groud_selected) {\n      reactContext.setState({\n        selection_groud_selected: false\n      });\n    }\n  });\n} //END\n\nvar img = \"data:image/png;base64,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\";\n\nvar Grid = /*#__PURE__*/function (_Component) {\n  _inherits(Grid, _Component);\n\n  var _super = _createSuper(Grid);\n\n  function Grid() {\n    _classCallCheck(this, Grid);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Grid, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"canvas_container canvas_container_inner main_canvas_container canvas_body_container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ui-designer-grid\",\n        id: \"mainGrid\"\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        height: \"10000\",\n        width: \"10000\"\n      }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"pattern\", {\n        id: \"img122\",\n        patternUnits: \"userSpaceOnUse\",\n        width: \"500\",\n        height: \"500\"\n      }, /*#__PURE__*/React.createElement(\"image\", {\n        className: \"rep\",\n        xlinkHref: img,\n        x: \"0\",\n        y: \"0\",\n        width: \"500\",\n        height: \"500\"\n      })), /*#__PURE__*/React.createElement(\"filter\", {\n        id: this.props.filter_id,\n        x: \"-40\",\n        y: \"-40\",\n        width: \"150%\",\n        height: \"150%\",\n        filterUnits: \"userSpaceOnUse\"\n      }, /*#__PURE__*/React.createElement(\"feOffset\", {\n        result: \"offOut\",\n        in: \"SourceGraphics\",\n        dx: \"0\",\n        dy: \"0\"\n      }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n        result: \"blurOut\",\n        in: \"offOut\",\n        stdDeviation: \"1\"\n      }), /*#__PURE__*/React.createElement(\"feBlend\", {\n        in: \"SourceGraphic\",\n        in2: \"blurOut\",\n        mode: \"normal\"\n      })), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"grad1ient\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          'stopColour': '#dddddd',\n          'stopOpacity': '100%'\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"50%\",\n        style: {\n          \"stopColour\": \"#eeeeee\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"100%\",\n        style: {\n          \"stopColour\": \"#dddddd\",\n          \"stopOpacity\": \"100%\"\n        }\n      }))), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"fileUploadGradient\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          \"stopColour\": \"#344b62\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"10%\",\n        style: {\n          \"stopColour\": \"#344b62\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"12%\",\n        style: {\n          \"stopColour\": \"#2b3d50\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"88%\",\n        style: {\n          \"stopColour\": \"#2b3d50\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"90%\",\n        style: {\n          \"stopColour\": \"#23364a\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"100%\",\n        style: {\n          \"stopColour\": \"#23364a\",\n          \"stopOpacity\": \"100%\"\n        }\n      }))), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"gradientlsider\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          \"stopColour\": \"#eeeeee\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"20%\",\n        style: {\n          \"stopColour\": \"#eeeeee\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"30%\",\n        style: {\n          \"stopColour\": \"#dddddd\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"70%\",\n        style: {\n          \"stopColour\": \"#dddddd\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"80%\",\n        style: {\n          \"stopColour\": \"#cccccc\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"100%\",\n        style: {\n          \"stopColour\": \"#cccccc\",\n          \"stopOpacity\": \"100%\"\n        }\n      }))), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"gradient2\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"10%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"30%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"60%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"80%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"60%\"\n        }\n      }))), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"gradient2_2\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"50%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"0%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"70%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"0%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"100%\",\n        style: {\n          \"stopColour\": \"#ffffff\",\n          \"stopOpacity\": \"30%\"\n        }\n      }))), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"gradient3\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          \"stopColour\": \"#555555\",\n          \"stopOpacity\": \"0%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"28%\",\n        style: {\n          \"stopColour\": \"#555555\",\n          \"stopOpacity\": \"0%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"30%\",\n        style: {\n          \"stopColour\": \"#555555\",\n          \"stopOpacity\": \"20%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"80%\",\n        style: {\n          \"stopColour\": \"#555555\",\n          \"stopOpacity\": \"50%\"\n        }\n      }))), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"gradient4\",\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"0%\",\n        style: {\n          \"stopColour\": \"#373939\",\n          \"stopOpacity\": \"100%\"\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"100%\",\n        style: {\n          \"stopColour\": \"#023939\",\n          \"stopOpacity\": \"100%\"\n        }\n      })))))));\n    }\n  }]);\n\n  return Grid;\n}(Component);\n\nvar d3$9 = require('d3');\n/**\n * Create a new generic component (everything except slider, option list, panel, file upload, toogle, list view).\n * Example of calling this function for Average component:\n * CreateNewComponent(null, \"Average\", {\"shortName\": \"AVG\", \"dfType\": \"shlow\"}, [{\"name\": \"InputList\", \"shortName\": \"in_01\", \"desc\": \"first input\", \"default_value\": \"1.0\"}], [\"average\", \"log_\"], \"#F23322\")}\n * @param {*} FromExisting\n * @param {*} type the type of the component, either shallow or deep\n * @param {*} kwargs\n * @param {*} inputList a list of dictionary containing the name, short name, description and default value of the inputs.\n * This can be obtained by print out the udo_inputs in the Django version.\n * @param {*} outputList a list of string containing the name of the outputs. This can be obtained by print out the udo_outputs in the Django version.\n * @param {*} color the color of the component. The default color is #F23322 (orange). This can be obtained by print out the udo_fill in the Django version.\n */\n\n\nfunction CreateNewComponent(reactContext, FromExisting = null, type = null, kwargs = null, inputList, outputList, color = '#F23322', url) {\n  var IDLE_COLOR = reactContext.state.IDLE_COLOR;\n  var COMPONENT_RADIUS = reactContext.state.COMPONENT_RADIUS;\n  var one_character_width = 8;\n  var padding = 20;\n  var titleMargin = 30;\n  var titleMarginLeft = 30;\n  var newcomp;\n\n  if (FromExisting != null) {\n    newcomp = FromExisting;\n  } else {\n    var longestInput = '';\n\n    for (let index = 0; index < inputList.length; index++) {\n      const curr = inputList[index].name;\n\n      if (curr.length > longestInput.length) {\n        longestInput = curr;\n      }\n    }\n\n    var longestOutput = outputList.reduce(function (a, b) {\n      return a.length > b.length ? a : b;\n    }, '');\n    var ThisComponentName = type;\n    let n_inputs = inputList.length;\n    let n_outputs = outputList.length;\n    newcomp = addcomponent(uuidv4('C'), n_inputs, n_outputs, inputList, outputList);\n\n    if (type == null) {\n      ThisComponentName = $('div#addComp').attr('type');\n    } else {\n      ThisComponentName = type;\n      newcomp.dftype = kwargs.dfType;\n      newcomp.ShortName = kwargs.shortName;\n    }\n\n    newcomp.fill = color;\n\n    if (url !== undefined) {\n      newcomp.isUDODeep = true;\n      newcomp.url = url;\n    }\n\n    newcomp.Name = ThisComponentName;\n    newcomp.height = titleMargin + Math.max(newcomp.inputs.length, newcomp.outputs.length + 1) * padding;\n    newcomp.width = (longestInput.length + longestOutput.length) * one_character_width + titleMarginLeft; // initiate the parent_children_matrix\n\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n  }\n\n  var allContents = d3$9.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      if (kwargs.X !== undefined && kwargs.Y !== undefined) {\n        newcomp.X = kwargs.X;\n        newcomp.Y = kwargs.Y;\n      } else {\n        genX = Math.random() * 500 + 200;\n        genY = Math.random() * 500 + 200;\n        newcomp.X = genX;\n        newcomp.Y = genY;\n      }\n\n      return 'translate(' + newcomp.X + ', ' + newcomp.Y + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  });\n  var statusBar = node.append('g').attr('transform', 'translate(0,' + (newcomp.height - 25) + ')');\n  statusBar.append('rect').attr('id', 'statusRect' + newcomp.GUID).attr('width', newcomp.width + 2).attr('x', -1.0).attr('height', 40).attr('fill', IDLE_COLOR).attr('stroke-width', 1).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('opacity', 0.5);\n  statusBar.append('text').attr('class', 'statusTextClass').attr('id', 'statusText' + newcomp.GUID).attr('fill', 'black').attr('x', 5).attr('y', 37).text('Idle...');\n  var InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('r', '7').attr('stroke', newcomp.fill).attr('stroke-width', '2').attr('id', 'inputCirViual' + newcomp.GUID + '_' + index).attr('class', 'inputCirVisual ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        return FromExisting.inputs[index].type;\n      }\n    });\n  }\n\n  InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('fill-opacity', '0.3').attr('r', '15').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        return FromExisting.inputs[index].type;\n      }\n    });\n  }\n\n  var OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('r', '7').attr('stroke', newcomp.fill).attr('stroke-width', '2').attr('id', 'outputCirVisual' + newcomp.GUID + '_' + index).attr('class', 'outputCirVisual ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        return FromExisting.outputs[index].type;\n      }\n    }).lower();\n  }\n\n  OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('fill-opacity', '0.5').attr('r', '12').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        return FromExisting.outputs[index].type;\n      }\n    });\n  }\n\n  node.append('rect').attr('class', 'CompCBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', COMPONENT_RADIUS + 1).attr('ry', COMPONENT_RADIUS + 1).attr('stroke-width', '3').attr('stroke', newcomp.fill).attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', '#E8E8E8').on('mousedown', () => {\n    reactContext.setState({\n      rectType: 'component'\n    });\n  });\n  node.append('g').attr('transform', () => {\n    var x = newcomp.width;\n    var y = newcomp.height;\n    return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n  });\n  var Titlegroup = node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  }); //Title rectangle\n\n  Titlegroup.append('rect').attr('width', newcomp.width - 2).attr('height', 20).attr('fill', newcomp.fill).attr('x', 1.0).attr('y', -14).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS);\n  Titlegroup.append('rect').attr('width', newcomp.width - 2).attr('height', 8).attr('fill', newcomp.fill).attr('x', 1.0).attr('y', -2);\n  node.append('rect').attr('width', newcomp.width - 2).attr('height', newcomp.height - 2).attr('x', 1.0).attr('y', 1).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('stroke', newcomp.fill).attr('fill-opacity', 0.0);\n  Titlegroup.append('foreignObject').attr('class', 'nodetitle node_title' + newcomp.GUID).attr('id', 'node_title' + newcomp.GUID).attr('data-testid', 'node-title-' + newcomp.Name).attr('x', 0).attr('y', -10).attr('width', newcomp.width).attr('height', '20').text(newcomp.Name);\n  var InputGroupText = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroupText.append('text').attr('id', 'input-' + newcomp.GUID + '_' + index).attr('class', 'inputTxt ' + newcomp.GUID + ' ' + index).attr('data-testid', 'inputTxt-' + newcomp.Name).attr('transform', 'translate(' + 10 + ' , ' + (index * padding + titleMargin + 5).toString() + ')').text(newcomp.inputs[index].Name).attr('fill', 'black').attr('type', function () {\n      newcomp.inputs[index].textObj = this.id;\n\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        return FromExisting.inputs[index].type;\n      }\n    });\n  }\n\n  var OutputGroupText = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroupText.append('text').attr('id', 'output-' + newcomp.GUID + '_' + index).attr('class', 'outputTxt ' + newcomp.GUID + ' ' + index).attr('data-testid', 'outputTxt-' + newcomp.Name).attr('transform', 'translate(' + (newcomp.width - newcomp.outputs[index].ShortName.length * 8 - 5).toString() + ' , ' + (index * padding + titleMargin + 5).toString() + ')').text(newcomp.outputs[index].ShortName).attr('fill', 'black').attr('type', function () {\n      newcomp.outputs[index].circle = this;\n\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        newcomp.outputs[index].type = FromExisting.outputs[index].type;\n        return FromExisting.outputs[index].type;\n      }\n    }).attr('type', function () {\n      newcomp.outputs[index].textObj = this.id;\n\n      if (FromExisting == null) {\n        return 'text';\n      } else {\n        return FromExisting.outputs[index].type;\n      }\n    });\n  }\n\n  node.append('rect').attr('class', 'CompCBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill).attr('fill-opacity', '0.01').on('mousemove', function (event) {\n    d3$9.select(event.currentTarget).attr('cursor', 'pointer');\n  }).on('mouseout', function (event) {\n    d3$9.select(event.currentTarget).attr('fill', newcomp.fill);\n  }).on('dblclick', () => {}).on('mousedown', () => {\n    reactContext.setState({\n      rectType: 'component'\n    });\n  });\n\n  if (newcomp.dftype === 'dp') {\n    node.append('rect').attr('class', 'play ' + newcomp.GUID).attr('id', 'play_' + newcomp.GUID).attr('x', newcomp.width / 2.0 - 10).attr('y', newcomp.height - 10).attr('height', 20).attr('width', 20).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('fill', newcomp.fill).attr('stroke', newcomp.fill).attr('stroke-width', '6').style('cursor', 'pointer').on('click', function () {\n      runDeepFunction(newcomp.GUID);\n    });\n    node.append('svg').attr('role', 'img').attr('xmlns', 'http://www.w3.org/2000/svg').attr('width', 20).attr('height', 20).attr('x', newcomp.width / 2.0 - 10).attr('y', newcomp.height - 10).attr('viewBox', '0 0 512 512').append('path').attr('class', 'play ' + newcomp.GUID).attr('fill', 'white').attr('d', 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z').on('click', function () {\n      runDeepFunction(newcomp.GUID);\n    });\n  }\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n\nvar d3$8 = require('d3');\n\nvar addInputCirclesFunc;\nvar addOutputCirclesFunc;\n\nfunction CreateNewDeep(reactContext, FromExisting = null) {\n  var IDLE_COLOR = reactContext.state.IDLE_COLOR;\n  var COMPONENT_RADIUS = reactContext.state.COMPONENT_RADIUS;\n  var padding = 20;\n  var titleMargin = 30;\n  var newcomp;\n\n  if (FromExisting != null) {\n    newcomp = FromExisting;\n  } else {\n    newcomp = addcomponent(uuidv4('C'), 0, 0, [], []);\n    newcomp.dftype = \"dp\";\n    newcomp.ShortName = \"deep\";\n    newcomp.fill = '#0031E7';\n    newcomp.type = \"deep\";\n    newcomp.Name = \"Deep\";\n    newcomp.height = 80;\n    newcomp.width = 100; // initiate the parent_children_matrix\n\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n  }\n\n  var allContents = d3$8.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      genX = Math.random() * 500 + 200;\n      genY = Math.random() * 500 + 200;\n      newcomp.X = genX;\n      newcomp.Y = genY;\n      return 'translate(' + newcomp.X + ', ' + newcomp.Y + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  });\n  var statusBar = node.append('g').attr('transform', 'translate(0,' + (newcomp.height - 25) + ')');\n  var statusbar2 = statusBar.append('rect').attr('id', 'statusRect' + newcomp.GUID).attr('width', newcomp.width + 2).attr('x', -1.0).attr('height', 40).attr('fill', IDLE_COLOR).attr('stroke-width', 1).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('opacity', 0.5);\n  statusBar.append('text').attr('class', 'statusTextClass').attr('id', 'statusText' + newcomp.GUID).attr('fill', 'black').attr('x', 5).attr('y', 37).text('Idle...');\n\n  function addInputCircles(newcomp) {\n    var node = newcomp.node;\n    var InputGroup = node.append('g').lower();\n\n    for (let index = 0; index < newcomp.inputs.length; index++) {\n      InputGroup.append('circle').lower().attr('cx', '0').attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('r', '7').attr('stroke', newcomp.fill).attr('stroke-width', '2').attr('id', 'inputCirViual' + newcomp.GUID + '_' + index).attr('class', 'inputCirVisual ' + newcomp.GUID + ' ' + index).attr('type', function () {\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          return FromExisting.inputs[index].type;\n        }\n      });\n    }\n\n    InputGroup = node.append('g').lower();\n\n    for (let index = 0; index < newcomp.inputs.length; index++) {\n      InputGroup.append('circle').lower().attr('cx', '0').attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('fill-opacity', '0.3').attr('r', '15').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          return FromExisting.inputs[index].type;\n        }\n      });\n    }\n\n    var InputGroupText = node.append('g');\n\n    for (let index = 0; index < newcomp.inputs.length; index++) {\n      InputGroupText.append('text').attr('id', 'input-' + newcomp.GUID + '_' + index).attr('class', 'inputTxt ' + newcomp.GUID + ' ' + index).attr('transform', 'translate(' + 10 + ' , ' + (index * padding + titleMargin + 5).toString() + ')').text(newcomp.inputs[index].Name).attr('fill', 'black').attr('type', function () {\n        newcomp.inputs[index].textObj = this.id;\n\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          return FromExisting.inputs[index].type;\n        }\n      });\n    }\n  }\n\n  addInputCirclesFunc = addInputCircles;\n\n  function addOutputCircles(newcomp) {\n    var node = newcomp.node;\n    var OutputGroup = node.append('g').lower();\n\n    for (let index = 0; index < newcomp.outputs.length; index++) {\n      OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('r', '7').attr('stroke', newcomp.fill).attr('stroke-width', '2').attr('id', 'outputCirVisual' + newcomp.GUID + '_' + index).attr('class', 'outputCirVisual ' + newcomp.GUID + ' ' + index).attr('type', function () {\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          return FromExisting.outputs[index].type;\n        }\n      }).lower();\n    }\n\n    OutputGroup = node.append('g').lower();\n\n    for (let index = 0; index < newcomp.outputs.length; index++) {\n      OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', (index * padding + titleMargin).toString()).attr('fill', newcomp.fill).attr('fill-opacity', '0.5').attr('r', '12').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          return FromExisting.outputs[index].type;\n        }\n      });\n    }\n\n    var OutputGroupText = node.append('g');\n\n    for (let index = 0; index < newcomp.outputs.length; index++) {\n      OutputGroupText.append('text').attr('id', 'output-' + newcomp.GUID + '_' + index).attr('class', 'outputTxt ' + newcomp.GUID + ' ' + index).attr('transform', 'translate(' + (newcomp.width - newcomp.outputs[index].ShortName.length * 8 - 5).toString() + ' , ' + (index * padding + titleMargin + 5).toString() + ')').text(newcomp.outputs[index].ShortName).attr('fill', 'black').attr('type', function () {\n        newcomp.outputs[index].circle = this;\n\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          newcomp.outputs[index].type = FromExisting.outputs[index].type;\n          return FromExisting.outputs[index].type;\n        }\n      }).attr('type', function () {\n        newcomp.outputs[index].textObj = this.id;\n\n        if (FromExisting == null) {\n          return 'text';\n        } else {\n          return FromExisting.outputs[index].type;\n        }\n      });\n    }\n  }\n\n  addOutputCirclesFunc = addOutputCircles;\n  var Dummyrect = node.append('rect').attr('class', 'CompCBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', COMPONENT_RADIUS + 1).attr('ry', COMPONENT_RADIUS + 1).attr('stroke-width', '3').attr('stroke', newcomp.fill).attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', '#E8E8E8').on('mousedown', () => {\n    reactContext.setState({\n      rectType: 'component'\n    });\n  });\n  var cirGroup = node.append('g').attr('transform', () => {\n    var x = newcomp.width;\n    var y = newcomp.height;\n    return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n  });\n  var Titlegroup = node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  }); //Title rectangle\n\n  var Titlegroup2 = Titlegroup.append('rect').attr('width', newcomp.width - 2).attr('height', 20).attr('fill', newcomp.fill).attr('x', 1.0).attr('y', -14).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS);\n  var Titlegroup3 = Titlegroup.append('rect').attr('width', newcomp.width - 2).attr('height', 8).attr('fill', newcomp.fill).attr('x', 1.0).attr('y', -2);\n  var resize1 = node.append('rect').attr('width', newcomp.width - 2).attr('height', newcomp.height - 2).attr('x', 1.0).attr('y', 1).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('stroke', newcomp.fill).attr('fill-opacity', 0.0);\n  var Title = Titlegroup.append('foreignObject').attr('class', 'nodetitle node_title' + newcomp.GUID).attr('id', 'node_title' + newcomp.GUID).attr('data-testid', 'node_title').attr('x', 0).attr('y', -10).attr('width', newcomp.width).attr('height', '20').text(newcomp.Name);\n  var rect = node.append('rect').attr('class', 'CompCBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill).attr('fill-opacity', '0.01').on('mousemove', function (event) {\n    d3$8.select(event.currentTarget).attr('cursor', 'pointer');\n  }).on('mouseout', function (event) {\n    d3$8.select(event.currentTarget).attr('fill', newcomp.fill);\n  }).on('dblclick', () => {}).on('mousedown', () => {\n    reactContext.setState({\n      rectType: 'component'\n    });\n  });\n  var playrect2 = node.append('rect').attr('class', 'play ' + newcomp.GUID).attr('id', 'play_' + newcomp.GUID).attr('x', newcomp.width / 2.0 - 10).attr('y', newcomp.height - 10).attr('height', 20).attr('width', 20).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('fill', newcomp.fill).attr('stroke', newcomp.fill).attr('stroke-width', '6').style('cursor', 'pointer').on('click', function () {\n    console.log('start calculation');\n    runDeepFunction(newcomp.GUID);\n  });\n  node.append('svg').attr('role', 'img').attr('class', 'removableSVG' + newcomp.GUID).attr('data-testid', 'play_btn').attr('xmlns', 'http://www.w3.org/2000/svg').attr('width', 20).attr('height', 20).attr('x', newcomp.width / 2.0 - 10).attr('y', newcomp.height - 10).attr('viewBox', '0 0 512 512').append('path').attr('class', 'play ' + newcomp.GUID).attr('fill', 'white').attr('d', 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z').on('click', function () {\n    console.log('start calculation');\n    runDeepFunction(newcomp.GUID);\n  });\n  newcomp.statusBar = statusBar;\n  newcomp.Dummyrect = Dummyrect;\n  newcomp.cirGroup = cirGroup;\n  newcomp.resize1 = resize1;\n  newcomp.rect = rect;\n  newcomp.playrect2 = playrect2;\n  newcomp.node = node;\n  newcomp.statusbar2 = statusbar2;\n  newcomp.Titlegroup2 = Titlegroup2;\n  newcomp.Titlegroup3 = Titlegroup3;\n  newcomp.Title = Title;\n  addInputCirclesFunc(newcomp);\n  addOutputCirclesFunc(newcomp);\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n\nfunction submitDeepEdit(reactContext, compKey) {\n  const guidList = [];\n  reactContext.state.allComp.forEach(e => guidList.push(e.GUID));\n\n  if (guidList.includes(compKey)) {\n    var deepComp = selectComp(compKey);\n    var name = $('input.deepProp.Name').val();\n    var inputs = $('textarea.deepProp.Val').val();\n    var url = $('input.deepProp.url').val();\n    var inputDict = createInputDict(inputs.split('\\n'));\n\n    if (url === '') {\n      $('div#propertiesBarLog').html('<div id=\"error\">Please provide a valid URL</div>'); // // Empty input list check (confirm requirement)\n      // } else if (inputDict.length === 0) {\n      //     $('div#propertiesBarLog').html(\n      //         '<div id=\"error\">The input list must not be empty</div>'\n      //     );\n    } else {\n      deepComp.inputNames = inputs;\n      deepComp.inputs = inputDict;\n      deepComp.outputs = createOutputDict([\"out\", \"log\"]);\n      deepComp.url = url;\n      deepComp.Name = name;\n      d3$8.selectAll('circle.inputCirVisual.' + deepComp.GUID).remove();\n      d3$8.selectAll('circle.inputCir.' + deepComp.GUID).remove();\n      d3$8.selectAll('text.inputTxt.' + deepComp.GUID).remove();\n      d3$8.selectAll('circle.outputCirVisual.' + deepComp.GUID).remove();\n      d3$8.selectAll('circle.outputCir.' + deepComp.GUID).remove();\n      d3$8.selectAll('text.outputTxt.' + deepComp.GUID).remove();\n      resize(deepComp);\n      addInputCirclesFunc(deepComp);\n      addOutputCirclesFunc(deepComp);\n      $('foreignObject#node_title' + deepComp.GUID).text(name);\n      redrawDependents(compKey);\n      $('div#propertiesBarContents').html('');\n    }\n  } else {\n    $('div#propertiesBarContents').html('');\n  }\n}\n\nfunction resize(newcomp) {\n  var one_character_width = 8;\n  var padding = 20;\n  var titleMargin = 30;\n  var titleMarginLeft = 30;\n  var longestInput = '';\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    const curr = newcomp.inputs[index].Name;\n\n    if (curr.length > longestInput.length) {\n      longestInput = curr;\n    }\n  }\n\n  var longestOutput = newcomp.outputs.reduce((a, b) => a.Name.length > b.Name.length ? a : b, {\n    Name: ''\n  }).Name;\n  newcomp.height = Math.max(80, titleMargin + Math.max(newcomp.inputs.length, newcomp.outputs.length + 1) * padding);\n  newcomp.width = Math.max(100, (longestInput.length + longestOutput.length) * one_character_width + titleMarginLeft);\n  newcomp.statusBar.attr('transform', 'translate(0,' + (newcomp.height - 25) + ')');\n  newcomp.Dummyrect.attr('height', newcomp.height).attr('width', newcomp.width);\n  newcomp.cirGroup.attr('transform', () => {\n    var x = newcomp.width;\n    var y = newcomp.height;\n    return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n  });\n  newcomp.resize1.attr('height', newcomp.height - 2).attr('width', newcomp.width - 2);\n  newcomp.rect.attr('height', newcomp.height).attr('width', newcomp.width);\n  newcomp.playrect2.attr('y', newcomp.height - 10).attr('x', newcomp.width / 2.0 - 10);\n  newcomp.statusbar2.attr('width', newcomp.width + 2);\n  newcomp.Titlegroup2.attr('width', newcomp.width - 2);\n  newcomp.Titlegroup3.attr('width', newcomp.width - 2);\n  newcomp.Title.attr('width', newcomp.width);\n  d3$8.select('svg.removableSVG' + newcomp.GUID).remove();\n  newcomp.node.append('svg').attr('role', 'img').attr('class', 'removableSVG' + newcomp.GUID).attr('xmlns', 'http://www.w3.org/2000/svg').attr('width', 20).attr('height', 20).attr('x', newcomp.width / 2.0 - 10).attr('y', newcomp.height - 10).attr('viewBox', '0 0 512 512').append('path').attr('class', 'play ' + newcomp.GUID).attr('fill', 'white').attr('d', 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z').on('click', function () {\n    console.log('start calculation');\n    runDeepFunction(newcomp.GUID);\n  });\n}\n\nfunction createOutputDict(outputsIn) {\n  var outputs = [];\n\n  for (let index = 0; index < outputsIn.length; index++) {\n    try {\n      outputs.push({\n        id: index,\n        circle: null,\n        textObj: null,\n        Name: outputsIn[index],\n        ShortName: outputsIn[index],\n        Description: outputsIn[index].desc,\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: null\n      });\n    } catch {\n      outputs.push({\n        id: index,\n        circle: null,\n        textObj: null,\n        Name: '',\n        ShortName: '',\n        Description: '',\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: null\n      });\n    }\n  }\n\n  return outputs;\n}\n\nfunction createInputDict(inputsIn) {\n  var inputs = [];\n\n  for (let index = 0; index < inputsIn.length; index++) {\n    if (inputsIn[index] === '') continue;\n\n    try {\n      inputs.push({\n        id: index,\n        circle: null,\n        textObj: null,\n        Name: inputsIn[index],\n        ShortName: inputsIn[index].shortName,\n        Description: inputsIn[index].desc,\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: inputsIn[index].default_value\n      });\n    } catch {\n      inputs.push({\n        id: index,\n        circle: null,\n        textObj: null,\n        Name: '',\n        ShortName: '',\n        Description: '',\n        Message: 'short description',\n        type: 'item',\n        datatype: 'int',\n        value: ''\n      });\n    }\n  }\n\n  return inputs;\n}\n\nvar d3$7 = require('d3');\n\nfunction CreateNewFileUpload(reactContext, FromExisting = null, kwargs = null) {\n  var newcomp;\n\n  if (FromExisting == null) {\n    newcomp = addcomponent(uuidv4('C'), 0, 1);\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n  } else {\n    newcomp = FromExisting;\n  }\n\n  newcomp.fill = '#5e6b7a';\n  newcomp.Name = 'False';\n  var padding = 20;\n  var titleMargin = 30;\n  newcomp.height = 25;\n  newcomp.type = 'fileUpload';\n  newcomp.dftype = 'shlow'; // TODO : get the longest text in the component. and set the width based on this.\n\n  newcomp.width = 300;\n  var allContents = d3$7.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      var mousex = reactContext.state.mousex;\n      var mousey = reactContext.state.mousey;\n      newcomp.X = mousex + Math.random() * 500;\n      newcomp.Y = mousey + Math.random() * 500;\n      return 'translate(' + newcomp.X + ', ' + newcomp.Y + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  }).data([{\n    x: FromExisting ? FromExisting.X : newcomp.X,\n    y: FromExisting ? FromExisting.Y : newcomp.Y\n  }]);\n  var InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.inputs[index].circle = reactContext.state.fromCircle;\n      newcomp.inputs[index].circle.element = this.id;\n      newcomp.inputs[index].circle.CX = 0;\n      newcomp.inputs[index].circle.CY = index * padding + titleMargin;\n      newcomp.inputs[index].type = 'input';\n      return 'input';\n    });\n  }\n\n  var OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.outputs[index].circle = this;\n      newcomp.outputs[index].type = 'output';\n      return 'output';\n    }).lower();\n  }\n\n  node.append('rect').attr('class', 'CompFBody statusRect ' + newcomp.GUID).attr('id', 'statusRect' + newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('x', '50').attr('y', newcomp.height - 5).attr('width', newcomp.width - 50).attr('height', 20).attr('fill', '#242424').attr('fill-opacity', '1.0');\n  node.append('foreignObject').attr('id', 'fileUpload_status_' + newcomp.GUID).attr('class', 'fileUpload_status ' + newcomp.GUID).html(() => {\n    if (newcomp.outputs[0].value == null || newcomp.outputs[0].value === undefined) {\n      return 'File Size : None';\n    } else {\n      return 'File Size : ' + (newcomp.outputs[0].Description.size / (1024 * 1024)).toString() + \" MB \";\n    }\n  }).attr('x', '55').attr('y', newcomp.height + 2).attr('width', newcomp.width - 50).attr('height', 15).attr('fill', 'white');\n  node.append('rect').attr('class', 'CompFBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('stroke-width', '1').attr('stroke', 'black').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill);\n  var cirGroup = node.append('g').attr('transform', () => {\n    var x = newcomp.width;\n    var y = newcomp.height;\n    return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n  });\n  cirGroup.append('text').attr('id', 'nodeLog' + newcomp.GUID).attr('class', 'nodeLog ' + newcomp.GUID).attr('transform', 'translate(10, 10)').text(newcomp.log.logText).attr('fill', 'black').style('display', 'none');\n  node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  });\n  node.append('rect').attr('width', newcomp.width - 2).attr('height', 10).attr('x', 1).attr('y', 1).attr('rx', 2).attr('ry', 2).attr('fill', 'url(#gradient2)').attr('fill-opacity', 0.4);\n  node.append('foreignObject').attr('id', 'foreignObject_fileUpload' + newcomp.GUID).attr('class', 'foreignObject_fileUpload').attr('width', newcomp.width).attr('height', newcomp.height).attr('y', '-1.1px').html(() => {\n    if (newcomp.outputs[0].value == null || newcomp.outputs[0].value === undefined) {\n      var form = `\n                    <form method=\"post\" enctype=\"multipart/form-data\" id=\"form_` + newcomp.GUID + `\">\n                    <input id=\"fileUploadFormToTheCloud\" class=\"` + newcomp.GUID + `\" type=\"file\" name=\"myFile\" data-testid=\"fileUploadForm\">\n                    </form>\n                    `;\n      return form;\n    } else {\n      let displayedName = newcomp.outputs[0].Description.Name.length < 25 ? newcomp.outputs[0].Description.Name : newcomp.outputs[0].Description.Name.substring(0, 25) + '...';\n      return `\n                        <div id=\"TheContainedFile\">` + displayedName + `</div>\n                        <div id=\"TheContainedFile\">Size :` + (newcomp.outputs[0].Description.size / (1024 * 1024)).toFixed(4).toString() + ` MB</div>\n                    `;\n    }\n  });\n  node.append('rect').attr('class', 'CompFBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('x', 90).attr('width', newcomp.width - 90).attr('height', newcomp.height).attr('fill', newcomp.fill).attr('fill-opacity', '0.01').on('mousemove', function (event) {\n    d3$7.select(event.currentTarget).attr('cursor', 'pointer');\n  }).on('mouseout', function (event) {\n    d3$7.select(event.currentTarget).attr('fill', newcomp.fill);\n  });\n  newcomp.value = newcomp.Name;\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n  $('input#fileUploadFormToTheCloud').on('change', function (e) {\n    var selectedFile = e.target.files[0];\n    var thisFormId = $(this).attr('class');\n    var fileName = selectedFile.name;\n    var fileSize = selectedFile.size;\n    var theCurrentComp = selectComp(thisFormId);\n    theCurrentComp.outputs[0].Name = fileName;\n    theCurrentComp.outputs[0].Description = {\n      Name: fileName,\n      size: fileSize\n    };\n    const reader = new FileReader();\n\n    reader.onload = function () {\n      theCurrentComp.outputs[0].value = reader.result;\n      d3$7.select('#fileUpload_status_' + thisFormId).html('File Size : ' + (selectedFile.size / (1024 * 1024)).toString() + \" MB\");\n      d3$7.select('#foreignObject_fileUpload' + thisFormId).html(() => {\n        let displayedName = fileName.length < 25 ? fileName : fileName.substring(0, 25) + '...';\n        return `\n                    <div id=\"TheContainedFile\">` + displayedName + `</div>\n                    <div id=\"TheContainedFile\">Size :` + (selectedFile.size / (1024 * 1024)).toFixed(4).toString() + ` MB</div>\n                    `;\n      });\n      redrawDependents(thisFormId);\n    };\n\n    reader.readAsDataURL(selectedFile);\n  });\n}\n\nvar d3$6 = require('d3');\n\nfunction CreateNewListView(reactContext, FromExisting = null, optionlist_predefined_items = null) {\n  var newcomp;\n\n  if (FromExisting == null) {\n    newcomp = addcomponent(uuidv4('C'), 1, 1);\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n    newcomp.Name = 'Select item';\n    newcomp.value = [['dummy_Option1', 0], [1.022235, 1], [2235, 0], ['shouldBeSelected', 1], ['dummy_Option1', 0], [1.022235, 1], [2235, 0], ['shouldBeSelected', 1], ['dummy_Option1', 0], [1.022235, 1], [2235, 0], ['shouldBeSelected', 1]];\n    newcomp.inputs[0].value = newcomp.value;\n\n    if (optionlist_predefined_items != null) {\n      newcomp.optionListValues = JSON.parse(optionlist_predefined_items);\n    }\n  } else {\n    newcomp = FromExisting;\n  }\n\n  newcomp.fill = 'url(#grad1ient)';\n  var padding = 20;\n  var titleMargin = 30;\n  newcomp.height = 200;\n  newcomp.type = 'listView';\n  newcomp.dftype = 'shlow';\n  newcomp.width = 200; // TODO : get the longest text in the component. and set the width based on this.\n\n  var allContents = d3$6.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      genX = Math.random() * 500 + 200;\n      genY = Math.random() * 500 + 200;\n      newcomp.X = genX;\n      newcomp.Y = genY;\n      return 'translate(' + genX + ', ' + genY + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  }).data([{\n    x: FromExisting ? FromExisting.X : genX,\n    y: FromExisting ? FromExisting.Y : genY\n  }]);\n  var InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', newcomp.height / 2).attr('fill', 'gray') //newcomp.fill)\n    .attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.inputs[index].circle = addCircle();\n      newcomp.inputs[index].circle.element = this.id;\n      newcomp.inputs[index].circle.CX = 0;\n      newcomp.inputs[index].circle.CY = index * padding + titleMargin;\n      newcomp.inputs[index].type = 'input';\n      return 'input';\n    });\n  }\n\n  var OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', newcomp.height / 2).attr('fill', 'gray') //newcomp.fill)\n    .attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.outputs[index].circle = this;\n      newcomp.outputs[index].type = 'output';\n      return 'output';\n    }).lower();\n  }\n\n  node.append('rect').attr('class', 'CompLBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', '3').attr('ry', '3') //.attr(\"filter\", \"url(#f2\")\n  .attr('stroke-width', '1').attr('stroke', 'black').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', '#CECECE');\n  node.append('text').attr('x', 5).attr('y', 15).text('List Items').attr('fill', 'black').style('font-family', 'Ubuntu Mono'); //listbox items\n\n  node.append('foreignObject').attr('class', 'listView CompLBody' + newcomp.GUID).attr('id', 'listView-' + newcomp.GUID).attr('y', 20).attr('x', 1).attr('width', newcomp.width - 2).attr('height', newcomp.height - 20).html(() => setListViewHTML(newcomp));\n  d3$6.select('select#listviewSelect' + newcomp.GUID).on('click', function (e) {\n    try {\n      var el = e.path[0].classList[2];\n      newcomp.value[el][1] = newcomp.value[el][1] === 0 ? 1 : 0;\n      setListViewHTML(newcomp);\n      redrawDependents(newcomp.GUID);\n    } catch (e) {\n      console.log(\"Selected point is not an option\");\n      return;\n    }\n  });\n  node.append('rect').attr('class', 'CompLBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('width', newcomp.width).attr('height', 20).attr('fill', newcomp.fill).attr('fill-opacity', '0.01').on('mousemove', function (event) {\n    d3$6.select(event.currentTarget).attr('cursor', 'pointer');\n  }).on('mouseout', function (event) {\n    d3$6.select(event.currentTarget).attr('fill', newcomp.fill);\n  });\n  node.append('g').attr('id', 'optionListOption-' + newcomp.GUID);\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n\nvar d3$5 = require('d3');\n\nvar optionListComp;\nvar OptionListValues;\n\nfunction CreateNewOptionList(reactContext, FromExisting = null, optionlist_predefined_items = null) {\n  var newcomp;\n\n  if (FromExisting == null) {\n    newcomp = addcomponent(uuidv4('C'), 1, 1);\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n    newcomp.Name = 'Select item';\n\n    if (optionlist_predefined_items != null) {\n      newcomp.optionListValues = JSON.parse(optionlist_predefined_items);\n    }\n  } else {\n    newcomp = FromExisting;\n  }\n\n  newcomp.fill = 'white';\n  var padding = 20;\n  var titleMargin = 30;\n  newcomp.height = 20;\n  newcomp.type = 'optionList';\n  newcomp.dftype = 'shlow'; // TODO : get the longest text in the component. and set the width based on this.\n\n  var allContents = d3$5.select('#allCanvasContents');\n  newcomp.width = 200;\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      genX = Math.random() * 500 + 200;\n      genY = Math.random() * 500 + 200;\n      newcomp.X = genX;\n      newcomp.Y = genY;\n      return 'translate(' + genX + ', ' + genY + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  }).data([{\n    x: FromExisting ? FromExisting.X : genX,\n    y: FromExisting ? FromExisting.Y : genY\n  }]);\n  var InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.inputs[index].circle = addCircle();\n      newcomp.inputs[index].circle.element = this.id;\n      newcomp.inputs[index].circle.CX = 0;\n      newcomp.inputs[index].circle.CY = index * padding + titleMargin;\n      newcomp.inputs[index].type = 'input';\n      return 'input';\n    });\n  }\n\n  var OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.outputs[index].circle = this;\n      newcomp.outputs[index].type = 'output';\n      return 'output';\n    }).lower();\n  }\n\n  node.append('rect').attr('class', 'CompOBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('stroke-width', '1').attr('stroke', 'black').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill);\n  var cirGroup = node.append('g').attr('transform', () => {\n    let x = newcomp.width;\n    let y = newcomp.height;\n    return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n  });\n  cirGroup.append('text').attr('id', 'nodeLog' + newcomp.GUID).attr('class', 'nodeLog ' + newcomp.GUID).attr('transform', 'translate(10, 10)').text(newcomp.log.logText).attr('fill', 'black').style('display', 'none');\n  node.append('rect').attr('class', 'CompOBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', 'white').attr('stroke', 'black').attr('stroke-width', '1').on('mousemove', function (event) {\n    d3$5.select(event.currentTarget).attr('cursor', 'pointer');\n  });\n  var Titlegroup = node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  });\n  Titlegroup.append('text').attr('class', 'nodetitle node_title' + newcomp.GUID).attr('id', 'option-' + newcomp.GUID).text(newcomp.Name).attr('fill', 'black').attr('transform', 'translate(' + 20 + ', 0)');\n  node.append('g').attr('id', 'optionListOption-' + newcomp.GUID);\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n\nfunction handleOptionListEdit(compKey) {\n  optionListComp = selectComp(compKey);\n  OptionListValues = optionListComp['optionListValues'];\n  $('textarea.textarea.optionlistProperties').text(function () {\n    let optionListOptionsfromTextarea = '';\n    let forTheHTMLpreview = '';\n\n    for (const option in optionListComp['optionListValues']) {\n      if (optionListComp['optionListValues'].hasOwnProperty(option)) {\n        optionListOptionsfromTextarea += '<option value=\"' + optionListComp['optionListValues'][option] + '\">' + option + '</option>';\n        forTheHTMLpreview += option + '-->' + optionListComp['optionListValues'][option] + '<br>';\n      }\n    }\n\n    $('div#propertiesBarLog').html('<div id=\"success\">Success:<br>' + forTheHTMLpreview + '</div>');\n    $('select#propertisBarSelecId').html(optionListOptionsfromTextarea);\n    return JSON.stringify(optionListComp['optionListValues']);\n  });\n  $('textarea.textarea.optionlistProperties').on('change', function (e) {\n    try {\n      let thedict = JSON.parse($(this).val());\n      OptionListValues = thedict;\n      $('select#propertisBarSelecId').html(function () {\n        let optionListOptionsfromTextarea = '';\n        let forTheHTMLpreview = '';\n\n        for (const option in thedict) {\n          if (thedict.hasOwnProperty(option)) {\n            optionListOptionsfromTextarea += '<option value=\"' + thedict[option] + '\">' + option + '</option>';\n            forTheHTMLpreview += option + '-->' + thedict[option] + '<br>';\n          }\n        }\n\n        $('div#propertiesBarLog').html('<div id=\"success\">Success:<br>' + forTheHTMLpreview + '</div>');\n        return optionListOptionsfromTextarea;\n      });\n    } catch {\n      $('div#propertiesBarLog').html('<div id=\"error\">Error: check Dictionary syntax,<br>example : {\"key1\":value1, \"key2\":value2}</div>');\n    }\n  });\n}\n\nfunction submitOptionListEdit(reactContext, compKey) {\n  const guidList = [];\n  reactContext.state.allComp.forEach(e => guidList.push(e.GUID));\n\n  if (guidList.includes(compKey)) {\n    optionListComp['optionListValues'] = OptionListValues;\n    showDropDownList(compKey);\n  }\n\n  $('div#propertiesBarContents').html('');\n}\n\nvar d3$4 = require('d3'); //TODO : check this for the text overflow : https://bl.ocks.org/mbostock/1424037\n\n\nfunction CreateNewPanel(reactContext, FromExisting = null) {\n  var COMPONENT_RADIUS = reactContext.state.COMPONENT_RADIUS;\n  var ANCHOR_WIDTH = reactContext.state.ANCHOR_WIDTH;\n  var newcomp;\n\n  if (FromExisting == null) {\n    newcomp = addcomponent(uuidv4('C'), 1, 1);\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n    newcomp.Name = 'Panel';\n    newcomp.width = 300;\n  } else {\n    newcomp = FromExisting;\n    newcomp.value = newcomp.outputs[0].value;\n  }\n\n  newcomp.fill = 'white';\n  newcomp.type = 'string';\n  newcomp.dftype = 'shlow';\n  newcomp.inputs[0].value = newcomp.value;\n  var allContents = d3$4.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      genX = Math.random() * 500 + 200;\n      genY = Math.random() * 500 + 200;\n      newcomp.X = genX;\n      newcomp.Y = genY;\n      return 'translate(' + genX + ', ' + genY + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  }).data([{\n    x: FromExisting ? FromExisting.X : genX,\n    y: FromExisting ? FromExisting.Y : genY\n  }]);\n  node.append('rect').attr('class', 'CompPBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('y', '-15').attr('width', () => {\n    return 10 + newcomp.Name.length * 6;\n  }).attr('height', newcomp.height + 10).attr('fill', '#525252').attr('fill-opacity', '1.0').on('mouseover', function (event) {\n    d3$4.select(event.currentTarget).attr('cursor', 'pointer');\n  });\n  var InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.inputs[index].circle = this;\n\n      if (FromExisting == null) {\n        newcomp.inputs[index].type = 'text';\n      }\n\n      return 'input';\n    }).on('mousemove', function () {\n      reactContext.setState({\n        targetcircleIN: true\n      });\n    }).on('mouseout', function () {\n      reactContext.setState({\n        targetcircleIN: false\n      });\n    }).lower();\n  }\n\n  var OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.outputs[index].circle = this;\n      newcomp.outputs[index].type = 'output';\n      return 'output';\n    }).on('mousemove', function () {\n      reactContext.setState({\n        targetcircleIN: true\n      });\n    }).on('mouseout', function () {\n      reactContext.setState({\n        targetcircleIN: false\n      });\n    }).lower();\n  }\n\n  node.append('rect').attr('class', 'CompPBody statusRect ' + newcomp.GUID).attr('id', 'statusRect' + newcomp.GUID).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('x', '50').attr('y', newcomp.height - 20).attr('width', newcomp.width - 50).attr('height', 35).attr('fill', '#525252').attr('fill-opacity', '1.0');\n  node.append('foreignObject').attr('id', 'panel_status_' + newcomp.GUID).attr('class', 'panel_status ' + newcomp.GUID).html('Type : ' + newcomp.inputs[0].type).attr('x', '55').attr('y', newcomp.height + 2).attr('width', newcomp.width - 50).attr('height', 15).attr('fill', 'white');\n  node.append('foreignObject').attr('id', 'panel_edit_mode' + newcomp.GUID).attr('class', 'panel_edit_mode ' + newcomp.GUID).html(() => {\n    return '<h5 id=\"changeEditMoveMode_' + newcomp.GUID + '\" style=\"color:white; margin-top:1px\" \">Drag</h5>';\n  }).attr('x', newcomp.width - 30).attr('y', newcomp.height + 2).attr('width', 30).attr('height', 15).attr('fill', 'white').on('click', () => edit_move_mode(newcomp.GUID)).attr('style', 'cursor: pointer;');\n  var Dummyrect = node.append('rect').attr('class', 'CompPBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS) //.attr(\"filter\", \"url(#f2\")\n  .attr('stroke-width', '1').attr('stroke', 'black').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill);\n  var Titlegroup = node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  });\n  Titlegroup.append('text').attr('class', 'nodetitle node_title' + newcomp.GUID).attr('id', 'nodeTitle' + newcomp.GUID).attr('data-testid', 'node-title').text(newcomp.Name).attr('fill', 'white').attr('x', 5).attr('y', -18);\n  node.append('foreignObject').attr('id', 'textbody_' + newcomp.GUID).attr('data-testid', 'textbody').attr('class', 'textbody ' + newcomp.GUID).attr('height', newcomp.height - ANCHOR_WIDTH - 5).html(function () {\n    if (newcomp.inputs[0].type === 'html' || newcomp.inputs[0].type === 'input') {\n      return newcomp.inputs[0].value;\n    } else if (newcomp.inputs[0].type === 'text') {\n      return '<pre>' + newcomp.inputs[0].value + '</pre>';\n    }\n  }).attr('transform', 'translate(5, 5)').attr('width', newcomp.width - 4 - ANCHOR_WIDTH);\n  var data2;\n\n  if (newcomp.inputs[0].type === 'json') {\n    var compKey = newcomp.GUID;\n\n    try {\n      $('foreignObject#textbody_' + compKey).html('<div id=\"jsonTreeViewer' + compKey + '\"></div>');\n      var jsonStruct = typeof newcomp.inputs[0].value === 'string' ? JSON.parse(newcomp.inputs[0].value) : newcomp.inputs[0].value; // var jsonStruct = JSON.parse(newcomp.inputs[0].value);\n\n      ReactDOM.render( /*#__PURE__*/React.createElement(ReactJson, {\n        src: jsonStruct\n      }), document.getElementById('jsonTreeViewer' + compKey));\n    } catch (e) {\n      d3$4.select('foreignObject#textbody_' + compKey).text(e).attr('style', 'color: red');\n    }\n  } else if (newcomp.inputs[0].type === 'plot') {\n    data2 = JSON.parse(newcomp.inputs[0].value);\n    drawPlotComponent(data2, newcomp);\n  } else if (newcomp.inputs[0].type === 'spatial') {\n    data2 = JSON.parse(newcomp.inputs[0].value);\n    var unparseData = newcomp.inputs[0].value;\n    visualizeSpatialComponent(data2, unparseData, newcomp);\n  } //White Text Box\n\n\n  node.append('rect').attr('class', 'CompPBody ' + newcomp.GUID + ' a').attr('id', 'overlaySelector' + newcomp.GUID).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).attr('y', '0').attr('width', newcomp.width - 5).attr('height', newcomp.height - 5).attr('fill', 'white') //\"#ffeec7\")\n  .attr('fill-opacity', '0.15').style('display', 'block').on('mousemove', function (event) {\n    d3$4.select(event.currentTarget).attr('cursor', 'pointer');\n  });\n  var resize = d3$4.drag().on('start', (event, d) => Dummyrect.attr('stroke', 'red')).on('end', (event, d) => Dummyrect.attr('stroke', '#3a4c69')).on('drag', function (event, d) {\n    var anchorMouseYpos = reactContext.state.anchorMouseYpos;\n    var anchorMouseXpos = reactContext.state.anchorMouseXpos;\n    var StringAnchorId = reactContext.state.StringAnchorId;\n    var newHeight = event.y - anchorMouseYpos;\n\n    if (newHeight <= 50) {\n      newHeight = 52;\n    }\n\n    var newWidth = event.x - anchorMouseXpos;\n\n    if (newWidth <= 300) {\n      newWidth = 301;\n    }\n\n    d.x = newWidth;\n    d.y = newHeight;\n    d.width = newWidth;\n    d.height = newHeight;\n    var thisComp = selectComp(StringAnchorId);\n    thisComp.height = newHeight;\n    thisComp.width = newWidth;\n    d3$4.select('rect#dummyRect_' + StringAnchorId).attr('height', newHeight).attr('width', newWidth);\n    d3$4.select('rect#' + StringAnchorId).attr('height', newHeight);\n    d3$4.select('rect.CompPBody.' + StringAnchorId + '.a').attr('width', newWidth);\n    d3$4.select('rect#statusRect' + StringAnchorId).attr('y', newHeight - 20).attr('width', newWidth - 50);\n    d3$4.select('foreignObject#panel_status_' + StringAnchorId).attr('y', newHeight + 2).attr('width', newWidth - 50);\n    d3$4.select('rect#overlaySelector' + StringAnchorId).attr('height', newHeight - 5);\n    d3$4.select('rect.xyAnchor.' + StringAnchorId).attr('x', thisComp.width - ANCHOR_WIDTH).attr('y', thisComp.height - ANCHOR_WIDTH);\n    d3$4.select('foreignObject#textbody_' + StringAnchorId).attr('height', thisComp.height - ANCHOR_WIDTH - 5).attr('width', thisComp.width - 4 - ANCHOR_WIDTH);\n    d3$4.select('foreignObject#panel_edit_mode' + StringAnchorId).attr('y', newHeight + 2).attr('x', newWidth - 30);\n    d3$4.select('g#logCirGroup_' + StringAnchorId).attr('transform', () => {\n      var x = thisComp.width;\n      var y = thisComp.height;\n      return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n    });\n    d3$4.select('circle#outputCir' + StringAnchorId + '_0').attr('cy', thisComp.height / 2).attr('cx', thisComp.width);\n    d3$4.select('circle#inputCir' + StringAnchorId + '_0').attr('cy', thisComp.height / 2);\n\n    for (const [comp, child] of Object.entries(reactContext.state.parent_child_matrix)) {\n      if (child[0] === undefined) continue;\n\n      if (child[0][1] === StringAnchorId) {\n        redrawDependents(comp);\n        return;\n      }\n    }\n\n    if (thisComp.inputs[0].type === 'plot') {\n      var data = JSON.parse(thisComp.inputs[0].value);\n      drawPlotComponent(data, thisComp);\n      return;\n    }\n\n    console.log(\"Couldn't locate panel parent to redraw\");\n  });\n  node.append('rect').attr('class', 'xyAnchor ' + newcomp.GUID).data([{\n    x: newcomp.width - ANCHOR_WIDTH,\n    y: newcomp.height - ANCHOR_WIDTH,\n    width: ANCHOR_WIDTH,\n    height: ANCHOR_WIDTH\n  }]).attr('width', ANCHOR_WIDTH).attr('height', ANCHOR_WIDTH).attr('x', newcomp.width - ANCHOR_WIDTH).attr('y', newcomp.height - ANCHOR_WIDTH).attr('fill-opacity', 0.01).attr('rx', COMPONENT_RADIUS).attr('ry', COMPONENT_RADIUS).on('mousedown', event => {\n    reactContext.setState({\n      anchorMouseXpos: d3$4.pointer(event)[0] - newcomp.width,\n      anchorMouseYpos: d3$4.pointer(event)[1] - newcomp.height,\n      StringAnchorId: newcomp.GUID\n    });\n  }).call(resize);\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n\nfunction submitPanelEdit(reactContext, compKey) {\n  const guidList = [];\n  reactContext.state.allComp.forEach(e => guidList.push(e.GUID));\n  var plotError = false;\n\n  if (guidList.includes(compKey)) {\n    var StringComp = selectComp(compKey);\n    var textVal = $('textarea.textarea.stringProperties').val();\n    StringComp.inputs[0].type = $(\"input[name='type']:checked\").val();\n    $('foreignObject#panel_status_' + compKey).text('Type : ' + StringComp.inputs[0].type);\n\n    if (StringComp.inputs[0].type === 'json') {\n      try {\n        $('foreignObject#textbody_' + compKey).html('<div id=\"jsonTreeViewer' + compKey + '\"></div>');\n        var jsonStruct = checkJSONValidity(textVal);\n        ReactDOM.render( /*#__PURE__*/React.createElement(ReactJson, {\n          src: jsonStruct\n        }), document.getElementById('jsonTreeViewer' + compKey));\n      } catch (e) {\n        d3$4.select('foreignObject#textbody_' + compKey).text(e).attr('style', 'color: red');\n      }\n    } else if (StringComp.inputs[0].type === 'html') {\n      d3$4.select('foreignObject#textbody_' + compKey).html(textVal).attr('fill', 'black').attr('style', 'color: black');\n    } else if (StringComp.inputs[0].type === 'plot') {\n      try {\n        var data = JSON.parse(textVal);\n        drawPlotComponent(data, StringComp);\n      } catch (e) {\n        plotError = true;\n      }\n    } else {\n      d3$4.select('foreignObject#textbody_' + compKey).text(textVal).attr('fill', 'black').attr('style', 'color: black');\n    }\n\n    StringComp.outputs[0].value = textVal;\n    StringComp.inputs[0].value = textVal;\n    StringComp.value = textVal;\n    StringComp.Name = $('input.stringPanel.Name').val();\n    redrawDependents(compKey);\n  }\n\n  if (plotError) {\n    $('div#propertiesBarLog').html('<div id=\"error\" data-testid=\"error\">Incorrect format for plot panel. Check Help for more details</div>');\n  } else {\n    $('div#propertiesBarContents').html('');\n  }\n}\n\nvar d3$3 = require('d3');\n\nvar SLIDER_LENGTH;\n\nconst countDecimals = x => {\n  if (Math.floor(x.valueOf()) === x.valueOf()) return 0;\n  var str = x.toString();\n\n  if (str.indexOf(\".\") !== -1 && str.indexOf(\"-\") !== -1) {\n    return str.split(\"-\")[1] || 0;\n  } else if (str.indexOf(\".\") !== -1) {\n    return str.split(\".\")[1].length || 0;\n  }\n\n  return str.split(\"-\")[1] || 0;\n};\n\nfunction addSlider(guid, min = 0, max = 100, step = 1.0) {\n  var initSlider = {\n    GUID: guid,\n    X: 0,\n    Y: 0,\n    width: 150,\n    height: 30,\n    Name: 'Slider',\n    ShortName: 'Num',\n    Description: 'Dummy Slider',\n    Message: 'short description',\n    inputs: [],\n    outputs: [],\n    min: min,\n    max: max,\n    value: 0,\n    step: step,\n    typeName: null,\n    selection: 'selectable',\n    view: 'visible',\n    // hidden , disabled\n    fill: 'url(#grad1ient)',\n    rect: null,\n    type: 'slider',\n    dftype: 'shlow',\n    child: false\n  };\n  return initSlider;\n} //End of addSlider\n\n\nfunction CreateNewSlider(reactContext, FromExisting = null) {\n  SLIDER_LENGTH = reactContext.state.SLIDER_LENGTH;\n  var newSlider;\n\n  if (FromExisting != null) {\n    newSlider = FromExisting;\n  } else {\n    newSlider = addSlider(uuidv4('S'), 0, 100, 1.0); //Fix dict creation\n\n    var guid = newSlider.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n    newSlider.Name = 'Numeric';\n    newSlider.value = 50.0;\n    newSlider.anchorValue = SLIDER_LENGTH / 2;\n  }\n\n  newSlider.fill = '#bdc4c8';\n  var titleMarginLeft = 5;\n  newSlider.height = 20;\n  newSlider.width = 250;\n  newSlider.dftype = 'shlow';\n  var allContents = d3$3.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'slider').attr('id', newSlider.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', 'SliderGroup ' + newSlider.selection + ' ' + newSlider.view + ' ' + newSlider.GUID).attr('id', 'comp-' + newSlider.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      genX = Math.random() * 500 + 200;\n      genY = Math.random() * 500 + 200;\n      newSlider.X = genX;\n      newSlider.Y = genY;\n      return 'translate(' + genX + ', ' + genY + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  }).data([{\n    x: FromExisting ? FromExisting.X : genX,\n    y: FromExisting ? FromExisting.Y : genY\n  }]).on('mousedown', () => {\n    reactContext.setState({\n      rectType: 'slider'\n    });\n  });\n  var OutputGroup = node.append('g');\n  OutputGroup.append('circle').attr('cx', newSlider.width).attr('cy', '10').attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'outputCir' + newSlider.GUID).attr('class', 'outputCir ' + newSlider.GUID + ' 0').on('mousemove', function () {\n    reactContext.setState({\n      targetcircleIN: true\n    });\n  }).on('mouseout', function () {\n    reactContext.setState({\n      targetcircleIN: false\n    });\n  });\n  var rect = node.append('rect').attr('class', 'CompSBody ' + newSlider.GUID).attr('id', newSlider.GUID).attr('rx', '3').attr('ry', '3').attr('stroke-width', '2').attr('stroke', '#3a4c69').attr('width', newSlider.width).attr('height', newSlider.height).attr('fill', '#dddddd').on('mousemove', function () {\n    var current_slider = { ...reactContext.state.selectedSliderComponent\n    };\n    current_slider.rect = this;\n    reactContext.setState({\n      selectedSliderComponent: current_slider\n    });\n    d3$3.select(current_slider.rect).attr('cursor', 'pointer');\n  }).on('mouseout', function () {\n    newSlider.rect = this;\n  }).on('dblclick', () => {}).on('mousedown', () => {\n    reactContext.setState({\n      rectType: 'slider'\n    });\n  });\n  var ValueTextGroup = node.append('g').attr('transform', () => {\n    return 'translate(-80, 0)';\n  });\n  ValueTextGroup.append('rect').attr('cx', '0').attr('cy', '0').attr('rx', '3').attr('ry', '3').attr('fill', 'black').attr('width', '80').attr('height', '20').attr('opacity', '0.5');\n  ValueTextGroup.append('text').attr('id', 'sliderValueText_' + newSlider.GUID).attr('class', 'sliderValueText ' + newSlider.GUID).attr('transform', 'translate(2, 14)').attr('fill', 'white').text(newSlider.value.toString());\n  var Titlegroup = node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  });\n  Titlegroup.append('text').attr('class', 'sliderTitle slider_title' + newSlider.GUID).text(newSlider.Name).attr('fill', 'black').attr('transform', 'translate(' + titleMarginLeft / 2.0 + ', 0)');\n  var SlidingGroup = node.append('g').attr('transform', 'translate(60, 0)');\n  SlidingGroup.append('rect').attr('height', '3').attr('width', '185').attr('rx', '2').attr('ry', '2').attr('transform', 'translate(0, 8)').attr('stroke', '#677184');\n  SlidingGroup.append('line').attr('x1', '2').attr('y1', '11').attr('x2', '184').attr('y2', '11').attr('stroke', 'gray').attr('stroke-width', '1');\n\n  function anchorUpdate() {\n    slidingAnchor.attr('transform', d => `translate(${d.x},3)`);\n  }\n\n  var anchorDragHandler = d3$3.drag().on('start', (event, d) => rect.attr('stroke', 'red')).on('drag', (event, d) => {\n    var selectedSliderComponent = reactContext.state.selectedSliderComponent;\n    var sliderRectId = reactContext.state.sliderRectId;\n    var min = selectedSliderComponent.min;\n    var max = selectedSliderComponent.max;\n    var step = selectedSliderComponent.step;\n    var slider_anchor_value;\n    var slider_value;\n    var slope = (max - min) / SLIDER_LENGTH;\n\n    if (event.x <= 0) {\n      slider_anchor_value = 0;\n      slider_value = min;\n    } else if (event.x >= SLIDER_LENGTH) {\n      slider_anchor_value = SLIDER_LENGTH;\n      slider_value = max;\n    } else {\n      var scaledValue = event.x * slope;\n      var rounded = Math.round(scaledValue / step) * step;\n      slider_value = rounded + min;\n      slider_anchor_value = slider_value / slope;\n    }\n\n    selectedSliderComponent.anchorValue = slider_anchor_value;\n    d.x = slider_anchor_value;\n    d3$3.select('#sliderValueText_' + sliderRectId.replace('SliderAnchor_', '')).text(slider_value.toFixed(countDecimals(step)));\n    selectedSliderComponent.value = slider_value;\n    reactContext.setState({\n      selectedSliderComponent: selectedSliderComponent\n    });\n    redrawDependents(selectedSliderComponent.GUID);\n  }).on('end', (event, d) => rect.attr('stroke', '#3a4c69')).on('start.update drag.update end.update', anchorUpdate);\n  var slidingAnchor = SlidingGroup.append('rect').attr('id', 'SliderAnchor_' + newSlider.GUID).attr('data-testid', 'slider-anchor').attr('width', '10').attr('height', '15').attr('rx', '5').attr('ry', '5').attr('fill', '#3a4d69').style('cursor', 'pointer').attr('transform', 'translate(' + newSlider.anchorValue.toString() + ', 3)').data([{\n    x: newSlider.anchorValue,\n    y: 3\n  }]).on('mousemove', function (event) {\n    d3$3.select(event.currentTarget).attr('fill', 'url(#gradientlsider)').attr('cursor', 'pointer').attr('stroke', 'black');\n  }).on('mouseleave', function (event) {\n    d3$3.select(event.currentTarget).attr('fill', '#3a4d69').attr('stroke', 'none');\n  }).on('mousedown', function () {\n    reactContext.setState({\n      sliderRectId: this.id,\n      selectedSliderComponent: newSlider\n    });\n  }).on('mouseup', function () {\n    reactContext.setState({\n      selectedSliderComponent: null\n    });\n  }).call(anchorDragHandler);\n  newSlider.slidingAnchor = slidingAnchor; //Make a copy of the current states\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newSlider.GUID] = new Array(1);\n  current_comp_in[newSlider.GUID] = new Array(1);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n\n  if (FromExisting == null) {\n    //Make a copy of the array\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newSlider);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  } //Moving the slider body\n\n\n  d3$3.selectAll('g.SliderGroup').on('mousedown', function (d, i) {\n    reactContext.setState({\n      rectType: 'slider'\n    });\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newSlider.GUID] = {\n    x0: newSlider.X,\n    y0: newSlider.Y,\n    x1: newSlider.X + newSlider.width,\n    y1: newSlider.Y + newSlider.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n/**\n * Double click the slider => the property bar appears\n * Handles the event when the Save button on the property bar is clicked\n * @param {String} compKey The ID of the clicked components\n */\n\n\nfunction submitSliderEdit(reactContext, compKey) {\n  const guidList = [];\n  reactContext.state.allComp.forEach(e => guidList.push(e.GUID));\n\n  if (guidList.includes(compKey)) {\n    var slider_component = selectComp(compKey);\n    const minInput = parseFloat($('input#new_slider_min_value').val());\n    const maxInput = parseFloat($('input#new_slider_max_value').val());\n    const stepInput = parseFloat($('input#new_slider_step_value').val());\n    const currValInput = parseFloat($('input#new_slider_current_value').val());\n\n    if (isNaN(minInput) || isNaN(maxInput) || isNaN(currValInput)) {\n      $('div#propertiesBarLog').html(`\n                <div id=\"error\" data-testid=\"error\">Please enter all fields.</div>\n            `);\n    } else if (minInput >= maxInput) {\n      $('div#propertiesBarLog').html(`\n                <div id=\"error\" data-testid=\"error\">The min value must be smaller than the max value.</div>\n            `);\n    } else if (minInput > currValInput || maxInput < currValInput) {\n      $('div#propertiesBarLog').html(`\n                <div id=\"error\" data-testid=\"error\">The current value must be between the min value and the max value.</div>\n            `);\n    } else if (stepInput <= 0) {\n      $('div#propertiesBarLog').html(`\n                <div id=\"error\" data-testid=\"error\">The step value must be a positive value.</div>\n            `);\n    } else {\n      slider_component.min = minInput;\n      slider_component.max = maxInput;\n      slider_component.step = stepInput;\n      slider_component.value = currValInput;\n      var slope = (maxInput - minInput) / SLIDER_LENGTH;\n      var slider_anchor_value = currValInput / slope;\n      slider_component.anchorValue = slider_anchor_value;\n      slider_component.slidingAnchor.data([{\n        x: slider_anchor_value,\n        y: 3\n      }]);\n      d3$3.select('rect#SliderAnchor_' + slider_component.GUID).attr('transform', function () {\n        return 'translate(' + slider_anchor_value.toString() + ',3)';\n      });\n      d3$3.select('#sliderValueText_' + slider_component.GUID.replace('SliderAnchor_', '')).text(slider_component.value.toFixed(countDecimals(currValInput)));\n      redrawDependents(slider_component.GUID);\n      $('div#propertiesBarContents').html('');\n    }\n  } else {\n    $('div#propertiesBarContents').html('');\n  }\n}\n\nvar d3$2 = require('d3');\n\nfunction CreateNewToggle(reactContext, FromExisting = null) {\n  var newcomp;\n\n  if (FromExisting == null) {\n    newcomp = addcomponent(uuidv4('C'), 0, 1);\n    var guid = newcomp.GUID;\n    var data = { ...reactContext.state.parent_child_matrix\n    };\n    data[guid] = [];\n    reactContext.setState({\n      parent_child_matrix: data\n    });\n  } else {\n    newcomp = FromExisting;\n  }\n\n  newcomp.fill = '#2c3e50';\n  newcomp.Name = 'False';\n  var padding = 20;\n  var titleMargin = 30;\n  newcomp.height = 20;\n  newcomp.type = 'toggle';\n  newcomp.dftype = 'shlow'; // TODO : get the longest text in the component. and set the width based on this.\n\n  newcomp.width = 80; //newcomp.Name.length * one_character_width + titleMarginLeft;\n\n  var allContents = d3$2.select('#allCanvasContents');\n  var cont = allContents.append('g').attr('class', 'component').attr('id', newcomp.GUID);\n  var genX;\n  var genY;\n  var node = cont.append('g').attr('class', newcomp.type + ' ' + newcomp.state + ' ' + newcomp.selection + ' ' + newcomp.view + ' ' + newcomp.GUID).attr('id', 'comp-' + newcomp.GUID).attr('transform', () => {\n    if (FromExisting == null) {\n      genX = Math.random() * 500 + 200;\n      genY = Math.random() * 500 + 200;\n      newcomp.X = genX;\n      newcomp.Y = genY;\n      return 'translate(' + genX + ', ' + genY + ')';\n    } else {\n      return 'translate(' + FromExisting.X + ', ' + FromExisting.Y + ')';\n    }\n  }).data([{\n    x: FromExisting ? FromExisting.X : genX,\n    y: FromExisting ? FromExisting.Y : genY\n  }]);\n  var InputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.inputs.length; index++) {\n    InputGroup.append('circle').lower().attr('cx', '0').attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'inputCir' + newcomp.GUID + '_' + index).attr('class', 'inputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.inputs[index].circle = reactContext.state.fromCircle;\n      newcomp.inputs[index].circle.element = this.id;\n      newcomp.inputs[index].circle.CX = 0;\n      newcomp.inputs[index].circle.CY = index * padding + titleMargin;\n      newcomp.inputs[index].type = 'input';\n      return 'input';\n    });\n  }\n\n  var OutputGroup = node.append('g');\n\n  for (let index = 0; index < newcomp.outputs.length; index++) {\n    OutputGroup.append('circle').attr('cx', newcomp.width).attr('cy', newcomp.height / 2).attr('fill', 'gray').attr('r', '5').attr('stroke', 'black').attr('stroke-width', '2').attr('id', 'outputCir' + newcomp.GUID + '_' + index).attr('class', 'outputCir ' + newcomp.GUID + ' ' + index).attr('type', function () {\n      newcomp.outputs[index].circle = this;\n      newcomp.outputs[index].type = 'output';\n      return 'output';\n    }).lower();\n  }\n\n  node.append('rect').attr('class', 'CompTBodyDummy ' + newcomp.GUID).attr('id', 'dummyRect_' + newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('stroke-width', '1').attr('stroke', 'black').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill);\n  var cirGroup = node.append('g').attr('transform', () => {\n    var x = newcomp.width;\n    var y = newcomp.height;\n    return 'translate(' + x.toString() + ',' + (y - 10).toString() + ')';\n  });\n  cirGroup.append('text').attr('id', 'nodeLog' + newcomp.GUID).attr('class', 'nodeLog ' + newcomp.GUID).attr('transform', 'translate(10, 10)').text(newcomp.log.logText).attr('fill', 'black').style('display', 'none');\n  var Titlegroup = node.append('g').attr('transform', () => {\n    return 'translate(0, 15)';\n  });\n  Titlegroup.append('text').attr('class', 'nodetitle node_title' + newcomp.GUID).text(newcomp.Name).attr('fill', '#ecf0f1').attr('transform', 'translate(' + (newcomp.width / 2.0 - newcomp.Name.length * 4.0).toString() + ', 0)');\n  node.append('rect').attr('class', 'CompTBody ' + newcomp.GUID).attr('id', newcomp.GUID).attr('rx', '3').attr('ry', '3').attr('width', newcomp.width).attr('height', newcomp.height).attr('fill', newcomp.fill).attr('fill-opacity', '0.01').on('mousemove', function (event) {\n    d3$2.select(event.currentTarget).attr('cursor', 'pointer');\n  }).on('mouseout', function (event) {\n    d3$2.select(event.currentTarget).attr('fill', newcomp.fill);\n  });\n  newcomp.value = newcomp.Name;\n\n  if (FromExisting == null) {\n    var current_all_comp = reactContext.state.allComp.slice();\n    current_all_comp.push(newcomp);\n    reactContext.setState({\n      allComp: current_all_comp\n    });\n  }\n\n  var current_comp_out = { ...reactContext.state.comp_output_edges\n  };\n  var current_comp_in = { ...reactContext.state.comp_input_edges\n  };\n  current_comp_out[newcomp.GUID] = new Array(newcomp.inputs.length);\n  current_comp_in[newcomp.GUID] = new Array(newcomp.outputs.length);\n  reactContext.setState({\n    comp_input_edges: current_comp_in,\n    comp_output_edges: current_comp_out\n  });\n  var current_components_selection = { ...reactContext.state.components_selection_data\n  };\n  current_components_selection[newcomp.GUID] = {\n    x0: newcomp.X,\n    y0: newcomp.Y,\n    x1: newcomp.X + newcomp.width,\n    y1: newcomp.Y + newcomp.height\n  };\n  reactContext.setState({\n    components_selection_data: current_components_selection\n  });\n}\n\nfunction cancelEdit() {\n  $('div#propertiesBarContents').html('');\n}\n\nvar d3$1 = require('d3');\n\nfunction getCurrentData(reactContext) {\n  var allContents = d3$1.select('#allCanvasContents');\n  var svgContainer = d3$1.select('svg');\n  reactContext.state.allEdges.forEach(function (element) {\n    element['d'] = $('path#' + element.path_id).attr('d');\n    element['circleX'] = $('rect#pathCircle' + element.path_id).attr('x');\n    element['circleY'] = $('rect#pathCircle' + element.path_id).attr('y');\n  });\n  var data = {\n    components: reactContext.state.allComp,\n    edges: reactContext.state.allEdges,\n    comp_input_edges: reactContext.state.comp_input_edges,\n    comp_output_edges: reactContext.state.comp_output_edges,\n    edge_comp_matrix: reactContext.state.edge_comp_matrix,\n    parent_child_matrix: reactContext.state.parent_child_matrix,\n    parent_child_matrix_fast_check: reactContext.state.parent_child_matrix_fast_check,\n    root_components: reactContext.state.root_components,\n    canvas_transform: {\n      transform: allContents.attr('transform'),\n      kXY: svgContainer._groups[0][0].__zoom\n    },\n    currentRightColWidth: parseFloat(d3$1.select('div#PropertiesBar').style('width')),\n    currentLeftColWidth: parseFloat(d3$1.select('div#LeftPropertiesBar').style('width'))\n  };\n  var fileData = JSON.stringify(data);\n  return fileData;\n}\n\nfunction saveData() {\n  var fileData = getCurrentData(this);\n  var storage = window.localStorage;\n  storage.setItem('data', fileData);\n  alert('Successfully save data');\n}\n\nfunction clearData() {\n  window.localStorage.clear();\n  alert('All the saved data has been cleared. The page will be reloaded');\n  window.location.reload(true);\n}\n\nfunction downloadData() {\n  var fileData = getCurrentData(this);\n  var blob = new Blob([fileData], {\n    type: \"text/plain\"\n  });\n  var url = URL.createObjectURL(blob);\n  var link = document.createElement('a');\n  link.download = \"data.json\";\n  link.href = url;\n  link.click();\n}\n\nfunction recreateSavedData(reactContext, data) {\n  //Clear the Canvas\n  var allContents = d3$1.select('#allCanvasContents');\n  allContents.html('');\n  allContents.append('rect').attr('fill', 'url(#img122)').attr('x', -1000).attr('y', -1000).attr('width', 6000).attr('height', 6000).style('cursor', 'default');\n  allContents.append('g').attr('id', 'allPaths');\n  var allData = JSON.parse(data);\n  var allContents = d3$1.select('#allCanvasContents');\n  var svgContainer = d3$1.select('svg');\n\n  if (allData !== null) {\n    if (allData.canvas_transform !== undefined && allData.canvas_transform !== null) {\n      allContents.attr('transform', allData.canvas_transform.transform);\n      svgContainer._groups[0][0].__zoom.k = allData.canvas_transform.kXY.k;\n      svgContainer._groups[0][0].__zoom.x = allData.canvas_transform.kXY.x;\n      svgContainer._groups[0][0].__zoom.y = allData.canvas_transform.kXY.y;\n    }\n\n    if (allData.components !== undefined && allData.components !== null) {\n      var allComponents = allData.components;\n      reactContext.setState({\n        allComp: allComponents\n      });\n      var compSet = [];\n      allComponents.forEach(function (element) {\n        if (!compSet.includes(element.GUID)) {\n          compSet.push(element.GUID);\n          if (element.type === 'component') CreateNewComponent(reactContext, element);else if (element.type === 'slider') CreateNewSlider(reactContext, element);else if (element.type === 'string') CreateNewPanel(reactContext, element);else if (element.type === 'toggle') CreateNewToggle(reactContext, element);else if (element.type === 'optionList') CreateNewOptionList(reactContext, element);else if (element.type === 'fileUpload') CreateNewFileUpload(reactContext, element);else if (element.type === 'listView') CreateNewListView(reactContext, element);else if (element.type === 'deep') CreateNewDeep(reactContext, element);\n        }\n      });\n    }\n\n    if (allData.edges !== undefined && allData.edges !== null) {\n      var allEdges = allData.edges;\n      reactContext.setState({\n        allEdges: allData.edges,\n        comp_input_edges: allData.comp_input_edges,\n        comp_output_edges: allData.comp_output_edges,\n        edge_comp_matrix: allData.edge_comp_matrix,\n        parent_child_matrix: allData.parent_child_matrix,\n        parent_child_matrix_fast_check: allData.parent_child_matrix_fast_check,\n        root_components: allData.root_components\n      });\n      allEdges.forEach(function (element) {\n        CreatePaths(element);\n      });\n    }\n  }\n}\n\nfunction loadData() {\n  var data = window.localStorage.getItem('data');\n  recreateSavedData(this, data);\n}\n\nfunction uploadSavedData() {\n  var reactContext = this;\n  $('input#actual-btn').on('change', function (e) {\n    var uploaded = e.target.files[0];\n\n    if (uploaded.type === 'application/json') {\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        var data = reader.result;\n        recreateSavedData(reactContext, data);\n      };\n\n      reader.readAsText(uploaded);\n    } else {\n      alert('The upload file must be a JSON file');\n    }\n  });\n}\n\nfunction CreatePaths(theEdge) {\n  d3$1.select('g#allPaths').append('path').attr('d', function () {\n    return theEdge.d;\n  }).attr('stroke', 'black').attr('stroke-width', '5').attr('id', theEdge.path_id).attr('stroke-dasharray', '4').attr('stroke-linecap', 'round').attr('fill', 'none').attr('stroke-opacity', '0.5').lower();\n  addEdgeCircle(theEdge, theEdge.d).attr('x', theEdge.circleX).attr('y', theEdge.circleY).attr('style', 'display:block');\n} //End of CreatePaths\n\nvar TopBar = /*#__PURE__*/function (_Component) {\n  _inherits(TopBar, _Component);\n\n  var _super = _createSuper(TopBar);\n\n  function TopBar(props) {\n    var _this;\n\n    _classCallCheck(this, TopBar);\n\n    _this = _super.call(this, props);\n    _this.saveData = _this.props.saveData;\n    _this.downloadData = _this.props.downloadData;\n    _this.uploadSavedData = _this.props.uploadSavedData;\n    return _this;\n  }\n\n  _createClass(TopBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"TopPropertiesBar\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        \"data-testid\": \"fileTheDef\",\n        id: \"fileTheDef\",\n        className: \"menubarButtons\",\n        href: \"https://ideas-lab-nus.github.io/vizpro/\",\n        target: \"_blank\",\n        rel: \"noreferrer\"\n      }, \"Help\"), /*#__PURE__*/React.createElement(\"label\", {\n        \"data-testid\": \"fileTheDef\",\n        id: \"saveTheDef\",\n        className: \"menubarButtons\",\n        onClick: function onClick() {\n          return _this2.saveData();\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(\"label\", {\n        \"data-testid\": \"fileTheDef\",\n        id: \"fileTheDef\",\n        className: \"menubarButtons\",\n        onClick: function onClick() {\n          return clearData();\n        }\n      }, \"Clear\"), /*#__PURE__*/React.createElement(\"label\", {\n        \"data-testid\": \"fileTheDef\",\n        id: \"saveTheDef\",\n        className: \"menubarButtons\",\n        onClick: function onClick() {\n          return _this2.downloadData();\n        }\n      }, \"Download\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        id: \"actual-btn\",\n        hidden: true\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"actual-btn\",\n        \"data-testid\": \"fileTheDef\",\n        id: \"fileTheDef\",\n        className: \"menubarButtons\",\n        onClick: function onClick() {\n          return _this2.uploadSavedData();\n        }\n      }, \"Upload\")), /*#__PURE__*/React.createElement(\"div\", {\n        \"data-testid\": \"minimize\",\n        id: \"minimizeUpperBar\",\n        style: {\n          display: \"block\"\n        },\n        onClick: function onClick() {\n          return onMinimizeClick();\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        id: \"tominimize\",\n        className: \"fa fa-caret-up\",\n        \"aria-hidden\": \"true\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        \"data-testid\": \"maximize\",\n        id: \"maximizeUpperBar\",\n        style: {\n          display: \"none\"\n        },\n        onClick: function onClick() {\n          return onMaximizeClick();\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        id: \"tomaximize\",\n        className: \"fa fa-caret-up\",\n        \"aria-hidden\": \"true\",\n        style: {\n          transform: [{\n            rotate: '180deg'\n          }]\n        }\n      })));\n    }\n  }]);\n\n  return TopBar;\n}(Component);\n\nclass ComponentTab extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2\",\n      className: \"TabToolBox componentTab\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2_0\",\n      className: \"toolbarbuttonsContainer\"\n    }, \"\\xA0 Components \", '>', /*#__PURE__*/React.createElement(\"span\", {\n      className: \"currentTab componentTab\",\n      style: {\n        marginLeft: \"3px\"\n      }\n    }, \" Main Inputs\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2_1\",\n      className: \"toolbarbuttonsContainer componentTab Basic 0\",\n      style: {\n        display: \"none\"\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2_1\",\n      className: \"toolbarbuttonsContainer componentTab User -1\",\n      style: {\n        display: \"none\"\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2_1\",\n      className: \"toolbarbuttonsContainer componentTab StringOps -1\",\n      style: {\n        display: \"none\"\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2_1\",\n      className: \"toolbarbuttonsContainer componentTab Input 0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addSlider\",\n      onClick: () => CreateNewSlider(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://image.flaticon.com/icons/png/512/983/983840.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"Slider\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addPanel\",\n      onClick: () => CreateNewPanel(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://storage.googleapis.com/ghostbucket111/icons/main_icons/2274978.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"Panel\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addToggle\",\n      onClick: () => CreateNewToggle(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://image.flaticon.com/icons/png/512/1465/1465907.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"Toggle\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addOptionList\",\n      onClick: () => CreateNewOptionList(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://image.flaticon.com/icons/png/512/1085/1085805.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"Option List\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addListView\",\n      onClick: () => CreateNewListView(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://storage.googleapis.com/ghostbucket111/icons/main_icons/checklist.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"List View\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addFile\",\n      onClick: () => CreateNewFileUpload(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://image.flaticon.com/icons/png/512/2329/2329379.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"File Upload\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"addDeep\",\n      onClick: () => CreateNewDeep(this.props.context),\n      className: \"mainButtonItem 1 1 tooltip\",\n      style: {\n        backgroundImage: \"url(https://image.flaticon.com/icons/png/512/1935/1935089.png)\"\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      id: \"hintx\"\n    }, \"Deep\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar_container_1_2_2\",\n      className: \"toolbarRightToggleNavigator 1\"\n    }));\n  }\n\n}\n\nclass PropertiesTab extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"PropertiesBar\",\n      \"data-testid\": \"PropertiesBar\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ccatheader\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      \"data-testid\": \"propertiesBarContents\",\n      className: \"ccbody\",\n      id: \"propertiesBarContents\",\n      style: {\n        \"width\": \"100%\",\n        \"overflow\": \"hidden\"\n      }\n    }));\n  }\n\n}\n\nvar LeftContainer = /*#__PURE__*/function (_Component) {\n  _inherits(LeftContainer, _Component);\n\n  var _super = _createSuper(LeftContainer);\n\n  function LeftContainer() {\n    _classCallCheck(this, LeftContainer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LeftContainer, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"LeftPropertiesBar\",\n        style: {\n          top: \"30px\"\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"leftbarcontainer\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"toolbar_container_1\",\n        className: \"toolBarContainer 1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"toolbar_container_1_1\",\n        className: \"toolBarContainer 1 1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"toolbar_container_1_1_1\",\n        className: \"toolbarTopToggleContainer\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toolbarTopToggleItem 1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toptoggleitem componentTab selected\"\n      }, \"Components\")))), /*#__PURE__*/React.createElement(ComponentTab, {\n        context: this.props.context\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"leftbarcontainer\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"toolbar_container_1\",\n        className: \"toolBarContainer 1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"toolbar_container_1_1\",\n        className: \"toolBarContainer 1 1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"toolbar_container_1_1_1\",\n        className: \"toolbarTopToggleContainer\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toolbarTopToggleItem 1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toptoggleitem propertiesTab selected\"\n      }, \"Properties\")))), /*#__PURE__*/React.createElement(PropertiesTab, null))));\n    }\n  }]);\n\n  return LeftContainer;\n}(Component);\n\nvar d3 = require('d3');\n\nfunction addEdge(from, to, fromComp, toComp) {\n  var initLink = {\n    GUID: uuidv4('E'),\n    path: null,\n    path_id: '',\n    circleX: 0,\n    circleY: 0,\n    from: from,\n    to: to,\n    fromComp: fromComp,\n    toComp: toComp\n  };\n  return initLink;\n}\n\nfunction handleComponentSelection() {\n  var reactContext = this;\n  var allComp = reactContext.state.allComp;\n  allComp.forEach(function (element) {\n    if (element.type === 'component' || element.type === 'toggle' || element.type === 'fileUpload' || element.type === 'listView' || element.type === 'deep') {\n      d3.select('g#comp-' + element.GUID).on('click', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '2').attr('stroke', '#0064ffa8');\n        reactContext.setState({\n          selected_component_id: element.GUID\n        });\n      });\n      d3.select('rect#' + element.GUID).on('focusout', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '0').attr('stroke', 'none');\n      });\n    } else if (element.type === 'string') {\n      d3.selectAll('rect#' + element.GUID + ', rect.CompPBody.' + element.GUID + '.a').on('click', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '2').attr('stroke', '#0064ffa8');\n        d3.select('rect#statusRect' + element.GUID).attr('fill', '#0081ff');\n        reactContext.setState({\n          selected_component_id: element.GUID\n        });\n      });\n      d3.selectAll('rect#' + element.GUID + ', rect#overlaySelector' + element.GUID).on('focusout', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '0').attr('stroke', 'none');\n        d3.select('rect#statusRect' + element.GUID).attr('fill', '#525252');\n      });\n    } else if (element.type === 'slider') {\n      d3.select('rect#' + element.GUID).on('click', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '2').attr('stroke', '#0064ffa8');\n        reactContext.setState({\n          selected_component_id: element.GUID\n        });\n      }).on('focusout', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '1').attr('stroke', 'black');\n      });\n    } else if (element.type === 'optionList') {\n      d3.select('g#comp-' + element.GUID).on('click', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '2').attr('stroke', '#0064ffa8');\n        showDropDownList(element.GUID);\n        reactContext.setState({\n          selected_component_id: element.GUID,\n          optionListStarted: true,\n          optionlistRectid: element.GUID\n        });\n      });\n      d3.select('rect#' + element.GUID).on('focusout', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '0').attr('stroke', 'none');\n      });\n    }\n  });\n} // End of handleComponentSelection\n//Slider component id changed to CompSBody hence will not be picked up\n//by this function. Lookout for side effects!\n//Panel changed to CompPBody\n//Toggle changed to CompTBody\n//fileUpload changed to CompFBody\n\n\nfunction handleTheClickOnAllComponents() {\n  var reactContext = this;\n  reactContext.state.allComp;\n  d3.selectAll('rect.CompPBody, rect.CompSBody, rect.CompTBody, rect.CompOBody, rect.CompLBody, rect.CompFBody, rect.CompCBody').on('mousedown', function (event) {\n    var coordinates = d3.pointer(event);\n    var pos = $('g#comp-' + this.id.replace('overlaySelector', '')).attr('transform').split('translate(')[1].replace(')', '').split(',').map(function (item) {\n      return parseFloat(item, 10);\n    });\n    reactContext.setState({\n      dragX: pos[0],\n      dragY: pos[1],\n      componentClickX: coordinates[0],\n      componentClickY: coordinates[1],\n      clicked: true,\n      startDrag: true,\n      clickedId: this.id.replace('overlaySelector', ''),\n      selected_components: [this.id.replace('overlaySelector', '')],\n      rectType: 'component'\n    });\n  });\n} // End of handleTheClickOnAllComponents\n\n\nfunction handleEdgeInitialization() {\n  var reactContext = this;\n  var allContents = d3.select('#allCanvasContents');\n  var toComponent = null;\n  d3.selectAll('circle').on('mousedown', function (event) {\n    reactContext.setState({\n      targetcircleId: this.id\n    });\n    var edgeStarted = reactContext.state.edgeStarted;\n    var targetcircleIN = reactContext.state.targetcircleIN;\n\n    var fromCircle = _objectSpread2({}, reactContext.state.fromCircle);\n\n    var comp_output_edges = _objectSpread2({}, reactContext.state.comp_output_edges);\n\n    var selectedcircleId;\n\n    if (edgeStarted && targetcircleIN && this !== fromCircle.element) ; else {\n      if (this.classList[0] === 'outputCir') {\n        if (comp_output_edges[this.classList[1]][this.classList[2]] === undefined || comp_output_edges[this.classList[1]][this.classList[2]] === null) {\n          selectedcircleId = this.id;\n          reactContext.setState({\n            selectedcircleId: selectedcircleId\n          });\n        } else {\n          selectedcircleId = this.id + comp_output_edges[this.classList[1]][this.classList[2]].length.toString();\n          reactContext.setState({\n            selectedcircleId: selectedcircleId\n          });\n        }\n\n        reactContext.setState({\n          edgeStarted: true\n        });\n        var x = d3.pointer(event, allContents.node())[0];\n        var y = d3.pointer(event, allContents.node())[1];\n        var initEdgex1 = x;\n        var initEdgey1 = y;\n        d3.select('g#allPaths').append('path').attr('stroke-dasharray', '4').attr('d', function () {\n          return 'M ' + initEdgex1 + ' ' + initEdgey1 + ' L ' + x + ' ' + y;\n        }).attr('stroke', 'black').attr('stroke-width', '3').attr('id', 'Path' + selectedcircleId);\n        fromCircle.element = this;\n        reactContext.setState({\n          selectedcircleId: 'Path' + selectedcircleId,\n          fromCircle: fromCircle,\n          initEdgex1: initEdgex1,\n          initEdgey1: initEdgey1\n        });\n      }\n    }\n  }).on('mousemove', function () {\n    reactContext.setState({\n      targetcircleIN: true\n    });\n  }).on('mouseout', function () {\n    reactContext.setState({\n      targetcircleIN: false\n    });\n  }).on('mouseup', function () {\n    //This event is called when the mouse cursor is inside the input circle, this means that the line is now complete and ready to be created.\n    var edgeStarted = reactContext.state.edgeStarted;\n    var allEdges = reactContext.state.allEdges;\n    var targetcircleIN = reactContext.state.targetcircleIN;\n\n    var fromCircle = _objectSpread2({}, reactContext.state.fromCircle);\n\n    var toCircle = _objectSpread2({}, reactContext.state.toCircle);\n\n    var comp_input_edges = _objectSpread2({}, reactContext.state.comp_input_edges);\n\n    var comp_output_edges = _objectSpread2({}, reactContext.state.comp_output_edges);\n\n    var root_components = reactContext.state.root_components;\n    var parent_child_matrix = reactContext.state.parent_child_matrix;\n    var parent_child_matrix_fast_check = reactContext.state.parent_child_matrix_fast_check;\n    var selectedcircleId = reactContext.state.selectedcircleId;\n\n    if (edgeStarted && targetcircleIN && this !== fromCircle.element && (comp_input_edges[this.classList[1]][this.classList[2]] === undefined || comp_input_edges[this.classList[1]][this.classList[2]] === null)) {\n      toCircle.element = this;\n      reactContext.setState({\n        toCircle: toCircle\n      });\n      toComponent = selectComp(toCircle.element.classList[1]);\n      selectComp(fromCircle.element.classList[1]);\n\n      if (!parent_child_matrix_fast_check.includes(fromCircle.element.classList[2] + ' ' + fromCircle.element.classList[1] + ' ' + toCircle.element.classList[2] + ' ' + toCircle.element.classList[1])) {\n        var thisEdge = addEdge(fromCircle, toCircle, fromCircle.element.classList, toCircle.element.classList);\n        var thisPath = d3.select('#' + selectedcircleId);\n        thisEdge.path_id = thisPath['_groups'][0][0].id;\n\n        if (comp_input_edges[toCircle.element.classList[1]][toCircle.element.classList[2]] === undefined || comp_input_edges[toCircle.element.classList[1]][toCircle.element.classList[2]] === null) {\n          comp_input_edges[toCircle.element.classList[1]][toCircle.element.classList[2]] = [thisEdge.path_id];\n        } else {\n          comp_input_edges[toCircle.element.classList[1]][toCircle.element.classList[2]].push(thisEdge.path_id);\n        }\n\n        if (comp_output_edges[fromCircle.element.classList[1]][fromCircle.element.classList[2]] === undefined || comp_output_edges[fromCircle.element.classList[1]][fromCircle.element.classList[2]] === null) {\n          comp_output_edges[fromCircle.element.classList[1]][fromCircle.element.classList[2]] = [thisEdge.path_id];\n        } else {\n          comp_output_edges[fromCircle.element.classList[1]][fromCircle.element.classList[2]].push(thisEdge.path_id);\n        } // Datatree control. FIX UNCOMMENR\n\n\n        var current_edge_comp_matrix = _objectSpread2({}, reactContext.state.edge_comp_matrix);\n\n        current_edge_comp_matrix[thisEdge.path_id] = {\n          from: fromCircle.element.classList[1],\n          to: toCircle.element.classList[1],\n          from_index: fromCircle.element.classList[2],\n          to_index: toCircle.element.classList[2]\n        };\n        reactContext.setState({\n          comp_input_edges: comp_input_edges,\n          comp_output_edges: comp_output_edges,\n          edge_comp_matrix: current_edge_comp_matrix\n        });\n\n        try {\n          if (root_components[fromCircle.element.classList[1]] !== 'branch') {\n            root_components[fromCircle.element.classList[1]] = 'root';\n            reactContext.setState({\n              root_components: root_components\n            });\n            toComponent.child = false;\n          }\n        } catch (err) {\n          console.log(err);\n        }\n\n        parent_child_matrix_fast_check.push(fromCircle.element.classList[2] + ' ' + fromCircle.element.classList[1] + ' ' + toCircle.element.classList[2] + ' ' + toCircle.element.classList[1]);\n        parent_child_matrix[fromCircle.element.classList[1]].push([fromCircle.element.classList[2], toCircle.element.classList[1], toCircle.element.classList[2]]);\n        root_components[toCircle.element.classList[1]] = 'branch';\n        toComponent.child = true;\n        allEdges.push(thisEdge);\n        reactContext.setState({\n          parent_child_matrix: parent_child_matrix,\n          parent_child_matrix_fast_check: parent_child_matrix_fast_check,\n          root_components: root_components,\n          allEdges: allEdges,\n          edgeStarted: false\n        });\n        updateAll();\n        redrawDependents(fromCircle.element.classList[1]);\n      } else {\n        console.log('Issue in parentchildmatrix (edgeInit)');\n      }\n    } else {\n      console.log('Not entering if (edgeInit)');\n    }\n  });\n} // End of handleEdgeInitialization\n\n\nfunction handleDoubleClick() {\n  var reactContext = this;\n  var allComp = reactContext.state.allComp;\n  allComp.forEach(function (element) {\n    if (element.type === 'string') {\n      d3.select('g#comp-' + element.GUID).on('dblclick', function () {\n        if (!reactContext.state.doubleClicked) {\n          reactContext.setState({\n            doubleClicked: true\n          });\n          $('div#propertiesBarContents').append(\"\\n                        <div class=\\\"propertiesbarheader title\\\">String Panel Properties</div>\\n                        <div class=\\\"propertiesbarheader label\\\">Name</div>\\n                        <input class=\\\"stringPanel Name\\\"></textarea>\\n                        <hr>\\n                        <div class=\\\"propertiesbarheader label\\\">Value</div>\\n                        <textarea class=\\\"textarea stringProperties\\\" data-testid=\\\"textarea-string-properties\\\"></textarea>\\n                        <hr>\\n                        <div class=\\\"propertiesbarheader label\\\">Panel Type</div>\\n                        <form>\\n                            <input type=\\\"radio\\\" name=\\\"type\\\" id=\\\"string_radio_text\\\" value=\\\"text\\\" data-testid=\\\"text\\\"> text<br>\\n                            <input type=\\\"radio\\\" name=\\\"type\\\" id=\\\"string_radio_html\\\" value=\\\"html\\\" data-testid=\\\"html\\\"> html<br>\\n                            <input type=\\\"radio\\\" name=\\\"type\\\" id=\\\"string_radio_json\\\" value=\\\"json\\\" data-testid=\\\"json\\\"> json<br>\\n                            <input type=\\\"radio\\\" name=\\\"type\\\" id=\\\"string_radio_list\\\" value=\\\"list\\\" data-testid=\\\"list\\\"> list<br>\\n                            <input type=\\\"radio\\\" name=\\\"type\\\" id=\\\"string_radio_plot\\\" value=\\\"plot\\\" data-testid=\\\"plot\\\"> plot <br>\\n                        </form>\\n                        <hr>\\n                        <div class=\\\"propertiesbarheader label\\\">Log</div>\\n                        <div id=\\\"propertiesBarLog\\\" class=\\\"log\\\"></div>\\n                        <button id=\\\"panelEditButton\\\">Apply</button>\\n                        <button id=\\\"cancelPanelEdit\\\">Cancel</button>\");\n          element.outputs[0].value = element.value;\n          var panelComp = selectComp(element.GUID);\n          $('input#string_radio_' + panelComp.inputs[0].type).prop('checked', true);\n          var newName;\n          $('input.stringPanel.Name').on('change keyup paste', function () {\n            newName = $('input.stringPanel.Name').val();\n            d3.select('text#nodeTitle' + panelComp.GUID).text(newName);\n            d3.select('rect#' + panelComp.GUID).attr('width', 10 + newName.length * 6);\n          });\n          $('textarea.textarea.stringProperties').prop('disabled', panelComp.child); // Resets value if parent is updated while property bar is open\n          // A narrower trigger event can be found\n\n          var updateText = function updateText(comp) {\n            $('textarea.stringProperties').text(function () {\n              return comp.inputs[0].value;\n            });\n          };\n\n          $('#mainGrid').on('click', function () {\n            return updateText(panelComp);\n          });\n          $('textarea.stringProperties').text(function () {\n            return panelComp.inputs[0].value;\n          });\n          $('input.stringPanel.Name').val(panelComp.Name);\n          $('button#panelEditButton').on('click', function () {\n            submitPanelEdit(reactContext, element.GUID);\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n          $('button#cancelPanelEdit').on('click', function () {\n            cancelEdit();\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n        }\n      });\n    } else if (element.type === 'optionList') {\n      d3.select('g#comp-' + element.GUID).on('dblclick', function () {\n        d3.select('rect#' + element.GUID).attr('stroke-width', '1').attr('stroke', 'black');\n        reactContext.setState({\n          optionListStarted: true,\n          optionlistRectid: element.GUID\n        });\n\n        if (!reactContext.state.doubleClicked) {\n          reactContext.setState({\n            doubleClicked: true\n          });\n          $('div#propertiesBarContents').append(\"\\n                        <div class=\\\"propertiesbar title\\\">Option list properties</div>\\n                        <div class=\\\"propertiesbar label\\\">options (as dictionary)</div>\\n                        <textarea class=\\\"textarea optionlistProperties\\\"></textarea>\\n                        <hr>\\n                        <div class=\\\"propertiesbar label\\\">\\n                            Preview:\\n                        </div>\\n                        <select id=\\\"propertisBarSelecId\\\">\\n\\n                        </select>\\n                        <hr>\\n                        <div class=\\\"propertiesbar label\\\">\\n                            Log\\n                        </div>\\n                        <div id=\\\"propertiesBarLog\\\" class=\\\"log\\\"></div>\\n                        <button id=\\\"optionListEditButton\\\">Apply</button>\\n                        <button id=\\\"cancelOptionListEdit\\\">Cancel</button>\");\n          handleOptionListEdit(element.GUID);\n          $('button#optionListEditButton').on('click', function () {\n            submitOptionListEdit(reactContext, element.GUID);\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n          $('button#cancelOptionListEdit').on('click', function () {\n            cancelEdit();\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n        }\n      });\n    } else if (element.type === 'slider') {\n      d3.select('g#comp-' + element.GUID).on('dblclick', function () {\n        if (!reactContext.state.doubleClicked) {\n          reactContext.setState({\n            doubleClicked: true\n          });\n          $('div#propertiesBarContents').append(\"\\n                        <div class=\\\"propertiesbarheader label\\\">Slider</div>\\n                        <div id=\\\"numerical_slider_container\\\">\\n                            <div id=\\\"string_input_label\\\">Min value </div>\\n                            <input type=\\\"number\\\" id=\\\"new_slider_min_value\\\" data-testid=\\\"min-input\\\">\\n                        </div>\\n                        <div id=\\\"numerical_slider_container\\\">\\n                            <div id=\\\"string_input_label\\\">Max value </div>\\n                            <input type=\\\"number\\\" id=\\\"new_slider_max_value\\\" data-testid=\\\"max-input\\\">\\n                        </div>\\n                        <div id=\\\"numerical_slider_container\\\">\\n                            <div id=\\\"string_input_label\\\">Step: </div>\\n                            <input type=\\\"number\\\" id=\\\"new_slider_step_value\\\" data-testid=\\\"step-input\\\">\\n                        </div>\\n                        <div id=\\\"numerical_slider_container\\\" data-testid=\\\"curr-val-container\\\">\\n                            <div id=\\\"string_input_label\\\">Current value </div>\\n                            <input type=\\\"number\\\" id=\\\"new_slider_current_value\\\" data-testid=\\\"curr-val-input\\\">\\n                        </div>\\n                        <button id=\\\"sliderEditButton\\\" style='margin-left: 10px; margin-top: 5px;' data-testid=\\\"save-changes\\\">Save</button>\\n                        <button id=\\\"cancelSliderEdit\\\" style='margin-top: 5px;' data-testid=\\\"cancel-changes\\\">Cancel</button>\\n                        <div id=\\\"propertiesBarLog\\\" class=\\\"log\\\"></div>\\n                    \");\n          $('input#new_slider_min_value').val(element.min);\n          $('input#new_slider_max_value').val(element.max);\n          $('input#new_slider_step_value').val(element.step);\n          $('input#new_slider_current_value').val(element.value);\n          $('button#sliderEditButton').on('click', function (e) {\n            submitSliderEdit(reactContext, element.GUID);\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n          $('button#cancelSliderEdit').on('click', function (e) {\n            cancelEdit();\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n        }\n      });\n    } else if (element.type === 'toggle') {\n      var currentToggle = selectComp(element.GUID);\n      d3.select('g#comp-' + element.GUID).on('dblclick', function () {\n        var toggleValue = $('text.nodetitle.node_title' + element.GUID).text();\n        d3.select('text.nodetitle.node_title' + element.GUID).text(function () {\n          if (toggleValue === 'True') {\n            currentToggle.value = 'False';\n            currentToggle.outputs[0].value = 'False';\n            return 'False';\n          } else {\n            currentToggle.value = 'True';\n            currentToggle.outputs[0].value = 'True';\n            return 'True';\n          }\n        }).attr('fill', function () {\n          if (toggleValue === 'True') {\n            d3.select('#dummyRect_' + element.GUID).attr('fill', '#2c3e50');\n            return '#ecf0f1';\n          } else {\n            d3.select('#dummyRect_' + element.GUID).attr('fill', '#ecf0f1');\n            return '#2c3e50';\n          }\n        });\n        redrawDependents(currentToggle.GUID);\n      });\n    } else if (element.type === 'deep') {\n      d3.select('g#comp-' + element.GUID).on('dblclick', function () {\n        if (!reactContext.state.doubleClicked) {\n          reactContext.setState({\n            doubleClicked: true\n          });\n          $('div#propertiesBarContents').append(\"\\n                        <div class=\\\"propertiesbarheader title\\\">Deep Function Properties</div>\\n                        <div class=\\\"propertiesbarheader label\\\">Function Name</div>\\n                        <input class=\\\"deepProp Name\\\" data-testid=\\\"title-deep\\\"></textarea>\\n                        <hr>\\n                        <div class=\\\"propertiesbarheader label\\\">Input List</div>\\n                        <textarea class=\\\"deepProp textarea stringProperties Val\\\" data-testid=\\\"input-list-deep\\\"></textarea>\\n                        <hr>\\n                        <div class=\\\"propertiesbarheader label\\\">Deep function URL</div>\\n                        <input class=\\\"deepProp url\\\" data-testid=\\\"deep-url\\\"></textarea>\\n                        <div></div>\\n                        <hr>\\n                        <div class=\\\"propertiesbarheader label\\\">Log</div>\\n                        <div id=\\\"propertiesBarLog\\\" class=\\\"log\\\"></div>\\n                        <button id=\\\"deepEditButton\\\">Apply</button>\\n                        <button id=\\\"cancelDeepEdit\\\">Cancel</button>\");\n          var deepComp = selectComp(element.GUID);\n          $('input.deepProp.Name').val(deepComp.Name);\n          $('textarea.deepProp.Val').val(deepComp.inputNames);\n          $('input.deepProp.url').val(deepComp.url);\n          $('button#deepEditButton').on('click', function () {\n            submitDeepEdit(reactContext, element.GUID);\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n          $('button#cancelDeepEdit').on('click', function () {\n            cancelEdit();\n            reactContext.setState({\n              doubleClicked: false\n            });\n          });\n        }\n      });\n    } //TODO : else if other types than string, then you have to open the properties window.\n\n  });\n} // End of HandleDoubleClick\n\n/**\n * This file contains all information about the component, which are:\n * name, short name, description, type, dftype (deep or shallow), category, subcategory, input list, output list, color, background image\n * This file also contains the mapping between the tab name and its id\n */\nconst details = [{\n  name: 'Average',\n  shname: 'AVG',\n  desc: 'The average between two values',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: 'Lists',\n  inputList: [{\n    name: 'InputList',\n    shortName: 'in_01',\n    desc: 'first input',\n    default_value: '1.0'\n  }],\n  outputList: [{\n    name: 'average',\n    shortName: 'avg',\n    desc: 'the average between input 1 and input 2'\n  }, {\n    name: 'log_',\n    shortName: 'log',\n    desc: 'debugging logger'\n  }],\n  color: '#F23322',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/958f17e5cfad4cdbbe26dd5affbbbfa2.png'\n}, {\n  name: 'Add',\n  shname: '+',\n  desc: 'Add two numbers.',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: 'Math',\n  inputList: [{\n    name: 'InputList',\n    shortName: 'inp_1',\n    desc: 'first number',\n    default_value: '1.0'\n  }],\n  outputList: [{\n    name: 'sum_',\n    shortName: 'sum',\n    desc: 'sum of the two inputs'\n  }, {\n    name: 'log_',\n    shortName: 'log',\n    desc: 'output log'\n  }],\n  color: '#F23322',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/e2c5a0d28dca45c38b0e96e6723e2bde.png'\n}, {\n  name: 'Max',\n  shname: 'max',\n  desc: 'Maximum value of a list of inputs.',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: 'Lists',\n  inputList: [{\n    name: 'inputList',\n    shortName: '_list',\n    desc: 'the input list ',\n    default_value: '[0.0, 1.0, 2.0]'\n  }],\n  outputList: [{\n    type: 'list',\n    name: 'output_',\n    shortName: 'output_',\n    desc: 'maximum value '\n  }, {\n    name: 'log_',\n    shortName: 'log',\n    desc: 'output lot'\n  }],\n  color: '#F23322',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/96524490dcdf4317a9a3e80b9d4762ba.png'\n}, {\n  name: 'Min',\n  shname: 'min',\n  desc: 'Minimum value of a list of inputs',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: 'Lists',\n  inputList: [{\n    name: 'inputList',\n    shortName: '_list',\n    desc: 'the input list ',\n    default_value: '[0, 1, 2.0]'\n  }],\n  outputList: [{\n    type: 'list',\n    name: 'output_',\n    shortName: 'min_',\n    desc: 'minimum value'\n  }, {\n    name: 'log_',\n    shortName: 'log',\n    desc: 'output log'\n  }],\n  color: '#F23322',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/5d844dbee9f54f9ba9891082ac8a52c5.png'\n}, {\n  name: 'Difference 2',\n  shname: 'Difference',\n  desc: 'Substraction',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: 'Math',\n  inputList: [{\n    name: 'in_01',\n    shortName: 'in_01',\n    desc: 'first input',\n    default_value: '10.0'\n  }, {\n    name: 'in_02',\n    shortName: 'in_02',\n    desc: 'second input',\n    default_value: '5.0'\n  }],\n  outputList: [{\n    name: 'output_',\n    shortName: 'out_',\n    desc: 'difference'\n  }, {\n    type: 'float',\n    name: 'log_',\n    shortName: 'log',\n    desc: 'log output'\n  }],\n  color: '#9b59b6',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/f4fbd2bace8d4fb6b8982ccfaf310f63.png'\n}, {\n  name: 'Json Navigator',\n  shname: 'jsonNav',\n  desc: 'Select item from json object by path',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: '',\n  inputList: [{\n    name: 'input_json',\n    shortName: 'input_json',\n    desc: 'input_json',\n    default_value: 'null'\n  }, {\n    name: 'path',\n    shortName: 'path',\n    desc: 'path',\n    default_value: 'null'\n  }],\n  outputList: [{\n    type: 'str',\n    name: 'output',\n    shortName: 'output',\n    desc: 'output'\n  }, {\n    type: 'str',\n    name: 'log_',\n    shortName: 'log',\n    desc: 'output log'\n  }],\n  color: '#c0392b',\n  backgroundImage: ''\n}, {\n  name: '3d Visualizer',\n  shname: '3dvis',\n  desc: '',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: '',\n  inputList: [{\n    name: 'url',\n    shortName: 'url',\n    default_value: 'null'\n  }],\n  outputList: [{\n    type: 'str',\n    name: 'iframe',\n    shortName: 'url',\n    desc: 'null'\n  }],\n  color: '#E38A74',\n  backgroundImage: ''\n}, {\n  name: 'Image Display',\n  shname: 'imshow',\n  desc: '',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: '',\n  inputList: [{\n    name: '_url',\n    shortName: 'url',\n    desc: 'url',\n    default_value: 'https://user-images.githubusercontent.com/6969514/60951247-4bac1200-a32b-11e9-8b66-02bc19953461.png'\n  }],\n  outputList: [{\n    type: 'str',\n    name: 'image_'\n  }],\n  color: '#F23322',\n  backgroundImage: ''\n}, {\n  name: 'YouTube Display',\n  shname: 'Youtube',\n  desc: '',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: '',\n  inputList: [{\n    name: '_url',\n    shortName: '_url',\n    desc: 'youtube url',\n    default_value: 'null'\n  }],\n  outputList: [{\n    type: 'str',\n    name: 'youTube_',\n    shortName: 'youTube',\n    desc: ''\n  }],\n  color: '#c0392b',\n  backgroundImage: ''\n}, {\n  name: 'Plot Panel',\n  shname: 'plot panel',\n  desc: '',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'Basic',\n  subcategory: '',\n  inputList: [{\n    name: 'inputs',\n    shortName: 'in',\n    default_value: 'null',\n    desc: 'in'\n  }],\n  outputList: [{\n    name: 'plot',\n    shortName: 'plot',\n    desc: 'plot'\n  }, {\n    name: 'log_',\n    shortName: 'log_',\n    desc: 'log_'\n  }],\n  color: '#f1c40f',\n  backgroundImage: ''\n}, {\n  name: 'String To List',\n  shname: 'str2list',\n  desc: 'Converts a list-like string into a list object.',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'String Operations',\n  subcategory: 'Lists',\n  inputList: [{\n    name: 'inputString',\n    shortName: '_str',\n    desc: 'list-like string',\n    default_value: '[0, 1, 2]'\n  }],\n  outputList: [{\n    type: 'html',\n    name: 'help_',\n    shortName: 'h',\n    desc: 'help'\n  }, {\n    type: 'list',\n    name: 'list_',\n    shortName: 'lst_',\n    desc: 'list object'\n  }, {\n    type: 'str',\n    name: 'log_',\n    shortName: 'log',\n    desc: 'output debugging log ... '\n  }],\n  color: '#F23322',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/9c0712eb82084d33af0519131126d0e7.png'\n}, {\n  name: 'Replace',\n  shname: 'replace',\n  desc: '',\n  type: 'component',\n  dftype: 'shlow',\n  category: 'String Operations',\n  subcategory: '',\n  inputList: [{\n    name: 'main_text',\n    shortName: 'main_text',\n    desc: 'main_text',\n    default_value: 'null'\n  }, {\n    name: 'old_string',\n    shortName: 'old_string',\n    desc: 'old_string',\n    default_value: 'null'\n  }, {\n    name: 'new_string',\n    shortName: 'new_string',\n    desc: 'new_string',\n    default_value: 'null'\n  }],\n  outputList: [{\n    type: 'str',\n    name: 'help_',\n    shortName: 'h',\n    desc: 'help'\n  }, {\n    type: 'str',\n    name: 'new_text',\n    shortName: 'new_text',\n    desc: 'the output text'\n  }, {\n    type: 'str',\n    name: 'log',\n    shortName: 'log',\n    desc: 'log output'\n  }],\n  color: '#7FA696',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/c5571f6199314a3daf2186534a545b13.png'\n}];\nconst tabIdMapping = {\n  'Basic': 'div.toolbarbuttonsContainer.Basic',\n  'User Definitions': 'div.toolbarbuttonsContainer.User',\n  'String Operations': 'div.toolbarbuttonsContainer.StringOps'\n};\nconst toggleButtonInfo = [{\n  name: 'Basic',\n  id: 'Basic',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/7e35adc61ca94a94b72d205029bbaf55.png'\n}, {\n  name: 'User Definitions',\n  id: 'User',\n  backgroundImage: 'https://image.flaticon.com/icons/png/512/5039/5039159.png'\n}, {\n  name: 'String Operations',\n  id: 'StringOps',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/00cebc445ced4d8d89cf842609040d43.png'\n}, {\n  name: 'Main Inputs',\n  id: 'Input',\n  backgroundImage: 'https://storage.googleapis.com/ghostbucket111/icons/input.png'\n}];\n\nfunction addGenericComponentIcon() {\n  for (var index = 0; index < details.length; index++) {\n    var currInfo = details[index];\n    var outputNameList = currInfo.outputList.map(function (elem) {\n      return elem.name;\n    });\n    var newComp = addNewComponentIcon(this, 'addComp', currInfo.name, currInfo.shname, currInfo.desc, currInfo.type, currInfo.dftype, 'mainButtonItem 1 1 tooltip ', currInfo.backgroundImage, currInfo.inputList, outputNameList, currInfo.color, currInfo.url);\n    $(tabIdMapping[currInfo.category]).append(newComp);\n  }\n}\n\nfunction addNewComponentIcon(reactContext, id, name, shname, desc, type, dftype, className, imageUrl, inputList, outputList, color, url) {\n  var newCompString = '<div id=\"' + id + '\" name=\"' + name + '\" shname=\"' + shname + '\" desc=\"' + desc + '\" type=\"' + type + '\" dftype=\"' + dftype + '\" class=\"' + className + '\" style=\"background-image:url(' + imageUrl + ')\">' + '<p class=\"iconText\">' + (imageUrl === \"\" ? name : \"\") + '</p>' + '<span class=\"tooltiptext\" id=\"hintx\">' + name + '</span>' + '</div>';\n  var newComp = $(newCompString);\n  newComp.on('click', function () {\n    if (type === 'component' || type === 'deep') {\n      var kwargs = {\n        shortName: shname,\n        dfType: dftype\n      };\n      CreateNewComponent(reactContext, null, name, kwargs, inputList, outputList, color, url);\n    } else if (type === 'optionList') {\n      CreateNewOptionList(reactContext, null, desc);\n    }\n  });\n  return newComp;\n}\n\nfunction addRightToggleButton() {\n  var parentDiv = $('div.toolbarRightToggleNavigator.1');\n\n  var _loop = function _loop(index) {\n    var currBtn = toggleButtonInfo[index];\n    var newToggleString = '<div class=\"rightToggleButton 1\" style=\"background-image:url(' + currBtn.backgroundImage + '\"><span id=\"hint\">' + currBtn.name + '</span></div>';\n    var newToggle = $(newToggleString);\n    newToggle.on('click', function () {\n      setCurrentCategory('componentTab', currBtn.id, currBtn.name);\n    });\n    parentDiv.append(newToggle);\n  };\n\n  for (var index = 0; index < toggleButtonInfo.length; index++) {\n    _loop(index);\n  }\n}\n\nfunction setCurrentCategory(panel_id, id, name) {\n  var toolbarbuttonsContainer = $('div.toolbarbuttonsContainer.' + panel_id);\n\n  for (var i = 0; i < toolbarbuttonsContainer.length; i++) {\n    if (toolbarbuttonsContainer[i].classList[2] === id) {\n      $('div.toolbarbuttonsContainer.' + panel_id + '.' + id).show();\n      $('span.currentTab.' + panel_id).text(name);\n    } else {\n      $('div.toolbarbuttonsContainer.' + panel_id + '.' + toolbarbuttonsContainer[i].classList[2]).hide();\n    }\n  }\n}\n\n/**\n * Adds a new user defined object. This function is called in componentDidMount in the main Canvas\n * @param {String} name the component's name\n * @param {String} shname the component's short name\n * @param {String} desc the component's description\n * @param {String} type the component's type (must be Component/OptionList/String)\n * @param {String} dftype the component's depth type (must be shlow or dp)\n * @param {String} category the component's category (always User Definitions)\n * @param {List} inputList the component's input list. It is a list of dictionary. \"name\" attribute is compulsory, \n * other attributes such as short name, description, input type and default value are optional\n * @param {List} outputList the component's output list. It is a list of dictionary. \"name\" attribute is compulsory, \n * other attributes such as short name and description are optional\n * @param {String} color the component's color in hex code. The default color is #F23322 (orange)\n * @param {String} backgroundImage the URL of the component's icon in the left property bar. This field is optional.\n * @param {Function} calledFunc the corresponding function for that component.\n */\n\nvar typeList = ['component', 'optionList', 'string', 'deep'];\nvar dftypeList = ['shlow', 'dp'];\nvar categoryList = ['Basic', 'User Definitions', 'String Operations'];\n\nfunction addNewUdo(name, shname, desc, type, dftype, category, inputList, outputList) {\n  var color = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : \"#F23322\";\n  var backgroundImage = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : \"\";\n  var calledFunc = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : undefined;\n  var url = arguments.length > 11 ? arguments[11] : undefined;\n\n  //check requirements\n  if (!typeList.includes(type)) {\n    throw new Error('Pass a valid type');\n  }\n\n  if (!dftypeList.includes(dftype)) {\n    throw new Error('Pass a valid dftype');\n  }\n\n  if (!categoryList.includes(category)) {\n    throw new Error('Pass a valid category');\n  }\n\n  var undefInputs = inputList.filter(function (elem) {\n    return elem.name === undefined;\n  });\n  var undefOutputs = outputList.filter(function (elem) {\n    return elem.name === undefined;\n  });\n\n  if (undefInputs.length + undefOutputs.length !== 0) {\n    throw new Error('Each input/output must have a \"name\" attribute');\n  }\n\n  var newComp = {\n    name: name,\n    shname: shname,\n    desc: desc,\n    type: type,\n    dftype: dftype,\n    category: category,\n    inputList: inputList,\n    outputList: outputList,\n    color: color,\n    backgroundImage: backgroundImage,\n    url: url\n  };\n  details.push(newComp);\n\n  if (dftype === 'shlow') {\n    if (typeof calledFunc === 'function') {\n      shallow_functions[name] = calledFunc;\n    } else {\n      throw new Error('Shallow functions require a function reference');\n    }\n  } else {\n    //Already dftype is verified to be one of two\n    if (url !== undefined) ; else {\n      throw new Error('Deep functions require a url');\n    }\n  }\n}\n/**\n * Take a list of components that are passed by props and append all of them to the database\n * @param {List} list a list of dictionary, containing the information about the components\n */\n\n\nfunction addAllUdo(list) {\n  if (list !== undefined) {\n    for (var index = 0; index < list.length; index++) {\n      var element = list[index];\n      var name = element.name.toString();\n      var shname = element.shname === undefined ? '' : element.shname.toString();\n      var desc = element.desc === undefined ? '' : element.desc.toString();\n      var type = element.type;\n      var dftype = element.dftype;\n      var category = \"User Definitions\";\n      var inputList = element.inputList;\n      var outputList = element.outputList;\n      var color = element.color === undefined ? '#F23322' : element.color.toString();\n      var backgroundImage = element.backgroundImage === undefined ? '' : element.backgroundImage.toString();\n      var calledFunc = element.func;\n      var url = element.url;\n\n      try {\n        addNewUdo(name, shname, desc, type, dftype, category, inputList, outputList, color, backgroundImage, calledFunc, url);\n      } catch (e) {\n        console.error(e.message);\n        alert(e.message);\n      }\n    }\n  }\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"/* Copy from newUIstyle_light.css*/\\nbody {\\n    -webkit-user-select: none;\\n    -khtml-user-select: none;\\n    -moz-user-select: none;\\n    -o-user-select: none;\\n    user-select: none;\\n    overflow-y: hidden; /* Hide vertical scrollbar */\\n    overflow-x: hidden;\\n}\\n\\nsvg {\\n    border: solid 1px #565656;\\n}\\n\\n#checks {\\n    margin: 10px;\\n}\\n\\ntext {\\n    pointer-events: none;\\n    user-select: none;\\n    font-size: small;\\n    font-family: 'ubuntu mono';\\n}\\n\\n.nodeLog {\\n    font-size: small;\\n    font-family: monospace;\\n    pointer-events: none;\\n}\\n\\ninput:focus,\\nselect:focus,\\ntextarea:focus,\\nbutton:focus {\\n    outline: none;\\n}\\n\\nrect:focus {\\n    outline: none;\\n}\\n\\n.output {\\n    font-family: monospace;\\n    font-size: small;\\n    color: white;\\n}\\n\\n.input {\\n    font-family: monospace;\\n    font-size: small;\\n}\\n\\n.nodetitle {\\n    font-family: 'ubuntu mono';\\n    font-size: 13px;\\n    font-weight: bold;\\n    color: white;\\n    pointer-events: none;\\n    text-align: center;\\n}\\n\\ndiv#someData {\\n    padding: 8px;\\n    padding-top: 25px;\\n    font-size: x-small;\\n    font-family: monospace;\\n}\\n\\ncircle {\\n    cursor: pointer;\\n}\\n\\ndiv#PropertiesBarSelector {\\n    width: 4px;\\n    position: fixed;\\n    right: 501px;\\n    background-color: #000000;\\n    height: 100%;\\n    top: 0px;\\n    cursor: ew-resize;\\n}\\n\\ndiv#PropertiesBar {\\n    background-color: #2b3d50;\\n    right: 0px;\\n    top: 0px;\\n    min-height: 35%;\\n    transition-timing-function: ease-in-out;\\n    transition: height 2s;\\n    transition-delay: 1s;  \\n    width: 220px;\\n    top: 60px;\\n    padding-left: 5px;\\n    padding-top: 5px;\\n}\\n\\ndiv#mainGrid {\\n    position: relative;\\n    top: 0px;\\n    left: 0px;\\n    background-color: #ececec;\\n}\\n\\ndiv#textAreaBox {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    opacity: 0.8;\\n}\\n\\ndiv#optionlistBox {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    opacity: 0.8;\\n}\\n\\nselect#optionListSelectItems {\\n    background: white;\\n    opacity: 1;\\n    font-family: monospace;\\n    font-weight: bold;\\n    border: 1px solid black;\\n    border-radius: 3px;\\n}\\n\\nh5 {\\n    font-family: monospace;\\n    margin-top: 1px;\\n    margin-bottom: 4px;\\n    text-align: center;\\n}\\n\\ndiv#LeftPropertiesBar {\\n    width: 200px;\\n    position: fixed;\\n    background-color: #2b3d50;\\n    left: 0px;\\n    top: 0px;\\n}\\n\\n.additionalData {\\n    border-radius: 7px;\\n    font-size: x-small;\\n    width: 222px;\\n    background-color: #ffffff47;\\n    font-family: monospace;\\n    color: #5d5d5d;\\n    padding: 3px;\\n    border: none;\\n}\\n\\ndiv#LeftPropertiesBarSelector {\\n    width: 5px;\\n    height: 100%;\\n    display: none;\\n    position: fixed;\\n    left: 200px;\\n    background-color: #252525;\\n    top: 0px;\\n    cursor: ew-resize;\\n}\\n\\ndiv#TopPropertiesBar {\\n    position: fixed;\\n    top: 0px;\\n    left: 0px;\\n    width: 100%;\\n    height: 30px;\\n    background-color: #e6e6e6;\\n}\\n\\ndiv#TopPropertiesBarSelector {\\n    height: 2px;\\n    width: 100%;\\n    position: fixed;\\n    left: 0px;\\n    border-bottom: 1px solid #858585;\\n    top: 47px;\\n    cursor: ns-resize;\\n}\\n\\nbutton.menubarButtons {\\n    background-color: #6d6d6d;\\n    border: none;\\n    cursor: pointer;\\n    color: #444444;\\n    color: #cacaca;\\n    font-family: 'Poppins', sans-serif;\\n}\\n\\nbutton.menubarButtons:hover {\\n    background-color: #aaabaa;\\n}\\n\\ndiv#DefName {\\n    width: 100%;\\n    height: 32px;\\n    padding: 0px 0px;\\n    background: #2b3d50;\\n    border-bottom: 1px solid #434343;\\n}\\n\\ndiv#BottomPropertiesBar {\\n    position: fixed;\\n    bottom: 0px;\\n    height: 20px;\\n    left: 0px;\\n    border-top: 1px solid #757575;\\n    box-shadow: 0px -1px 0px #313131;\\n    background-color: #525252;\\n    background: linear-gradient(180deg, rgba(96, 96, 96, 1) 0%, rgba(82, 82, 82, 1) 100%);\\n    width: 100%;\\n}\\n\\na#changeTitleName {\\n    color: #cfd8dc;\\n    text-decoration: none;\\n}\\n\\n.ccbody {\\n    width: 100%;\\n}\\n\\n.ccatheader {\\n    padding: 0px 3px;\\n    font-family: 'Ubuntu', sans-serif;\\n    font-size: small;\\n    /* border: 1px solid #2c67a5; */\\n    color: #e7e7e7;\\n    padding: 4px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n\\nbutton.standardcat.button {\\n    vertical-align: middle;\\n    border: 1px solid #444444;\\n    width: 32px;\\n    height: 32px;\\n    margin: 1px;\\n    background: none;\\n    background: -moz-linear-gradient(top, #d6d4d4 0%, #adadad 100%);\\n    filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#d6d4d4', endColorstr='#adadad', GradientType=0);\\n    font-family: 'Ubuntu', sans-serif;\\n    font-size: x-small;\\n    color: #ffffff;\\n    cursor: pointer;\\n    display: inline-grid;\\n}\\n\\ndiv#topLeftLogo {\\n    width: 27px;\\n    height: 32px;\\n    float: left;\\n    background-image: url(https://user-images.githubusercontent.com/6969514/70302709-af822a80-1838-11ea-913b-5f935ea282ed.png);\\n    background-repeat: no-repeat;\\n    background-size: 26px;\\n    background-position: center;\\n    cursor: pointer;\\n}\\n\\ndiv#settingsIcon {\\n    float: right;\\n    position: fixed;\\n    top: 0px;\\n    color: #c5c5c5;\\n    right: 0px;\\n    text-align: center;\\n    padding: 11px;\\n}\\n\\nbutton.standardcat.button:hover {\\n    background: #c1c1c1;\\n}\\n\\ndiv#Addedmessage {\\n    font-family: monospace;\\n    color: white;\\n    padding: 2px;\\n}\\n\\n#minimizeUpperBar {\\n    width: 36px;\\n    text-align: center;\\n    background-color: #2b3d50;\\n    position: absolute;\\n    top: 0px;\\n    right: 0px;\\n    height: 16px;\\n    border-radius: 0px 0px 2px 2px;\\n    color: #c5c5c5;\\n    cursor: pointer;\\n    border-left: 1px solid #464646;\\n    border-bottom: 1px solid #464646;\\n    margin-top: -4px;\\n}\\n\\ndiv#maximizeUpperBar {\\n    width: 36px;\\n    text-align: center;\\n    background-color: #5d5d5d;\\n    position: absolute;\\n    top: 38px;\\n    right: 0px;\\n    height: 16px;\\n    border-radius: 0px 0px 2px 2px;\\n    color: #ababab;\\n    cursor: pointer;\\n    margin-top: -4px;\\n    text-shadow: 1px 1px 1px #4b4b4b;\\n}\\n\\n.propertiesbar.title {\\n    font-family: 'Ubuntu', sans-serif;\\n    font-size: small;\\n    margin: 0px;\\n    padding: 3px;\\n}\\n\\n.propertiesbarheader.title {\\n    font-family: 'Ubuntu', sans-serif;\\n    font-size: small;\\n    margin: 0px;\\n    padding: 3px;\\n}\\n\\n.propertiesbar.label {\\n    font-family: 'Ubuntu', sans-serif;\\n    font-size: small;\\n    width: 90%;\\n    color: #2f2f2f;\\n    padding: 3px 10px;\\n    background-color: gray;\\n    border-bottom: 1px solid #909090;\\n    border-radius: 6px 6px 0px 0px;\\n    text-shadow: 1px 1px 0px #a5a5a5;\\n}\\n\\ntextarea.textarea.optionlistProperties {\\n    resize: none;\\n    width: 96.5%;\\n    font-family: 'Ubuntu Mono', monospace;\\n    height: 150px;\\n    border-radius: 0px 0px 6px 6px;\\n    border: 1px solid gray;\\n    background-color: gainsboro;\\n}\\n\\ntextarea.textarea.stringProperties {\\n    resize: none;\\n    width: 100%;\\n    padding: 0px;\\n    font-family: 'Ubuntu Mono', monospace;\\n    min-height: 10vh;\\n    border: none;\\n    border-radius: 3px;\\n    background-color: #ffffffc7;\\n}\\n\\n.propertiesbarheader.label {\\n    font-family: 'Ubuntu', sans-serif;\\n    font-size: small;\\n    font-weight: bold;\\n    width: 100%;\\n    color: #bcbcbc;\\n    padding: 3px;\\n}\\n\\nselect#propertisBarSelecId {\\n    width: 99%;\\n    padding: 1px 2px;\\n    background-color: gainsboro;\\n    border-radius: 0px 0px 6px 6px;\\n}\\n\\ndiv#propertiesBarLog {\\n    width: 100%;\\n    font-family: 'Ubuntu Mono', monospace;\\n    font-size: small;\\n    padding: 2px;\\n}\\n\\nrect.optionListoption {\\n    cursor: pointer;\\n}\\n\\nrect.optionListoption:hover {\\n    fill: #d9e3e6;\\n    stroke: #989898;\\n}\\n\\n#string_input_label {\\n    font-family: 'Ubuntu Mono', monospace;\\n}\\n\\ndiv#error {\\n    color: #c0392b;\\n    padding: 5px;\\n}\\n\\nforeignObject.textbody {\\n    font-family: 'ubuntu mono', monospace;\\n    font-size: x-small;\\n    color: #4e4e4e;\\n    overflow: auto;\\n}\\n\\ndiv#catHead {\\n    font-family: 'ubuntu';\\n    font-size: small;\\n    width: fit-content;\\n    padding: 2px 6px;\\n    color: white;\\n    font-weight: bold;\\n    margin-top: 5px;\\n    margin-left: 3px;\\n}\\n\\ndiv#catbody {\\n    margin: 0px;\\n    border-bottom: none;\\n    border-right: none;\\n}\\n\\ndiv#catcard {\\n    margin-bottom: 4px;\\n    padding: 0px;\\n}\\n\\nrect.xAnchor {\\n    cursor: ew-resize;\\n}\\n\\nrect.yAnchor {\\n    cursor: ns-resize;\\n}\\n\\nrect.xyAnchor {\\n    cursor: nwse-resize;\\n}\\n\\n/* ::-webkit-scrollbar {\\n    width: 6px;\\n    height: 10px;\\n} */\\n\\n/* Track */\\n\\n/* ::-webkit-scrollbar-track {\\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\n    -webkit-border-radius: 4px;\\n    border-radius: 4px;\\n    touch-action: manipulation;\\n} */\\n\\n/* Handle */\\n\\n/* ::-webkit-scrollbar-thumb {\\n    -webkit-border-radius: 4px;\\n    background: rgb(0, 0, 0);\\n}\\n\\n::-webkit-scrollbar-thumb:window-inactive {\\n    background: rgba(255, 0, 0, 0.4);\\n} */\\n\\npath.play {\\n    cursor: pointer;\\n}\\n\\npath.play:hover {\\n    fill: gray;\\n}\\n\\nth {\\n    border: none;\\n    background-color: gainsboro;\\n}\\n\\ntd {\\n    border: none;\\n    background-color: whitesmoke;\\n    overflow: hidden;\\n}\\n\\ntbody {\\n    font-family: ubuntu;\\n    font-size: small;\\n}\\n\\nth {\\n    font-family: ubuntu;\\n    text-align: left;\\n    font-size: small;\\n}\\n\\ndiv#propertiesBarContents {\\n    font-family: 'ubuntu mono';\\n    font-size: small;\\n    font-weight: normal;\\n    color: #ffffff;\\n    margin: 2px 0px 10px 0px;\\n}\\n\\nforeignObject.panel_status {\\n    font-family: 'ubuntu mono';\\n    font-size: x-small;\\n    color: #afefff;\\n    text-shadow: 1px 1px 1px #3d3d3d73;\\n}\\n\\ntbody {\\n    border: none;\\n}\\n\\ntable.dataframe {\\n    border: none;\\n}\\n\\nrect {\\n    cursor: move;\\n}\\n\\ninput.stringPanel.Name {\\n    width: 98%;\\n    border: none;\\n    font-size: medium;\\n    font-family: 'ubuntu mono';\\n}\\n\\ninput.deepProp.url {\\n    width: 95%;\\n    border: none;\\n    font-size: medium;\\n    font-family: 'ubuntu mono';\\n    padding: 2px;\\n    margin-left: 1px;\\n}\\n\\ninput.deepProp.Name {\\n    width: 95%;\\n    border: none;\\n    font-size: medium;\\n    font-family: 'ubuntu mono';\\n    padding: 2px;\\n    margin-left: 1px;\\n}\\n\\nforeignObject.panel_edit_mode a {\\n    font-size: x-small;\\n    color: #bdbdbd;\\n    font-family: 'ubuntu mono';\\n    position: relative;\\n    text-decoration: none;\\n    top: -8px;\\n}\\n\\ndiv#numerical_slider_container {\\n    padding: 7px;\\n    font-family: 'ubuntu';\\n}\\n\\ndiv#help_t3 {\\n    line-height: 1em;\\n    color: #ec5f66;\\n    margin-top: 5px;\\n    margin-bottom: 3px;\\n    font-weight: bold;\\n}\\n\\ndiv#help_t4 {\\n    color: #009688;\\n    margin-left: 18px;\\n    font-weight: bold;\\n    margin-top: 5px;\\n    margin-bottom: 5px;\\n}\\n\\ndiv#help_p {\\n    margin-left: 36px;\\n    margin-right: 8px;\\n    text-align: justify;\\n}\\n\\nspan#code {\\n    color: #c23d51;\\n    border-radius: 2px;\\n    font-family: Courier;\\n    font-size: xx-small;\\n    vertical-align: middle;\\n    padding: 1px 4px;\\n    background-color: #32c8ac2e;\\n}\\n\\ntable.dataframe {\\n    font-size: x-small;\\n}\\n\\nthead {\\n    font-size: x-small;\\n}\\n\\nth {\\n    font-size: x-small;\\n}\\n\\ntd {\\n    font-size: x-small;\\n}\\n\\nspan#errorTitle {\\n    color: #e91e63;\\n    font-weight: bold;\\n    background-color: #f4433638;\\n    border-radius: 3px;\\n}\\n\\na.menubarButtons {\\n    text-decoration: unset;\\n    color: #000000;\\n    text-shadow: 1px 1px 4px #4b4b4b;\\n    font-size: small;\\n    padding: 0px 6px;\\n    margin: 1px 1px;\\n    float: left;\\n}\\n\\nlabel.menubarButtons {\\n    text-decoration: unset;\\n    color: #000000;\\n    text-shadow: 1px 1px 4px #4b4b4b;\\n    font-size: small;\\n    padding: 0px 6px;\\n    margin: 1px 1px;\\n    float: left;\\n}\\n\\ndiv#buttonClickedname {\\n    color: white;\\n    font-size: small;\\n    padding: 0px 8px;\\n    margin: 0px;\\n    float: left;\\n    position: absolute;\\n    bottom: 25px;\\n    left: 224px;\\n    background-color: #3d3d3d;\\n}\\n\\npre {\\n    margin: 0px;\\n}\\n\\ninput.inputFileUpload {\\n    border: none;\\n    border-radius: 4px;\\n    margin: 2px 2px;\\n    background: #2b3d50;\\n    height: 20px;\\n    font-family: 'ubuntu mono';\\n    color: white;\\n}\\n\\ninput.submitFileUpload {\\n    border-radius: 4px;\\n    float: right;\\n    margin: 3px;\\n}\\n\\nforeignObject.fileUpload_status {\\n    font-family: 'ubuntu mono';\\n    font-size: x-small;\\n    color: #afefff;\\n    text-shadow: 1px 1px 1px #3d3d3d73;\\n}\\n\\ninput#fileUploadFormToTheCloud {\\n    border-radius: 1px;\\n    margin-left: 1px;\\n    /* height: 20px; */\\n}\\n\\na.open_uploadedFile_link {\\n    text-decoration: none;\\n    color: black;\\n    padding: 0px 6px;\\n    position: relative;\\n    top: 1px;\\n    border-radius: 2px;\\n    margin-left: 3px;\\n    background-color: #e8e8e8;\\n}\\n\\ndiv#TheContainedFile {\\n    color: white;\\n    padding: 2px 5px;\\n    font-family: 'ubuntu';\\n    display: inline;\\n    font-size: small;\\n    border-right: 1px solid gray;\\n}\\n\\ndiv#PleaseWaitOverLay {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background: #ffffff8a;\\n    color: black;\\n    text-align: center;\\n    margin: auto;\\n    line-height: 100vh;\\n}\\n\\nselect.listView {\\n    width: 198px;\\n    height: 179px;\\n    background-color: #f0f0f0;\\n    border: 1px solid gray;\\n    border-radius: 3px;\\n    font-family: 'ubuntu mono';\\n    font-size: small;\\n}\\n\\noption#someSelection {\\n    background-color: #e0e0e0;\\n    box-shadow: 0px 1px 0px white;\\n    margin-bottom: 1px;\\n}\\n\\nselect option:checked {\\n    background-color: #CECECE;\\n}\\n\\nselect option:not(:checked) {\\n    background-color: #E0E0E0;\\n}\\n\\ntext.statusTextClass {\\n    font-size: x-small;\\n}\\n\\n.subcatheader {\\n    padding-left: 1em;\\n    color: #ffca28;\\n    font-size: small;\\n    font-weight: bold;\\n}\\n\\ndiv#help_quote {\\n    border: 1px solid #cfcfcf;\\n    padding: 2px;\\n    border-radius: 3px;\\n    background-color: #f4f4f4;\\n    font-family: courier new;\\n    font-size: xx-small;\\n}\\n\\nforeignObject#halign_box {\\n    font-size: 20px;\\n    color: white;\\n    text-decoration: none;\\n    text-align: center;\\n}\\n\\nforeignObject#halign_box a {\\n    text-decoration: none;\\n    color: #b7b7b7;\\n    margin: 0px 4px;\\n}\\n\\nforeignObject#halign_box a:hover {\\n    text-decoration: none;\\n    color: #ffc107;\\n}\\n\\ni.fa.fa-pause {\\n    margin-left: -1px;\\n    padding: 0px;\\n}\\n\\nforeignObject#valign_box {\\n    font-size: 20px;\\n    text-align: center;\\n    vertical-align: middle;\\n    padding: 4px 2px;\\n}\\n\\nforeignObject#valign_box a {\\n    text-decoration: none;\\n    color: #b7b7b7;\\n    font-size: 20px;\\n    display: inline-grid;\\n}\\n\\nforeignObject#valign_box a:hover {\\n    color: #ffc107;\\n}\\n\\na#valign_icon {\\n    float: left;\\n    margin: 5px 4px;\\n}\\n\\na.standardcat.button {\\n    width: 32px;\\n    height: 32px;\\n    border: 1px solid black;\\n    display: inline-grid;\\n}\\n\\ndiv#leftbarcontainer {\\n    width: 225px;\\n    min-height: 250px;\\n    float: left;\\n    margin-top: 2.5px;\\n}\\n\\n.toolbarTopToggleItem {\\n    height: 25px;\\n    display: block;\\n    line-height: 25px;\\n    color: #1c1c1c;\\n    font-size: small;\\n    float: left;\\n}\\n\\n.toolbarTopToggleContainer {\\n    width: 225px;\\n    background-color: #aaaaaa;\\n    height: 25px;\\n    text-align: center;\\n    float: left;\\n}\\n\\ndiv#toolbar_container_1_1_2 {\\n    width: 25px;\\n    float: left;\\n    background-color: red;\\n    height: 25px;\\n    text-align: center;\\n}\\n\\ndiv#toolbar_container_1_2 {\\n    background-color: #2d2d2d;\\n    width: 225px;\\n    height: 250px;\\n}\\n\\ndiv#toolbar_container_1_2_1 {\\n    box-sizing: border-box;\\n    width: 225px;\\n    background-color: #e6e6e6;\\n    min-height: 200px;\\n    max-height: 200px;\\n    float: left;\\n    border: 1px solid #cfcfcf;\\n    overflow-y: auto;\\n    overflow-x: visible;\\n    padding-right: 25px;\\n    margin-right: -25px;\\n    position: relative\\n}\\n\\ndiv#toolbar_container_1_2_1 {\\n    -ms-overflow-style: none; /* for Internet Explorer, Edge */\\n    scrollbar-width: none; /* for Firefox */\\n    overflow-y: scroll; \\n}\\n\\ndiv#toolbar_container_1_2_1::-webkit-scrollbar {\\n    display: none; /* for Chrome, Safari, and Opera */\\n}\\n\\n.mainButtonItem {\\n    box-sizing: border-box;\\n    width: 49.5px;\\n    height: 49.5px;\\n    /*float: left; */\\n    background-color: #6060601f;\\n    display: inline-block;\\n    vertical-align: middle;\\n    background-image: url(https://user-images.githubusercontent.com/6969514/70328473-107b2400-1874-11ea-88ff-dcca67fd98a9.png);\\n    line-height: 50px;\\n    text-align: center;\\n    border: 1px solid #252525;\\n    color: #ffffffed;\\n    background-size: 36px;\\n    font-size: x-small;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    overflow: hidden;\\n}\\n\\n.mainButtonItem:hover {\\n    overflow: visible;\\n}\\n\\ndiv#toolbar_container_1_2_2 {\\n    width: 25px;\\n    float: left;\\n    height: 200px;\\n    background-color: #c1c1c1;\\n    box-sizing: border-box;\\n    border-right: 1px solid #373737;\\n    position: relative;\\n    z-index: 1;\\n}\\n\\n.rightToggleButton {\\n    background-image: url(https://www.corasupport.org/wp-content/uploads/2015/11/placeholder-icon-300x300-v1b.png);\\n    background-size: 20px;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    cursor: pointer;\\n    font-size: small;\\n    background-color: #a3a3a3;\\n    width: 23px;\\n    height: 23px;\\n    text-align: center;\\n    line-height: 25px;\\n    border: 1px solid #2d2d2d;\\n    border-bottom: 1px solid #565656;\\n}\\n\\ndiv#toolbar_container_1_2_0 {\\n    background-color: #707070;\\n    font-size: small;\\n    color: white;\\n    line-height: 25px;\\n    font-size: xx-small;\\n}\\n\\n.mainButtonItem:hover {\\n    background-color: #252525;\\n    transition: 0.2s;\\n    cursor: pointer;\\n    border: 1px solid #818181;\\n}\\n\\n.toptoggleitem {\\n    background-color: #d1d1d1;\\n    margin: 3px 4px 0px 0px;\\n    height: 20px;\\n    padding: 0px 5px;\\n    line-height: 20px;\\n    border: 1px solid #aaaaaa;\\n}\\n\\n.toptoggleitem.selected {\\n    background-color: #2b3d50;\\n    border-color: #2b3d50;\\n    color: #cfd8dc;\\n}\\n\\n.rightToggleButton:hover {\\n    background-color: #565656;\\n    transition: 0.5s;\\n    color: #ffffff;\\n    border: 1px solid #cecece;\\n}\\n\\n.rightToggleButton:focus {\\n    background-color: #ffc107;\\n    color: black;\\n    text-shadow: 0px 0px 4px black;\\n}\\n\\n.toptoggleitem:hover {\\n    border-color: #ffc107;\\n    cursor: pointer;\\n}\\n\\ndiv#NoneTabbedToolBoxText {\\n    position: relative;\\n    top: 50%;\\n    transform: rotate(-90deg);\\n    font-size: small;\\n    line-height: 25px;\\n    text-shadow: 0px 0px 4px #000000;\\n}\\n\\ndiv.rightToggleButton span#hint {\\n    position: relative;\\n    left: 30px;\\n    padding: 0px 4px;\\n    border-radius: 5px;\\n    width: fit-content;\\n    display: none;\\n    background-color: #00000066;\\n    border: 1px solid #565656;\\n    opacity: 0;\\n}\\n\\n.tooltip {\\n    position: relative;\\n    display: inline-block;\\n    /* border-bottom: 1px dotted black; */\\n  }\\n  \\nspan.tooltiptext {\\n    visibility: hidden;\\n    text-align: center;\\n    border-radius: 6px;\\n    padding: 0px 4px;\\n    /* Position the tooltip */\\n    position: absolute;\\n    display: block;\\n    color: black;\\n    background-color: white;\\n    line-height: normal;\\n    width: fit-content;\\n    top: 3px;\\n    left: 25px;  \\n    z-index: 2;\\n}\\n\\n.tooltip:hover .tooltiptext {\\n    visibility: visible;\\n}\\n\\np.iconText {\\n    display: block;\\n    text-overflow: ellipsis;\\n    width: 40px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    padding: 5px;\\n    line-height: normal;\\n}\\n  \\ndiv.mainButtonItem span#hint {\\n    position: relative;\\n    width: fit-content;\\n    display: none;\\n    opacity: 0;\\n    background-color: #ffffff;\\n    color: #000000;\\n    left: 30px;\\n    padding: 0px 4px;\\n    overflow: visible;\\n}\\n\\ndiv.mainButtonItem:hover span#hint {\\n    opacity: 1;\\n    display: block;\\n    position: relative;\\n    left: 30px;\\n    padding: 0px 4px;\\n    border-radius: 5px;\\n    width: fit-content;\\n}\\n\\ndiv.rightToggleButton:hover span#hint {\\n    opacity: 1;\\n    display: block;\\n}\\n\\n.canvas_container {\\n    position: fixed;\\n    top: 30px;\\n    left: 225px;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.canvas_container_inner {\\n    margin: 3px;\\n}\\n\\n.canvas_tab_container {\\n    background-color: #aaaaaa;\\n    height: 25px;\\n}\\n\\nh1 {\\n    margin: 0px;\\n}\\n\\ndiv#somethingLater {\\n    width: 100%;\\n    height: 1000px;\\n    background-color: #666666;\\n    overflow: scroll;\\n}\\n\\ndiv.mainButtonItem:hover span#hint {\\n    opacity: 1;\\n    display: block;\\n}\\n\\ntextarea#script_body_editor {\\n    height: 100vh;\\n}\\n\\ndiv#codeBody {\\n    height: 100vh;\\n}\\n\\n.toptoggleitem.selected {\\n    transition: 2s;\\n}\\n\\n.toptoggleitem.selected:hover {\\n    transition: 2s;\\n    min-height: 36%;\\n}\\n\\n/* Copy from jsonview.css */\\n/*\\nbody {\\n    font-family: 'Open Sans';\\n    font-size: 16px;\\n    background-color: #252525;\\n    color: #808080;\\n    box-sizing: border-box;\\n}\\n*/\\n\\n.line {\\n    margin: 4px 0;\\n    display: flex;\\n    justify-content: flex-start;\\n}\\n\\n.caret-icon {\\n    width: 18px;\\n    text-align: center;\\n    cursor: pointer;\\n}\\n\\n.empty-icon {\\n    width: 18px;\\n}\\n\\n.json-type {\\n    margin-right: 4px;\\n    margin-left: 4px;\\n}\\n\\n.json-key {\\n    color: #444;\\n    margin-right: 4px;\\n    margin-left: 4px;\\n}\\n\\n.json-index {\\n    margin-right: 4px;\\n    margin-left: 4px;\\n}\\n\\n\\n.json-value {\\n    margin-left: 8px;\\n}\\n\\n.json-number {\\n    color: #f9ae58;\\n}\\n\\n.json-boolean {\\n    color: #ec5f66;\\n}\\n\\n.json-string {\\n    color: #86b25c;\\n}\\n\\n.json-size {\\n    margin-right: 4px;\\n    margin-left: 4px;\\n}\\n\\n.hide {\\n    display: none;\\n}\";\nstyleInject(css_248z);\n\nvar loadScript = function loadScript(src) {\n  var tag = document.createElement('script');\n  tag.async = false;\n  tag.src = src;\n  document.body.appendChild(tag);\n};\n\nvar Canvas = /*#__PURE__*/function (_React$Component) {\n  _inherits(Canvas, _React$Component);\n\n  var _super = _createSuper(Canvas);\n\n  function Canvas(props) {\n    var _this;\n\n    _classCallCheck(this, Canvas);\n\n    _this = _super.call(this, props);\n    _this.state = globalVars;\n    _this.handleComponentSelection = handleComponentSelection.bind(_assertThisInitialized(_this));\n    _this.handleDoubleClick = handleDoubleClick.bind(_assertThisInitialized(_this));\n    _this.handleEdgeInitialization = handleEdgeInitialization.bind(_assertThisInitialized(_this));\n    _this.handleTheClickOnAllComponents = handleTheClickOnAllComponents.bind(_assertThisInitialized(_this));\n    _this.manageCanvas = manageCanvas.bind(_assertThisInitialized(_this));\n    _this.manageGrid = manageGrid.bind(_assertThisInitialized(_this));\n    _this.dummyToSetState = dummyToSetState.bind(_assertThisInitialized(_this));\n    _this.addGenericComponentIcon = addGenericComponentIcon.bind(_assertThisInitialized(_this));\n    _this.saveData = saveData.bind(_assertThisInitialized(_this));\n    _this.loadData = loadData.bind(_assertThisInitialized(_this));\n    _this.downloadData = downloadData.bind(_assertThisInitialized(_this));\n    _this.uploadSavedData = uploadSavedData.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      addAllUdo(this.props.udo);\n      this.manageCanvas();\n      this.loadData();\n      this.addGenericComponentIcon();\n      addRightToggleButton();\n      loadScript(\"https://cdn.plot.ly/plotly-latest.min.js\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.dummyToSetState();\n      this.manageGrid();\n      this.handleComponentSelection();\n      this.handleDoubleClick();\n      this.handleEdgeInitialization();\n      this.handleTheClickOnAllComponents();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: '#2b3d50',\n          width: '100vw',\n          height: '100vh'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, null), /*#__PURE__*/React.createElement(TopBar, {\n        saveData: this.saveData,\n        downloadData: this.downloadData,\n        uploadSavedData: this.uploadSavedData\n      }), /*#__PURE__*/React.createElement(LeftContainer, {\n        context: this\n      }));\n    }\n  }]);\n\n  return Canvas;\n}(React.Component);\n\nexport { Canvas };\n","import React from 'react';\nimport { Canvas } from 'vizpro';\n\nfunction isNumeric(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nfunction exponential(args) {\n    let input = args[0];\n    if (!isNumeric(input)) {\n        return {\n            type: ['text', 'text'],\n            value: [null, input + \" is not a number\"]\n        };\n    } else {\n        return {\n            type: ['text', 'text'],\n            value: [Math.E ** parseFloat(input), \"Success\"]\n        };\n    }\n}\n\nconst newComps = [\n    {\n        name: 'Exponential',\n        shname: 'exp',\n        desc: 'e raise to the power x',\n        type: 'component',\n        dftype: 'shlow',\n        inputList: [\n            { name: 'input', shortName: 'in_01', desc: 'first input', default_value: '10.0' },\n        ],\n        outputList: [\n            { name: 'output_', shortName: 'out_', desc: 'product' },\n            { type: 'float', name: 'log_', shortName: 'log', desc: 'log output' }\n        ],\n        color: '#F23322',\n        backgroundImage: '',\n        func: exponential,\n    },\n    {\n        name: 'Cloud - Absolute',\n        shname: 'abs',\n        type: 'deep',\n        dftype: 'dp',\n        inputList: [\n            { name: 'num', shortName: 'in_01', desc: 'first input', default_value: '10.0' },\n        ],\n        outputList: [\n            { name: 'output_', shortName: 'out_', desc: 'product' },\n        ],\n        color: '#F23322',\n        backgroundImage: '',\n        url: '{CloudFunctionURL}'\n    },    \n    {\n        name: 'Local .py',\n        shname: 'loc',\n        type: 'deep',\n        dftype: 'dp',\n        inputList: [\n            { name: 'py filepath', shortName: 'in_01', desc: 'first input', default_value: '10.0' },\n            { name: 'n', shortName: 'in_01', desc: 'first input', default_value: '10.0' },\n        ],\n        outputList: [\n            { name: 'output_', shortName: 'out_', desc: 'product' },\n            { type: 'float', name: 'log_', shortName: 'log', desc: 'log output' }\n        ],\n        color: '#10C1D7',\n        backgroundImage: '',\n        url: 'http://localhost:8080/python'\n    },\n];\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Canvas udo={newComps}/>\n        );\n    }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}